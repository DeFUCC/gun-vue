"use strict";Object.defineProperty(exports, "__esModule", {value: true});// src/core/utils.ts
var _installpkg = require('@antfu/install-pkg');
var _utils = require('@antfu/utils');
var _kolorist = require('kolorist');
function camelize(str) {
  return str.replace(/-([a-z0-9])/g, (g) => g[1].toUpperCase());
}
function pascalize(str) {
  const camel = camelize(str);
  return camel[0].toUpperCase() + camel.slice(1);
}
function camelToKebab(key) {
  const result = key.replace(/:/g, "-").replace(/([A-Z])/g, " $1").trim();
  return result.split(/\s+/g).join("-").toLowerCase();
}
var warnned = new Set();
function warnOnce(msg) {
  if (!warnned.has(msg)) {
    warnned.add(msg);
    console.warn(_kolorist.yellow.call(void 0, `[unplugin-icons] ${msg}`));
  }
}
var pending;
var tasks = {};
async function tryInstallPkg(name) {
  if (pending)
    await pending;
  if (!tasks[name]) {
    console.log(_kolorist.cyan.call(void 0, `Installing ${name}...`));
    tasks[name] = pending = _installpkg.installPackage.call(void 0, name, { dev: true, preferOffline: true }).then(() => _utils.sleep.call(void 0, 300)).catch((e) => {
      warnOnce(`Failed to install ${name}`);
      console.error(e);
    }).finally(() => {
      pending = void 0;
    });
  }
  return tasks[name];
}







exports.camelize = camelize; exports.pascalize = pascalize; exports.camelToKebab = camelToKebab; exports.warnOnce = warnOnce; exports.tryInstallPkg = tryInstallPkg;
