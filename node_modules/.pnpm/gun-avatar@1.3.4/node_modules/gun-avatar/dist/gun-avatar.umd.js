!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";(()=>{if(!function(){const t=document.createElement("canvas").getContext("2d");t.fillRect(0,0,40,40),t.drawImage(t.canvas,-40,-40,80,80,50,50,20,20);const e=t.getImageData(50,50,30,30),i=new Uint32Array(e.data.buffer),n=(t,n)=>i[n*e.width+t];return[[9,9],[20,9],[9,20],[20,20]].some((([t,e])=>0!==n(t,e)))||[[10,10],[19,10],[10,19],[19,19]].some((([t,e])=>0===n(t,e)))}())return;const t=CanvasRenderingContext2D.prototype,e=t.drawImage;function i(t,e,i,n,a,r,s,o,u){const{width:h,height:d}=function(t){const e=e=>{const i=globalThis[e];return i&&t instanceof i};if(e("HTMLImageElement"))return{width:t.naturalWidth,height:t.naturalHeight};if(e("HTMLVideoElement"))return{width:t.videoWidth,height:t.videoHeight};if(e("SVGImageElement"))throw new TypeError("SVGImageElement isn't yet supported as source image.","UnsupportedError");if(e("HTMLCanvasElement")||e("ImageBitmap"))return t}(t);n<0&&(e+=n,n=Math.abs(n)),a<0&&(i+=a,a=Math.abs(a)),o<0&&(r+=o,o=Math.abs(o)),u<0&&(s+=u,u=Math.abs(u));const l=Math.max(e,0),c=Math.min(e+n,h),m=Math.max(i,0),g=Math.min(i+a,d),f=o/n,p=u/a;return[t,l,m,c-l,g-m,e<0?r-e*f:r,i<0?s-i*p:s,(c-l)*f,(g-m)*p]}function n(t){return[3,4,7,8].some((e=>!t[e]))}e?t.drawImage=function(t,a,r){const s=9===arguments.length;if(!s)return e.apply(this,[...arguments]);const o=i(...arguments);return n(o)?void 0:e.apply(this,o)}:console.error("This script requires a basic implementation of drawImage")})();const t={};if(document){class t extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.img=document.createElement("img"),this.shadowRoot.append(this.img)}render(){this.pub=this.hasAttribute("pub")?this.getAttribute("pub"):"1234123455Ute2tFhdjDQgzR-1234lfSlZxgEZKuquI.2F-j1234434U1234Asj-5lxnECG5TDyuPD8gEiuI123",this.size=this.hasAttribute("size")?this.getAttribute("size"):400,this.round=!(!this.hasAttribute("round")&&""!=this.getAttribute("round")),this.round?this.img.style.borderRadius="100%":this.img.style.borderRadius="0%",this.dark=!(!this.hasAttribute("dark")&&""!=this.getAttribute("dark")),this.img.src=e(this.pub,this.size,this.dark)}connectedCallback(){this.render()}static get observedAttributes(){return["pub","round","size","dark"]}attributeChangedCallback(t,e,i){this.render()}}customElements.define("gun-avatar",t),document.addEventListener("DOMContentLoaded",(()=>{let t=document.getElementsByClassName("gun-avatar");for(let i of t)i.src=e(i.dataset.pub,i.dataset.size,i.dataset.dark)}))}function e(e,n=800,a=!1){var r;if(!e)return;if(null==(r=null==t?void 0:t[n])?void 0:r[e])return t[n][e];const s=document.createElement("canvas");s.width=s.height=n;const o=s.getContext("2d"),u=e.split(".").map((t=>function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split("");let i=[],n=0;for(let a of t)i[n++]=e.indexOf(a)/64;return i}(t)));return function(t,e,i,n,a=!1){var r=t.createLinearGradient(0,0,0,n);let s=70;a&&(s=0);r.addColorStop(0,`hsl(0,0%,${s+30*e}%)`),r.addColorStop(1,`hsl(0,0%,${s+30*i}%)`),t.fillStyle=r,t.fillRect(0,0,n,n)}(o,u[0][42],u[1][42],n,a),i(u[0],o,n,.42*n),o.globalCompositeOperation="lighter",i(u[1],o,n,.125*n),o.globalCompositeOperation="source-over",o.scale(-1,1),o.translate(-n/2,0),o.drawImage(s,n/2,0,n,n,0,0,n,n),t[n]=t[n]||{},t[n][e]=s.toDataURL(),t[n][e]}function i(t,e,i,n){(function(t,e=3){return[...Array(Math.ceil(t.length/e))].map((()=>t.splice(0,e)))})(t,7).forEach((t=>{if(7==t.length){let a=i/2+t[0]*i/2,r=t[1]*i,s=t[2]*n,o=360*t[3],u=100*t[4],h=100*t[5],d=t[6];e.beginPath(),e.arc(a,r,s,0,2*Math.PI,!1),e.fillStyle=`hsla(${o},${u}%,${h}%,${d})`,e.closePath(),e.fill()}}))}}));
