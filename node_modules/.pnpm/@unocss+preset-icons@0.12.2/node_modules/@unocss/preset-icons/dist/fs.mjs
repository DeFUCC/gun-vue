// src/fs.ts
import { promises as fs } from "fs";
import { resolveModule, isPackageExists } from "local-pkg";
var _collections = {};
var isLegacyExists = isPackageExists("@iconify/json");
async function loadCollectionFromFS(name) {
  if (!_collections[name])
    _collections[name] = task();
  return _collections[name];
  async function task() {
    let jsonPath = resolveModule(`@iconify-json/${name}/icons.json`);
    if (!jsonPath && isLegacyExists)
      jsonPath = resolveModule(`@iconify/json/json/${name}.json`);
    if (jsonPath) {
      const icons = JSON.parse(await fs.readFile(jsonPath, "utf8"));
      return icons;
    } else {
      return void 0;
    }
  }
}
export {
  loadCollectionFromFS
};
