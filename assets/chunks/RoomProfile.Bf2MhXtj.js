import{aN as w,u as P,i as B,aI as L,aO as H,n as N,aP as S,aR as $}from"./components.BfL1cQFx.js";import{u as j}from"./useMd.CWC-_XYj.js";import{f as z}from"./useRooms.BrDJHFg_.js";import{u as M}from"./useBackground.DH-ZD7cH.js";import"./theme.2Mja-hgs.js";import{h as p,aj as V,c as r,o,j as e,r as A,b as v,k as s,J as b,e as F,t as x,G,H as O,P as T}from"./framework.DOfjDz1B.js";const U={class:"flex flex-col items-stretch"},C={class:"flex flex-wrap items-center gap-8"},D={class:"flex flex-col flex-auto",style:{flex:"1 0"}},E={class:"flex gap-2 items-center"},I={class:"font-bold text-2xl"},J={key:0,class:"i-la-star"},q={key:1,class:"i-la-star-solid"},K={class:"text-md"},Q={class:"flex items-center flex-wrap"},W={class:"flex flex-col items-center bg-light-300 dark-bg-dark-400"},X={class:"relative"},Y={class:"flex items-center"},Z=["innerHTML"],ee={class:"px-4 max-w-55ch"},ce={__name:"RoomProfile",props:{pub:{type:String,default:""},titles:{type:Object,default:()=>w}},emits:["rooms","browse","user"],setup(_,{emit:g}){const n=_,k=g,{user:h}=P(),a=p(()=>n.pub?n.pub:B.pub),{room:l,leaveRoom:se,updateRoomProfile:te,enterRoom:oe}=L(a.value),y=j();V({name:!1,description:!1,text:!1});const R=p(()=>M({pub:a.value,size:1200,attachment:"local"}));return(u,t)=>{var c,d,m;return o(),r("div",U,[e("div",{class:"p-4 bg-cover relative flex flex-col items-center w-full",style:T({...R.value})},[e("div",C,[(o(),v(s(H),{class:"flex-1 rounded-2xl overflow-hidden min-w-20",pub:a.value,key:a.value},null,8,["pub"])),e("div",D,[e("div",E,[e("div",I,x(s(l).profile.name),1),t[3]||(t[3]=e("div",{class:"flex-1"},null,-1)),(c=s(h))!=null&&c.is?(o(),r("button",{key:0,class:"button z-100",onPointerdown:t[0]||(t[0]=i=>s(z)(a.value))},[s(l).isFavourite?(o(),r("div",q)):(o(),r("div",J))],32)):F("",!0)]),e("div",K,x(s(l).profile.description),1),e("div",Q,[t[4]||(t[4]=e("div",{class:"font-bold mr-2"},"Hosts: ",-1)),(o(!0),r(G,null,O(s(l).hosts,(i,f)=>(o(),r("div",{class:"p-2 flex flex-col items-start gap-2",key:f},[b(s(N),{pub:f,selectable:!0},null,8,["pub"])]))),128))]),b(s(S),{pub:a.value,onRoom:t[1]||(t[1]=i=>k("browse","/"))},null,8,["pub"])])])],4),A(u.$slots,"default"),e("div",W,[e("div",X,[e("div",Y,[e("div",{class:"p-4 prose max-w-65ch",innerHTML:s(y).render(((d=s(l).profile)==null?void 0:d.text)||"")},null,8,Z)])]),e("div",ee,[(o(),v(s($),{state:"offline",onUser:t[2]||(t[2]=i=>u.$emit("user",i)),roomPub:(m=s(l))==null?void 0:m.pub,key:s(l).pub},null,8,["roomPub"]))])])])}}};export{ce as default};
