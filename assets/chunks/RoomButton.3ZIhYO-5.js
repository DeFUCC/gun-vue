import{h as $,aN as w,p as C,aO as x,aZ as N,a_ as S,aI as z}from"./components.DKJnBSOs.js";import{u as P}from"./useBackground.BFcT2amZ.js";import"./theme.D-TZAyX7.js";import{p as V,h as g,c as t,o as s,j as y,b as B,e as i,k as a,t as j,w as D,N as E}from"./framework.BfubPTv1.js";const F=["src"],I={key:1,class:"font-bold ml-1"},L={key:0,class:"i-la-star"},O={key:1,class:"i-la-star-solid"},G={__name:"RoomButton",props:{pub:{type:String,default:()=>$.pub},panel:{type:Boolean,default:!0}},emits:["room","rooms","browse"],setup(l){const u=l,r=V(!1),m=g(()=>w(u.pub));C("deep");const R=g(()=>P({pub:u.pub,size:200,attachment:"local"})),{logo:p}=x(u.pub);return(n,o)=>{var d,b,f,v,c,k;return s(),t("div",{class:"px-0 flex gap-2",style:E({...R.value})},[y("button",{class:"rounded-xl flex items-center gap-2 hover-contrast-120 flex-auto bg-dark-400 bg-op-30 backdrop-blur",onClick:o[0]||(o[0]=e=>{r.value=!0,n.$emit("browse","")})},[a(p)?(s(),t("img",{key:0,class:"h-12 rounded-xl",src:a(p)},null,8,F)):i("",!0),(f=(b=(d=m.value)==null?void 0:d.room)==null?void 0:b.profile)!=null&&f.name?(s(),t("div",I,j((v=m.value)==null?void 0:v.room.profile.name.substring(0,15)),1)):i("",!0)]),y("button",{class:"button",onClick:o[1]||(o[1]=e=>a(N)(l.pub))},[(k=(c=m.value)==null?void 0:c.room)!=null&&k.isFavourite?(s(),t("div",O)):(s(),t("div",L))]),l.panel?(s(),B(a(z),{key:0,class:"break-all",open:r.value,"close-button":!1,onClose:o[5]||(o[5]=e=>r.value=!1)},{default:D(()=>[(s(),B(a(S),{key:l.pub,onRoom:o[2]||(o[2]=e=>n.$emit("room",e)),onRooms:o[3]||(o[3]=e=>n.$emit("rooms")),onBrowse:o[4]||(o[4]=e=>{n.$emit("browse",e),r.value=!1})}))]),_:1},8,["open"])):i("",!0)],4)}}};export{G as default};
