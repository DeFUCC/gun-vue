import{h as R,aO as w,p as C,aP as x,a_ as N,a$ as P,aJ as S}from"./components.CoWBpgrJ.js";import{u as z}from"./useBackground.CStGJCpp.js";import"./theme.BYxL-NXy.js";import{p as V,h as g,c as t,o as s,j as y,b as $,e as i,k as a,t as j,N as D,w as E}from"./framework.BfubPTv1.js";const F={class:"px-0 flex gap-2"},J=["src"],L={key:1,class:"font-bold ml-1 mr-3"},O={key:0,class:"i-la-star"},U={key:1,class:"i-la-star-solid"},H={__name:"RoomButton",props:{pub:{type:String,default:()=>R.pub},panel:{type:Boolean,default:!0}},emits:["room","rooms","browse"],setup(l){const u=l,r=V(!1),m=g(()=>w(u.pub));C("deep");const B=g(()=>z({pub:u.pub,size:200,attachment:"local"})),{logo:p}=x(u.pub);return(n,o)=>{var d,b,f,v,c,k;return s(),t("div",F,[y("button",{class:"rounded-xl flex items-center gap-2 hover-contrast-120 flex-auto bg-dark-400 bg-op-30 backdrop-blur",style:D({...B.value}),onClick:o[0]||(o[0]=e=>{r.value=!0,n.$emit("browse","")})},[a(p)?(s(),t("img",{key:0,class:"h-12 rounded-xl",src:a(p)},null,8,J)):i("",!0),(f=(b=(d=m.value)==null?void 0:d.room)==null?void 0:b.profile)!=null&&f.name?(s(),t("div",L,j((v=m.value)==null?void 0:v.room.profile.name.substring(0,15)),1)):i("",!0)],4),y("button",{class:"button",onClick:o[1]||(o[1]=e=>a(N)(l.pub))},[(k=(c=m.value)==null?void 0:c.room)!=null&&k.isFavourite?(s(),t("div",U)):(s(),t("div",O))]),l.panel?(s(),$(a(S),{key:0,class:"break-all",open:r.value,"close-button":!1,onClose:o[5]||(o[5]=e=>r.value=!1)},{default:E(()=>[(s(),$(a(P),{key:l.pub,onRoom:o[2]||(o[2]=e=>n.$emit("room",e)),onRooms:o[3]||(o[3]=e=>n.$emit("rooms")),onBrowse:o[4]||(o[4]=e=>{n.$emit("browse",e),r.value=!1})}))]),_:1},8,["open"])):i("",!0)])}}};export{H as default};
