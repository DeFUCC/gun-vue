import{aZ as C,i as c,a as $,aN as N,a_ as j,G as B}from"./components.BYx5MAPp.js";import{h as E,c as e,o as n,e as v,k as s,j as t}from"./framework.Cf-rbDpz.js";import"./theme.BeDAU7c0.js";const S=C.room,V={class:"flex flex-wrap items-center gap-2"},A={key:2,class:"flex flex-wrap py-4"},K={__name:"RoomActions",props:{pub:{type:String,default:()=>c.pub}},emits:["room"],setup(y,{emit:R}){const m=y,f=R,{user:l}=$(),{room:r,leaveRoom:w,enterRoom:x}=N(m.pub),p=E(()=>m.pub?m.pub:c.pub);async function g(d){var u;const o=await l.decrypt(d);console.log(o,d),B(JSON.stringify(o),"application/json",`room-${(u=r.profile)==null?void 0:u.name}.json`)}return(d,o)=>{var u,k;return n(),e("div",V,[(u=s(r).hosts)!=null&&u[s(l).pub]?(n(),e("button",{key:0,class:"button",onClick:o[0]||(o[0]=b=>{var i,a;return s(j)((a=(i=s(r).hosts)==null?void 0:i[s(l).pub])==null?void 0:a.enc)})},o[4]||(o[4]=[t("div",{class:"i-la-tools"},null,-1),t("div",{class:"ml-2"},"Renew",-1)]))):v("",!0),(k=s(r).hosts)!=null&&k[s(l).pub]?(n(),e("button",{key:1,class:"button",onClick:o[1]||(o[1]=b=>{var i,a;return g((a=(i=s(r).hosts)==null?void 0:i[s(l).pub])==null?void 0:a.enc)})},o[5]||(o[5]=[t("div",{class:"i-la-download"},null,-1),t("div",{class:"ml-2"},"Keys",-1)]))):v("",!0),p.value!=s(S).pub?(n(),e("div",A,[s(c).pub!==p.value?(n(),e("button",{key:0,class:"button",onClick:o[2]||(o[2]=b=>{s(x)(p.value),f("room")})},o[6]||(o[6]=[t("div",{class:"i-ion-enter-outline"},null,-1),t("div",{class:"ml-2"},"Enter Room",-1)]))):(n(),e("button",{key:1,class:"button",onClick:o[3]||(o[3]=b=>{s(w)(),f("room")})},o[7]||(o[7]=[t("div",{class:"i-ion-exit-outline"},null,-1),t("div",{class:"ml-2"},"Leave Room",-1)])))])):v("",!0)])}}};export{K as default};
