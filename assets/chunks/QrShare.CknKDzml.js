import{d as h,p as g,h as p,c as l,o as a,G as y,j as o,k as s,aE as C,aF as U,n as m,e as u,a0 as S}from"./framework.ap9ZVjPY.js";import{b4 as L,L as _,I as V,R}from"./components.BlQGn2de.js";import"./theme.C3LwlMya.js";const B={class:"flex flex-col bg-light-400 dark-bg-dark-400 gap-4 p-4"},E={class:"flex text-lg my-2 gap-2"},G={key:0,class:"ml-2"},I={key:1,class:"ml-2"},N={key:2,class:"button text-lg font-normal items-center"},z=h({__name:"QrShare",setup(M){const c=L(),t=g(c.value.href+c.value.search),{text:Q,copy:v,copied:f,isSupported:x}=_(),{share:b,isSupported:k}=V(),n=p(()=>{try{const r=new URL(t.value);return!!["http:","https:"].includes(r.protocol)}catch{return!1}}),d=p(()=>{try{return new URL(t.value).origin===window.location.origin}catch{return!1}}),w=()=>{n.value&&(d.value?window.location.href=t.value:window.open(t.value,"_blank","noopener,noreferrer"))};return(r,e)=>(a(),l("div",B,[y(s(R),{class:"max-w-full",data:t.value},null,8,["data"]),o("form",{class:"flex flex-col items-center",onSubmit:S(w,["prevent","stop"])},[C(o("input",{class:m(["w-full text-md break-all max-w-420px font-mono op-70 px-2 py-1",{"border-green-500":n.value,"border-red-500":t.value&&!n.value}]),"onUpdate:modelValue":e[0]||(e[0]=i=>t.value=i),placeholder:"Enter or paste URL"},null,2),[[U,t.value]]),o("div",E,[n.value?(a(),l("button",{key:0,class:m(["button text-lg font-normal items-center",{"text-green-500":d.value}]),type:"submit"},e[3]||(e[3]=[o("div",{class:"i-la-check"},null,-1),o("div",{class:"ml-2"},"Go to URL",-1)]),2)):u("",!0),s(x)?(a(),l("button",{key:1,class:"button text-lg font-normal items-center",onClick:e[1]||(e[1]=i=>s(v)(t.value))},[e[4]||(e[4]=o("div",{class:"i-la-copy"},null,-1)),s(f)?(a(),l("div",G,"Copied!")):(a(),l("div",I,"Copy"))])):u("",!0),s(k)?(a(),l("button",N,[o("div",{class:"i-la-share",onClick:e[2]||(e[2]=i=>s(b)({title:"Gun-Vue demo",text:"Look what I found!",url:t.value}))}),e[5]||(e[5]=o("div",{class:"ml-2"},"Share",-1))])):u("",!0)])],32)]))}});export{z as default};
