import{a as b,b5 as p,U as v,b6 as c,b7 as k,b8 as y,b9 as w}from"./components.CsNDEx6X.js";import"./theme.B2OxDUqe.js";import{d as $,p as C,q as g,c as m,o as a,G as n,b as d,w as f,e as x,k as s,j as r,r as U,a as B,N}from"./framework.DRT7JCoy.js";const V={class:"flex flex-col items-center w-full"},S={key:1,class:"flex flex-col"},j={class:"p-4 flex flex-col items-start"},E=$({__name:"UserHome",emits:["user","room","close","chat","browse"],setup(A,{emit:L}){const{user:t}=b();function u(){t.db.get("safe").get("saved").put(!0)}const i=C(!1);return g(()=>t.is,()=>{t.db.get("safe").get("saved").on(o=>i.value=o)},{immediate:!0}),(o,e)=>(a(),m("div",V,[n(s(v),{open:s(t).is&&!i.value,"close-button":"",onClose:e[1]||(e[1]=l=>u())},{default:f(()=>[i.value?x("",!0):(a(),d(s(p),{key:0},{default:f(()=>[r("button",{class:"button mx-8 justify-center",onClick:e[0]||(e[0]=l=>u())},e[5]||(e[5]=[r("div",{class:"i-la-check"},null,-1),r("div",{class:"ml-2"},"I've stored my key securely",-1)]))]),_:1}))]),_:1},8,["open"]),s(t).is?(a(),m("div",S,[n(s(k),{onBrowse:e[2]||(e[2]=l=>{o.$emit("browse",l),o.$emit("close")})}),r("div",j,[n(s(y)),n(s(w),{onBrowse:e[3]||(e[3]=l=>o.$emit("room",l))})]),r("button",{class:"p-4 m-4 rounded-xl font-bold text-lg shadow-md",style:N({backgroundColor:s(t).color}),onClick:e[4]||(e[4]=l=>{o.$emit("user",s(t).pub),o.$emit("close")})},[U(o.$slots,"default",{},()=>[e[6]||(e[6]=B(" My public profile"))])],4)])):(a(),d(s(c),{key:0}))]))}});export{E as default};
