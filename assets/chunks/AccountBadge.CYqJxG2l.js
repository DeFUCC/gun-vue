import{d as v,x as c,y as w,z as b,c as l,o as n,J as h,e as d,r as y,k as x,t as m,O as f,_ as g}from"./framework.DMS09ad0.js";import{h as k,u as z,A as B,s as N}from"./components.BfuT3X--.js";import"./theme.Cz5CPBav.js";const A=["title"],S={key:0,class:"mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap"},C=v({__name:"AccountBadge",props:{pub:{type:String,default:""},showName:{type:Boolean,default:!0},size:{type:Number,default:30},selectable:Boolean,vertical:Boolean},setup(e){const o=e,t=c(""),s=c(""),r=k(),{user:u}=z();w(()=>{t.value="",s.value="",r.user(o.pub).get("profile").get("name").on(a=>{t.value=a}),r.user().get("petnames").get(o.pub).on(async a=>{s.value=await u.decrypt(a)})}),b(()=>u.is,a=>{a||(t.value="",s.value="")});function p(){o.selectable&&(N.pub=o.pub)}return(a,i)=>(n(),l("div",{class:"frame p-2px flex items-center rounded-full bg-light-900 dark-bg-dark-200 cursor-pointer shadow transition duration-400 ease-in",style:f({flexDirection:e.vertical?"column":"row"}),title:e.showName?s.value?s.value:e.pub:t.value,onClick:i[0]||(i[0]=$=>p())},[h(x(B),{pub:e.pub,size:e.size},null,8,["pub","size"]),e.showName&&e.pub&&t.value?(n(),l("div",S,m(t.value),1)):d("",!0),t.value&&!e.showName?(n(),l("div",{key:1,class:"tip mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap absolute opacity-0 hover-opacity-100 transition-all duration-300 ease-in text-center transform translate-y-2 p-1 rounded-lg",style:f({transform:`translateY(${-e.size-5}px) translateX(-50%)`})},m(t.value),5)):d("",!0),y(a.$slots,"default",{},void 0,!0)],12,A))}}),V=g(C,[["__scopeId","data-v-02a86e18"]]);export{V as default};
