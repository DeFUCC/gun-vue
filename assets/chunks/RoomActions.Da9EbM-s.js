import{b0 as x,h as v,a as g,aO as C,b1 as $,G as j}from"./components.DgS4UilT.js";import{h as B,c as e,o as n,e as c,k as s,j as t}from"./framework.BfubPTv1.js";import"./theme.CxNJ6KCT.js";const N=x.room,E={class:"flex flex-wrap items-center gap-2"},O={key:2,class:"flex flex-wrap py-4"},F={__name:"RoomActions",props:{pub:{type:String,default:()=>v.pub}},setup(k){const p=k,{user:l}=g(),{room:u,leaveRoom:y,enterRoom:R}=C(p.pub),m=B(()=>p.pub?p.pub:v.pub);async function w(d){var r;const o=await l.decrypt(d);console.log(o,d),j(JSON.stringify(o),"application/json",`room-${(r=u.profile)==null?void 0:r.name}.json`)}return(d,o)=>{var r,f;return n(),e("div",E,[(r=s(u).hosts)!=null&&r[s(l).pub]?(n(),e("button",{key:0,class:"button",onClick:o[0]||(o[0]=b=>{var a,i;return s($)((i=(a=s(u).hosts)==null?void 0:a[s(l).pub])==null?void 0:i.enc)})},o[4]||(o[4]=[t("div",{class:"i-la-tools"},null,-1),t("div",{class:"ml-2"},"Renew",-1)]))):c("",!0),(f=s(u).hosts)!=null&&f[s(l).pub]?(n(),e("button",{key:1,class:"button",onClick:o[1]||(o[1]=b=>{var a,i;return w((i=(a=s(u).hosts)==null?void 0:a[s(l).pub])==null?void 0:i.enc)})},o[5]||(o[5]=[t("div",{class:"i-la-download"},null,-1),t("div",{class:"ml-2"},"Keys",-1)]))):c("",!0),m.value!=s(N).pub?(n(),e("div",O,[s(v).pub!==m.value?(n(),e("button",{key:0,class:"button",onClick:o[2]||(o[2]=b=>s(R)(m.value))},o[6]||(o[6]=[t("div",{class:"i-ion-enter-outline"},null,-1),t("div",{class:"ml-2"},"Enter",-1)]))):(n(),e("button",{key:1,class:"button",onClick:o[3]||(o[3]=b=>s(y)())},o[7]||(o[7]=[t("div",{class:"i-ion-exit-outline"},null,-1),t("div",{class:"ml-2"},"Leave",-1)])))])):c("",!0)])}}};export{F as default};
