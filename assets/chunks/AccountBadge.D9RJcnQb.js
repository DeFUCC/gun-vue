import{p as c,j as w,a as b,A as h,q as g}from"./components.Cf6-ENKK.js";import"./theme.Db1AxbS0.js";import{d as y,p as d,s as x,q as k,c as l,o as n,G as N,e as m,r as B,k as z,t as f,N as p,_ as A}from"./framework.ap9ZVjPY.js";const C=["title"],S={key:0,class:"mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap"},$=y({__name:"AccountBadge",props:{pub:{type:String,default:""},showName:{type:Boolean,default:!0},size:{type:Number,default:30},selectable:Boolean,vertical:Boolean},setup(e){const o=e,t=d(""),s=d("");c("deep"),c("light");const r=w(),{user:u}=b();x(()=>{t.value="",s.value="",r.user(o.pub).get("profile").get("name").on(a=>{t.value=a}),r.user().get("petnames").get(o.pub).on(async a=>{s.value=await u.decrypt(a)})}),k(()=>u.is,a=>{a||(t.value="",s.value="")});function v(){o.selectable&&(g.pub=o.pub)}return(a,i)=>(n(),l("div",{class:"frame p-2px flex items-center rounded-full bg-light-900 dark-bg-dark-200 cursor-pointer shadow transition duration-400 ease-in",style:p({flexDirection:e.vertical?"column":"row"}),title:e.showName?s.value?s.value:e.pub:t.value,onClick:i[0]||(i[0]=q=>v())},[N(z(h),{pub:e.pub,size:e.size},null,8,["pub","size"]),e.showName&&e.pub&&t.value?(n(),l("div",S,f(t.value),1)):m("",!0),t.value&&!e.showName?(n(),l("div",{key:1,class:"tip mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap absolute opacity-0 hover-opacity-100 transition-all duration-300 ease-in text-center transform translate-y-2 p-1 rounded-lg",style:p({transform:`translateY(${-e.size-5}px) translateX(-50%)`})},f(t.value),5)):m("",!0),B(a.$slots,"default",{},void 0,!0)],12,C))}}),U=A($,[["__scopeId","data-v-87ec63a1"]]);export{U as default};
