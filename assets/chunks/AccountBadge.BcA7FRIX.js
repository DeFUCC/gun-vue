import{p as m,i as g,a as x,A as y,t as k,q as N}from"./components.CyZTKT8r.js";import"./theme.CrIBCTfO.js";import{d as B,p as f,s as z,q as C,c as n,o as r,G as A,e as p,r as S,k as s,t as v,N as b,_ as D}from"./framework.BfubPTv1.js";const $=["title"],q=B({__name:"AccountBadge",props:{pub:{type:String,default:""},showName:{type:Boolean,default:!0},size:{type:Number,default:30},selectable:Boolean,vertical:Boolean},setup(e){const l=e,t=f(""),o=f(""),u=m("deep"),h=m("light"),i=g(),{user:c}=x();z(()=>{t.value="",o.value="",i.user(l.pub).get("profile").get("name").on(a=>{t.value=a}),i.user().get("petnames").get(l.pub).on(async a=>{o.value=await c.decrypt(a)})}),C(()=>c.is,a=>{a||(t.value="",o.value="")});function w(){l.selectable&&(N.pub=l.pub)}return(a,d)=>(r(),n("div",{class:"frame p-2px flex items-center rounded-full bg-light-900 dark-bg-dark-200 cursor-pointer shadow transition duration-400 ease-in",style:b({backgroundColor:e.pub?s(k).dark?s(u).hex(e.pub):s(h).hex(e.pub):"transparent",flexDirection:e.vertical?"column":"row"}),title:e.showName?o.value?o.value:e.pub:t.value,onClick:d[0]||(d[0]=E=>w())},[A(s(y),{pub:e.pub,size:e.size},null,8,["pub","size"]),e.showName&&t.value?(r(),n("div",{class:"mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap",key:e.pub},v(t.value),1)):p("",!0),t.value&&!e.showName?(r(),n("div",{key:1,class:"tip mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap absolute opacity-0 hover-opacity-100 transition-all duration-300 ease-in text-center transform translate-y-2 p-1 rounded-lg",style:b({transform:`translateY(${-e.size-5}px) translateX(-50%)`,backgroundColor:s(u).hex(e.pub)})},v(t.value),5)):p("",!0),S(a.$slots,"default",{},void 0,!0)],12,$))}}),I=D(q,[["__scopeId","data-v-78111ed2"]]);export{I as default};
