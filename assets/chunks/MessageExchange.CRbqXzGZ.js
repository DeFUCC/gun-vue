import{u as c,q as f,A as g,Y as k,Z as x}from"./components.BLyRHMpj.js";import{u as v}from"./useMessages.CGujW0-d.js";import"./theme.C0V-IKld.js";import C from"./FileShare.CxVgXBWV.js";import{d as S,aj as y,h as A,c as b,o as p,j as t,G as o,e as w,r as B,k as a,t as m}from"./framework.BoVd_Pm6.js";const q={class:"m-0 flex flex-col bg-stone-400 dark-bg-dark-400 items-start"},D={class:"w-full p-2 flex flex-wrap items-center gap-2 sticky top-0 bg-light-800 bg-op-30 backdrop-blur dark-bg-dark-800 dark-bg-op-30 z-100 shadow"},$={class:"text-lg font-bold p-2"},h={class:"text-sm op-40"},M={class:"sticky bottom-0 flex-0 bg-light-900 dark-bg-dark-600 p-4 flex gap-2 w-full"},R=S({__name:"MessageExchange",props:{pub:{default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk",type:String},back:{type:Boolean,default:!0}},emits:["user","back"],setup(s){const r=s,{account:u}=c(y(r,"pub")),n=A(()=>v(r.pub));return(d,e)=>{var i;return p(),b("div",q,[t("div",D,[s.back?(p(),b("button",{key:0,class:"p-2 bg-light-300 dark-bg-dark-400 rounded-xl",onClick:e[0]||(e[0]=l=>d.$emit("back"))},e[4]||(e[4]=[t("div",{class:"i-la-angle-left"},null,-1)]))):w("",!0),o(a(g),{class:"cursor-pointer",pub:s.pub,onClick:e[1]||(e[1]=l=>a(f).pub=s.pub)},null,8,["pub"]),t("div",$,m((i=a(u).profile)==null?void 0:i.name),1),t("div",h,"Seen "+m(a(u).lastSeen)+" ago",1),e[5]||(e[5]=t("div",{class:"flex-1"},null,-1)),B(d.$slots,"default")]),o(a(k),{class:"max-w-55ch w-full mx-auto",messages:n.value.sorted},null,8,["messages"]),t("div",M,[o(C,{onUrl:e[2]||(e[2]=l=>n.value.send(s.pub,l))}),o(a(x),{class:"flex-1",onSubmit:e[3]||(e[3]=l=>n.value.send(s.pub,l))})])])}}});export{R as default};
