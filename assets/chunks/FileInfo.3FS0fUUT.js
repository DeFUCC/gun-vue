import{h,p as b,c as u,e as d,o as s,j as l,G as S,t as f,k as a,w as $,b as w,T as B,F,B as H}from"./framework.NFQ89pQN.js";import{z as L,y as N,ad as Q,aa as R}from"./components.Bh0JkzMg.js";import"./theme.B2AGLJY6.js";const U={key:0,class:"flex flex-wrap gap-2 p-4 items-start relative"},V={class:"flex flex-col gap-2 w-full"},j={class:"text-xl"},q={class:"font-mono text-xs op-50"},D=["href"],T={class:"p-0"},z={class:"p-0"},E={class:"p-0"},G={key:2,class:"flex gap-2 mt-2"},J={__name:"FileInfo",props:{file:{type:Object,required:!0},default:()=>({})},emits:["close"],setup(o,{emit:x}){const k=o,g=x,i=h(()=>{var e,n,t,r;if(!((n=(e=k.file)==null?void 0:e.info)!=null&&n.infoHash))return"";let m=new URL((t=window==null?void 0:window.location)==null?void 0:t.href);return m.hash="",`${m.href}#/files/${(r=k.file)==null?void 0:r.info.infoHash}`}),c=L({source:i}),{share:y,isSupported:C}=N(),p=b(!1),v=b(!1);return(m,e)=>{var n;return o.file?(s(),u("div",U,[l("div",V,[l("div",j,f(o.file.info.name),1),l("div",q,f(o.file.info.infoHash),1)]),l("button",{class:"absolute top-4 right-4",onClick:e[0]||(e[0]=t=>g("close"))},e[5]||(e[5]=[l("div",{class:"i-la-times"},null,-1)])),l("a",{class:"gap-2 button underline font-bold -all",href:i.value,target:"_blank"},e[6]||(e[6]=[l("div",{class:"i-la-link"},null,-1),l("div",{class:"p-0"},"Download URL",-1)]),8,D),a(c).isSupported.value?(s(),u("button",{key:0,class:"p-2 button gap-2",onClick:e[1]||(e[1]=t=>a(c).copy())},[e[7]||(e[7]=l("div",{class:"i-la-copy"},null,-1)),l("div",T,f((n=a(c))!=null&&n.copied.value?"Copied!":"Copy"),1)])):d("",!0),a(C)?(s(),u("button",{key:1,class:"p-2 button gap-2",onClick:e[2]||(e[2]=t=>{var r;return a(y)({title:(r=o.file.info)==null?void 0:r.name,url:i.value})})},e[8]||(e[8]=[l("div",{class:"i-la-share"},null,-1),l("div",{class:"p-0"}," Share",-1)]))):d("",!0),l("button",{class:"button p-2 gap-2",onClick:e[3]||(e[3]=t=>p.value=!p.value)},[e[9]||(e[9]=l("div",{class:"i-la-qrcode"},null,-1)),l("div",z,f(p.value?"Hide":"Show")+" QR ",1)]),l("button",{class:"button p-2 gap-2",onClick:e[4]||(e[4]=t=>v.value=!v.value)},[e[10]||(e[10]=l("div",{class:"i-la-file"},null,-1)),l("div",E,f(v.value?"Hide":"Show")+" file",1)]),S(B,{name:"fade"},{default:$(()=>[i.value&&p.value?(s(),w(a(Q),{key:0,data:i.value},null,8,["data"])):d("",!0)]),_:1}),v.value?(s(),u("div",G,[(s(!0),u(F,null,H(o.file.torrent.files,t=>(s(),w(a(R),{class:"flex-auto max-w-70 break-all",key:t.name,file:t},null,8,["file"]))),128))])):d("",!0)])):d("",!0)}}};export{J as default};
