import{u as b,r as m,A as f,R as c,U as g}from"./components.D86cb0IH.js";import{u as k}from"./useMessages.DzJwMtT-.js";import"./theme.D8xe3gzS.js";import x from"./FileShare.BwcvUqMh.js";import{d as v,aI as S,h as A,c as C,o as w,j as e,G as o,r as y,k as t,t as p}from"./framework.Cf-rbDpz.js";const B={class:"m-0 flex flex-col bg-stone-400 dark-bg-dark-400 items-start"},D={class:"w-full p-2 flex flex-wrap items-center gap-2 sticky top-0 bg-light-800 bg-op-30 backdrop-blur dark-bg-dark-800 dark-bg-op-30 z-100 shadow"},$={class:"text-lg font-bold p-2"},h={class:"text-sm op-40"},q={class:"sticky bottom-0 flex-0 bg-light-900 dark-bg-dark-600 p-4 flex gap-2 w-full"},V=v({__name:"MessageExchange",props:{pub:{default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk",type:String}},emits:["user","back"],setup(a){const r=a,{account:u}=b(S(r,"pub")),n=A(()=>k(r.pub));return(d,s)=>{var i;return w(),C("div",B,[e("div",D,[e("button",{class:"p-2 bg-light-300 dark-bg-dark-400 rounded-xl",onClick:s[0]||(s[0]=l=>d.$emit("back"))},s[4]||(s[4]=[e("div",{class:"i-la-angle-left"},null,-1)])),o(t(f),{class:"cursor-pointer",pub:a.pub,onClick:s[1]||(s[1]=l=>t(m).pub=a.pub)},null,8,["pub"]),e("div",$,p((i=t(u).profile)==null?void 0:i.name),1),e("div",h,"Seen "+p(t(u).lastSeen)+" ago",1),s[5]||(s[5]=e("div",{class:"flex-1"},null,-1)),y(d.$slots,"default")]),o(t(c),{class:"max-w-55ch w-full mx-auto",messages:n.value.sorted},null,8,["messages"]),e("div",q,[o(x,{onUrl:s[2]||(s[2]=l=>n.value.send(a.pub,l))}),o(t(g),{class:"flex-1",onSubmit:s[3]||(s[3]=l=>n.value.send(a.pub,l))})])])}}});export{V as default};
