import{p,aQ as V,h as R,c as n,e as u,k as r,o as i,j as a,aF as m,G as B,aG as T,w as U,a as $,b6 as G,T as P,N as S}from"./framework.BfubPTv1.js";import{a as j,S as z,aR as A}from"./components.Cm3H2t8i.js";import{u as E}from"./useBackground.BuBwZixM.js";import"./theme.D56HEEaE.js";const F={class:"flex gap-2"},M={key:0,class:"flex gap-2"},D={class:"button flex items-center gap-2",for:"publish"},K={__name:"RoomForm",emits:["room"],setup(H,{emit:v}){const b=v,{user:f}=j(),t=p(null),s=p(""),d=p(!0),{undo:c,redo:k,canRedo:x,canUndo:g}=V(t);async function y(){t.value=await z.pair()}function w(){t.value=null,s.value="",d.value=!0}function C(){var l;A({pair:t.value,name:s.value,publish:d.value}),b("room",(l=t.value)==null?void 0:l.pub),w()}const N=R(()=>{var l;return E({pub:(l=t.value)==null?void 0:l.pub,size:620})});return(l,e)=>r(f).pub?(i(),n("div",{key:0,class:"flex flex-col gap-4 bg-cover rounded-2xl w-full p-16 max-w-620px bg-light-800 dark-bg-dark-500 justify-center",style:S({...N.value})},[a("div",F,[r(g)?(i(),n("button",{key:0,class:"button",onClick:e[0]||(e[0]=o=>r(c)())},e[6]||(e[6]=[a("div",{class:"i-la-undo"},null,-1)]))):u("",!0),r(x)?(i(),n("button",{key:1,class:"button",onClick:e[1]||(e[1]=o=>r(k)())},e[7]||(e[7]=[a("div",{class:"i-la-redo"},null,-1)]))):u("",!0),a("button",{class:"button flex-1",onClick:e[2]||(e[2]=o=>y())},"Generate a new room")]),t.value?m((i(),n("input",{key:0,class:"p-2 rounded-xl dark-bg-dark-200","onUpdate:modelValue":e[3]||(e[3]=o=>s.value=o),type:"text",placeholder:"New room name"},null,512)),[[T,s.value]]):u("",!0),B(P,{name:"fade"},{default:U(()=>[t.value&&s.value?(i(),n("div",M,[a("button",{class:"button flex-1",onClick:e[4]||(e[4]=o=>C())},"Add room"),a("label",D,[e[8]||(e[8]=$("Publish")),m(a("input",{id:"publish",type:"checkbox",switch:"","onUpdate:modelValue":e[5]||(e[5]=o=>d.value=o)},null,512),[[G,d.value]])])])):u("",!0)]),_:1})],4)):u("",!0)}};export{K as default};
