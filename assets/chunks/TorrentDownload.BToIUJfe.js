import{d as y,c as u,o as i,e as B,k as t,j as m,t as _,F as T,B as b,b as S,ah as V,V as C}from"./framework.BfubPTv1.js";import{a9 as D}from"./components.f3q26e0v.js";import{p as g}from"./index.BuUnCgYx.js";import"./theme.fBQ8eXbj.js";const E={class:"flex flex-col gap-2 max-w-55ch"},j={key:0,class:"p-2 text-sm flex flex-wrap gap-2"},L={class:"p-1"},N={class:"p-1"},R=y({__name:"TorrentDownload",props:{id:{type:String,default:""}},setup(x){const h=x;function v(k){const e=V({files:[],task:null,status:{done:!1,progress:0,downloadSpeed:0,downloaded:0}});return C(()=>import("./webtorrent.min.D4AedfBj.js"),[]).then(a=>{const n=a.default,o=new n;e.task=o.add(k,s=>{e.files=s.files}),o.on("download",()=>{const{progress:s,downloaded:d,done:p,downloadSpeed:l}=e.task;e.status={done:p,progress:s,downloaded:d,downloadSpeed:l}})}),e}const r=v(`magnet:?xt=urn:btih:${h.id}&tr=udp%3A%2F%2Ftracker.leechers-paradise.org%3A6969&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337&tr=udp%3A%2F%2Fexplodie.org%3A6969&tr=udp%3A%2F%2Ftracker.empire-js.us%3A1337&tr=wss%3A%2F%2Ftracker.btorrent.xyz&tr=wss%3A%2F%2Ftracker.openwebtorrent.com`);return(k,e)=>{var a,n,o,s,d,p,l,F,f,w,A;return i(),u("div",E,[(n=(a=t(r))==null?void 0:a.status)!=null&&n.done?B("",!0):(i(),u("div",j,[e[0]||(e[0]=m("div",{class:"p-1"},"Torrent: ",-1)),m("div",L,_((s=(o=t(r))==null?void 0:o.status)!=null&&s.done?"done":(p=(d=t(r))==null?void 0:d.status)==null?void 0:p.progress),1),m("div",N,"Total "+_(t(g)((F=(l=t(r))==null?void 0:l.status)==null?void 0:F.downloaded))+" at "+_(t(g)((w=(f=t(r))==null?void 0:f.status)==null?void 0:w.downloadSpeed))+"/s",1)])),(i(!0),u(T,null,b((A=t(r))==null?void 0:A.files,c=>(i(),S(t(D),{key:c==null?void 0:c.name,file:c},null,8,["file"]))),128))])}}});export{R as default};
