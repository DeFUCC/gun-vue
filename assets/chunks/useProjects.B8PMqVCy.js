import{i as l,h as m,j as f,F as h}from"./components.BfuT3X--.js";import{x as v,aj as j,h as c}from"./framework.DMS09ad0.js";function b(u=l.pub){const o=v(""),s=j({}),a=c(()=>{const e=Object.entries(s).map(t=>({...t[1],path:t[0]}));return new h(e,{includeScore:!0,ignoreLocation:!0,keys:["title"]})}),i=c(()=>o.value?a.value.search(o.value):Object.entries(s).map(e=>({item:{...e[1],path:e[0]}}))),n=m();return n.user(u).get("projects").map().on((e,t)=>{if(e==null){delete s[t];return}const r={...e,path:t};delete r._,s[t]=r,f(r==null?void 0:r.cover)&&n.get("#cover").get(r.cover).on(p=>s[t].cover=p)}),{projects:s,search:o,candidates:i}}export{b as u};
