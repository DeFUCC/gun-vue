import{u as b,A as f,V as g,W as k,r as u,aJ as c}from"./components.o3Gv9VgH.js";import{u as v}from"./useMessages.BnnYE-HY.js";import"./theme.CDYwf_sg.js";import{_ as x}from"./AccountHome.vue_vue_type_script_setup_true_lang.BvibkSDx.js";import C from"./FileShare.CL6O4Sul.js";import{d as w,aI as S,h as $,c as A,o as y,j as a,G as o,r as B,k as e,t as m,w as D}from"./framework.BN2VI_cg.js";import"./useProjects.BaazCZJX.js";import"./useBackground.IVLu-T3h.js";const q={class:"m-0 flex flex-col bg-stone-400 dark-bg-dark-400 items-start"},I={class:"w-full p-2 flex flex-wrap items-center gap-2 sticky top-0 bg-light-800 bg-op-30 backdrop-blur dark-bg-dark-800 dark-bg-op-30 z-100 shadow"},M={class:"text-lg font-bold p-2"},U={class:"text-sm op-40"},V={class:"sticky bottom-0 flex-0 bg-light-900 dark-bg-dark-600 p-4 flex gap-2 w-full"},G=w({__name:"MessageExchange",props:{pub:{default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk",type:String}},emits:["user","back"],setup(l){const i=l,{account:d}=b(S(i,"pub")),r=$(()=>v(i.pub));return(n,s)=>{var p;return y(),A("div",q,[a("div",I,[a("button",{class:"p-2 bg-light-300 dark-bg-dark-400 rounded-xl",onClick:s[0]||(s[0]=t=>n.$emit("back"))},s[6]||(s[6]=[a("div",{class:"i-la-angle-left"},null,-1)])),o(e(f),{class:"cursor-pointer",pub:l.pub,onClick:s[1]||(s[1]=t=>n.$emit("user",l.pub))},null,8,["pub"]),a("div",M,m((p=e(d).profile)==null?void 0:p.name),1),a("div",U,"Seen "+m(e(d).lastSeen)+" ago",1),s[7]||(s[7]=a("div",{class:"flex-1"},null,-1)),B(n.$slots,"default")]),o(e(g),{class:"max-w-55ch w-full",messages:r.value.sorted},null,8,["messages"]),a("div",V,[o(C,{onUrl:s[2]||(s[2]=t=>r.value.send(l.pub,t))}),o(e(k),{class:"flex-1",onSubmit:s[3]||(s[3]=t=>r.value.send(l.pub,t))})]),o(e(c),{onClose:s[5]||(s[5]=t=>e(u).pub=""),open:!!e(u).pub},{default:D(()=>[o(x,{pub:e(u).pub,onChat:s[4]||(s[4]=t=>n.emit("user",t))},null,8,["pub"])]),_:1},8,["open"])])}}});export{G as default};
