import{h as C,aN as x,p as N,aO as S,aZ as z,a_ as F,aI as P}from"./components.CgcQs253.js";import{u as V}from"./useBackground.C0J6Uxnd.js";import"./theme.BGOvT630.js";import{p as j,h as B,c as t,o as s,j as R,b as $,e as i,k as a,t as D,w as E,N as I}from"./framework.BfubPTv1.js";const L=["src"],O={key:1,class:"font-bold ml-1"},U={key:0,class:"i-la-star"},Z={key:1,class:"i-la-star-solid"},J={__name:"RoomButton",props:{pub:{type:String,default:()=>C.pub},panel:{type:Boolean,default:!0}},emits:["room","rooms","browse"],setup(l){const m=l,r=j(!1),n=B(()=>x(m.pub));N("deep");const w=B(()=>V({pub:m.pub,size:200,attachment:"local"})),{logo:p}=S(m.pub);return(u,o)=>{var d,b,f,v,c,k;return s(),t("div",{class:"px-0 flex gap-2",style:I({...w.value})},[R("button",{class:"rounded-xl flex items-center gap-2 hover-contrast-120 flex-auto bg-dark-400 bg-op-30 backdrop-blur",onClick:o[0]||(o[0]=e=>{r.value=!0,u.$emit("browse","")})},[a(p)?(s(),t("img",{key:0,class:"h-12 rounded-xl",src:a(p)},null,8,L)):i("",!0),(f=(b=(d=n.value)==null?void 0:d.room)==null?void 0:b.profile)!=null&&f.name?(s(),t("div",O,D((v=n.value)==null?void 0:v.room.profile.name.substring(0,15)),1)):i("",!0)]),R("button",{class:"button",onClick:o[1]||(o[1]=e=>{var g,y;return a(z)(l.pub,!((y=(g=n.value)==null?void 0:g.room)!=null&&y.isFavourite))})},[(k=(c=n.value)==null?void 0:c.room)!=null&&k.isFavourite?(s(),t("div",Z)):(s(),t("div",U))]),l.panel?(s(),$(a(P),{key:0,class:"break-all",open:r.value,"close-button":!1,onClose:o[5]||(o[5]=e=>r.value=!1)},{default:E(()=>[(s(),$(a(F),{key:l.pub,onRoom:o[2]||(o[2]=e=>u.$emit("room",e)),onRooms:o[3]||(o[3]=e=>u.$emit("rooms")),onBrowse:o[4]||(o[4]=e=>{u.$emit("browse",e),r.value=!1})}))]),_:1},8,["open"])):i("",!0)],4)}}};export{J as default};
