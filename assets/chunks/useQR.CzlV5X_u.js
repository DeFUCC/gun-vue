const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/jsQR.Ch-1PZRE.js","assets/chunks/components.dqDRA8lG.js","assets/chunks/theme.KpIl4si9.js","assets/chunks/framework.Cn0LGHOD.js"])))=>i.map(i=>d[i]);
import{V as d}from"./framework.Cn0LGHOD.js";function _(){return{processFile:m}}async function m(t,e){const n=await u(t),a=(await d(async()=>{const{default:o}=await import("./jsQR.Ch-1PZRE.js").then(s=>s.j);return{default:o}},__vite__mapDeps([0,1,2,3]))).default,i=a(n.data,n.width,n.height);console.log(i.data),e==null||e(i==null?void 0:i.data)}async function u(t){var e;if(/image.*/.test(t.type)){const n=new FileReader;n.readAsDataURL(t);const a=await c(n,"load");return g((e=a==null?void 0:a.target)==null?void 0:e.result)}else console.log("File is not an image")}async function g(t){if(!t)return;const e=document.createElement("img");return e.src=t,await c(e,"load"),h(e)}function h(t){const e=t.naturalWidth,n=t.naturalHeight;return l(t,e,n)}function l(t,e,n){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=1920,a.height=1080;const o=Math.min(1,a.width/e,a.height/n),s=o*e,r=o*n;return i.drawImage(t,0,0,s,r),i.getImageData(0,0,s,r)}function c(t,e,n){let a,i;const o=new Promise((s,r)=>{a=s,i=r});return t.addEventListener(e,a),t.addEventListener(n,i),o.finally(()=>{t.removeEventListener(e,a),t.removeEventListener(n,i)}),o}export{_ as u};
