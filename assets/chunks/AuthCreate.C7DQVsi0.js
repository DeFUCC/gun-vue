import{d as w,p as c,aQ as A,c as b,e as r,k as o,o as u,j as t,b as $,N as f,aF as B,a0 as i,aG as P,P as S}from"./framework.DADfZotI.js";import{q as v,a as j,A as E,S as N,C as T}from"./components.3f6XHHu7.js";import"./theme.C9P0fuo0.js";const U={class:"flex justify-center my-4"},V={key:0,class:"button w-full flex justify-center items-center",type:"submit"},G=w({__name:"AuthCreate",emits:["back"],setup(z,{emit:D}){const d=v("deep");v("light");const{user:m,auth:x}=j(),a=c(""),s=c(null),{history:k,undo:y}=A(s);async function l(){s.value=await N.pair()}l();function C(){x(s.value,()=>S(()=>{T("name",a.value)}))}return(g,e)=>{var p;return o(m).is?r("",!0):(u(),b("div",{key:0,class:"flex flex-col items-center flex-1 p-2 bg-light-700 dark-bg-dark-200 rounded-3xl shadow-lg text-center p-4 transition duration-300ms ease-in",style:f({backgroundColor:o(d).hex(((p=s.value)==null?void 0:p.pub)||"")})},[e[7]||(e[7]=t("div",{class:"text-xl font-bold"},"Create a new account",-1)),e[8]||(e[8]=t("div",{class:"mb-4 mt-2"},"Tap the circle to generate a new key",-1)),s.value?(u(),$(o(E),{key:0,class:"cursor-pointer rounded-full shadow-xl border-8",pub:s.value.pub,size:200,style:f({borderColor:o(d).hex(s.value.pub)}),onClick:e[0]||(e[0]=n=>l())},null,8,["pub","style"])):r("",!0),t("form",{class:"flex flex-col",onSubmit:e[4]||(e[4]=i(n=>C(),["prevent"]))},[t("div",U,[t("button",{class:"m-2 button items-center",type:"button",onClick:e[1]||(e[1]=i(n=>o(k).length>2?o(y)():g.$emit("back"),["stop"]))},e[5]||(e[5]=[t("div",{class:"i-la-undo text-2xl"},null,-1)])),t("button",{class:"m-2 button items-center",type:"button",onClick:e[2]||(e[2]=i(n=>l(),["stop"]))},e[6]||(e[6]=[t("div",{class:"i-fad-random-1dice text-3xl"},null,-1)]))]),B(t("input",{class:"p-4 rounded-2xl my-2 dark-bg-dark-200","onUpdate:modelValue":e[3]||(e[3]=n=>a.value=n),placeholder:"Enter your name or nickname",autocomplete:"username"},null,512),[[P,a.value]]),s.value&&!o(m).is&&a.value?(u(),b("button",V,"Authenticate")):r("",!0)],32)],4))}}});export{G as default};
