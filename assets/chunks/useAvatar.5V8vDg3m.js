import{i as c,a as i,r as p,k as f}from"./components.CoWBpgrJ.js";import{aJ as l,p as v,q as m}from"./framework.BfubPTv1.js";function A(s,n=42){const e=l(s),o=l(n),u=v(),a=v(),t=c();return m(e,r=>{u.value=f({pub:r,size:o.value*4})},{immediate:!0}),t.user(e.value).get("avatar").on(r=>{r&&t.get("#avatars").get(r).once(g=>{u.value=g})}),t.user(e.value).get("pulse").on(()=>{a.value=!a.value}),{avatar:u,blink:a}}function k(){const{user:s}=i(),n=c(),e=v(null);s.db.get("avatar").on(a=>{a?n.get("#avatars").get(a).once(t=>{e.value=t}):e.value=null});async function o(a){if(a){const t=await p(a);n.get("#avatars").get(t).put(a),s.db.get("avatar").put(t)}else u()}function u(){s.db.get("avatar").put(null)}return{remove:u,upload:o,avatar:e}}export{k as a,A as u};
