import{u as f}from"./useAccount.C3JQGb8K.js";import{s as c,A as g,B as k,D as x}from"./components.BfL1cQFx.js";import{u as v}from"./useMessages.ChmRddHG.js";import"./theme.2Mja-hgs.js";import C from"./FileShare.B4OmtSB_.js";import{d as S,aK as y,h as A,c as m,o as p,j as t,J as l,e as B,r as w,k as a,t as b}from"./framework.DOfjDz1B.js";const D={class:"m-0 flex flex-col bg-stone-400 dark-bg-dark-400 items-start"},$={class:"w-full p-2 flex flex-wrap items-center gap-2 sticky top-0 bg-light-800 bg-op-30 backdrop-blur dark-bg-dark-800 dark-bg-op-30 z-100 shadow"},h={class:"text-lg font-bold p-2"},q={class:"text-sm op-40"},M={class:"sticky bottom-0 flex-0 bg-light-900 dark-bg-dark-600 p-4 flex gap-2 w-full"},j=S({__name:"MessageExchange",props:{pub:{default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk",type:String},back:{type:Boolean,default:!0}},emits:["user","back"],setup(s){const r=s,{account:u}=f(y(r,"pub")),n=A(()=>v(r.pub));return(d,e)=>{var i;return p(),m("div",D,[t("div",$,[s.back?(p(),m("button",{key:0,class:"p-2 bg-light-300 dark-bg-dark-400 rounded-xl",onClick:e[0]||(e[0]=o=>d.$emit("back"))},e[4]||(e[4]=[t("div",{class:"i-la-angle-left"},null,-1)]))):B("",!0),l(a(g),{class:"cursor-pointer",pub:s.pub,onClick:e[1]||(e[1]=o=>a(c).pub=s.pub)},null,8,["pub"]),t("div",h,b((i=a(u).profile)==null?void 0:i.name),1),t("div",q,"Seen "+b(a(u).lastSeen)+" ago",1),e[5]||(e[5]=t("div",{class:"flex-1"},null,-1)),w(d.$slots,"default")]),l(a(k),{class:"max-w-55ch w-full mx-auto",messages:n.value.sorted},null,8,["messages"]),t("div",M,[l(C,{onUrl:e[2]||(e[2]=o=>n.value.send(s.pub,o))}),l(a(x),{class:"flex-1",onSubmit:e[3]||(e[3]=o=>n.value.send(s.pub,o))})])])}}});export{j as default};
