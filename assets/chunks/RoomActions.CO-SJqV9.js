import{a$ as x,h as b,a as $,aN as C,b0 as g,G as N}from"./components.DKJnBSOs.js";import{h as j,c as e,o as n,e as v,k as s,j as t}from"./framework.BfubPTv1.js";import"./theme.D-TZAyX7.js";const B=x.room,E={class:"flex flex-wrap items-center gap-2"},S={key:2,class:"flex flex-wrap py-4"},G={__name:"RoomActions",props:{pub:{type:String,default:b.pub}},setup(k){const p=k,{user:l}=$(),{room:u,leaveRoom:y,enterRoom:R}=C(p.pub),m=j(()=>p.pub?p.pub:b.pub);async function w(c){var r;const o=await l.decrypt(c);N(JSON.stringify(o),"application/json",`room-${(r=u.profile)==null?void 0:r.name}.json`)}return(c,o)=>{var r,f;return n(),e("div",E,[(r=s(u).hosts)!=null&&r[s(l).pub]?(n(),e("button",{key:0,class:"button",onClick:o[0]||(o[0]=d=>{var a,i;return s(g)((i=(a=s(u).hosts)==null?void 0:a[s(l).pub])==null?void 0:i.enc)})},o[4]||(o[4]=[t("div",{class:"i-la-tools"},null,-1),t("div",{class:"ml-2"},"Renew",-1)]))):v("",!0),(f=s(u).hosts)!=null&&f[s(l).pub]?(n(),e("button",{key:1,class:"button",onClick:o[1]||(o[1]=d=>{var a,i;return w((i=(a=s(u).hosts)==null?void 0:a[s(l).pub])==null?void 0:i.enc)})},o[5]||(o[5]=[t("div",{class:"i-la-download"},null,-1),t("div",{class:"ml-2"},"Keys",-1)]))):v("",!0),m.value!=s(B).pub?(n(),e("div",S,[s(b).pub!==m.value?(n(),e("button",{key:0,class:"button",onClick:o[2]||(o[2]=d=>s(R)(m.value))},o[6]||(o[6]=[t("div",{class:"i-ion-enter-outline"},null,-1),t("div",{class:"ml-2"},"Enter",-1)]))):(n(),e("button",{key:1,class:"button",onClick:o[3]||(o[3]=d=>s(y)())},o[7]||(o[7]=[t("div",{class:"i-ion-exit-outline"},null,-1),t("div",{class:"ml-2"},"Leave",-1)])))])):v("",!0)])}}};export{G as default};
