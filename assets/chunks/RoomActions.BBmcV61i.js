import{aS as C,i as c,u as $,aI as j,aT as B,aq as N}from"./components.BfL1cQFx.js";import{h as S,c as e,o as n,e as v,k as s,j as t}from"./framework.DOfjDz1B.js";import"./theme.2Mja-hgs.js";const E=C.room,V={class:"flex flex-wrap items-center gap-2"},q={key:2,class:"flex flex-wrap py-4"},J={__name:"RoomActions",props:{pub:{type:String,default:()=>c.pub}},emits:["room"],setup(y,{emit:R}){const m=y,f=R,{user:l}=$(),{room:u,leaveRoom:w,enterRoom:x}=j(m.pub),p=S(()=>m.pub?m.pub:c.pub);async function g(d){var r;const o=await l.decrypt(d);console.log(o,d),N(JSON.stringify(o),"application/json",`room-${(r=u.profile)==null?void 0:r.name}.json`)}return(d,o)=>{var r,k;return n(),e("div",V,[(r=s(u).hosts)!=null&&r[s(l).pub]?(n(),e("button",{key:0,class:"button",onClick:o[0]||(o[0]=b=>{var i,a;return s(B)((a=(i=s(u).hosts)==null?void 0:i[s(l).pub])==null?void 0:a.enc)})},o[4]||(o[4]=[t("div",{class:"i-la-tools"},null,-1),t("div",{class:"ml-2"},"Renew",-1)]))):v("",!0),(k=s(u).hosts)!=null&&k[s(l).pub]?(n(),e("button",{key:1,class:"button",onClick:o[1]||(o[1]=b=>{var i,a;return g((a=(i=s(u).hosts)==null?void 0:i[s(l).pub])==null?void 0:a.enc)})},o[5]||(o[5]=[t("div",{class:"i-la-download"},null,-1),t("div",{class:"ml-2"},"Keys",-1)]))):v("",!0),p.value!=s(E).pub?(n(),e("div",q,[s(c).pub!==p.value?(n(),e("button",{key:0,class:"button",onClick:o[2]||(o[2]=b=>{f("room"),s(x)(p.value)})},o[6]||(o[6]=[t("div",{class:"i-ion-enter-outline"},null,-1),t("div",{class:"ml-2"},"Enter Room",-1)]))):(n(),e("button",{key:1,class:"button",onClick:o[3]||(o[3]=b=>{s(w)(),f("room")})},o[7]||(o[7]=[t("div",{class:"i-ion-exit-outline"},null,-1),t("div",{class:"ml-2"},"Leave Room",-1)])))])):v("",!0)])}}};export{J as default};
