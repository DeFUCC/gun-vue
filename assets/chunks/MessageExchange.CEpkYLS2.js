import{u as b,A as f,V as g,W as k,r as i,aJ as c}from"./components.DEDLcqDQ.js";import{u as x}from"./useMessages.Do41_ZUl.js";import"./theme.BtAP0b9B.js";import{_ as v}from"./AccountHome.vue_vue_type_script_setup_true_lang.BhajlEAe.js";import C from"./FileShare.DQjYr-YE.js";import{d as $,aI as A,h as S,c as w,o as y,j as a,G as o,r as B,k as e,t as m,w as D}from"./framework.DtSfhgxr.js";import"./useProjects.XTDqy_oD.js";import"./useBackground.DBe3xEzA.js";const q={class:"m-0 flex flex-col bg-stone-400 dark-bg-dark-400"},I={class:"flex-0 p-2 flex flex-wrap items-center gap-2 sticky top-0 bg-light-800 bg-op-30 backdrop-blur dark-bg-dark-800 dark-bg-op-30 z-100 shadow"},M={class:"text-lg font-bold p-2"},U={class:"text-lg"},V={class:"sticky bottom-0 flex-0 bg-light-900 dark-bg-dark-600 p-4 flex gap-2"},G=$({__name:"MessageExchange",props:{pub:{default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk",type:String}},emits:["user","back"],setup(n){const u=n,{account:d}=b(A(u,"pub")),r=S(()=>x(u.pub));return(l,s)=>{var p;return y(),w("div",q,[a("div",I,[a("button",{class:"p-2 bg-light-300 dark-bg-dark-400 rounded-xl",onClick:s[0]||(s[0]=t=>l.$emit("back"))},s[6]||(s[6]=[a("div",{class:"i-la-angle-left"},null,-1)])),o(e(f),{class:"cursor-pointer",pub:n.pub,onClick:s[1]||(s[1]=t=>l.$emit("user",n.pub))},null,8,["pub"]),a("div",M,m((p=e(d).profile)==null?void 0:p.name),1),a("div",U,m(e(d).lastSeen),1),s[7]||(s[7]=a("div",{class:"flex-1"},null,-1)),B(l.$slots,"default")]),o(e(g),{class:"max-w-65ch mx-auto",messages:r.value.sorted},null,8,["messages"]),a("div",V,[o(C,{onUrl:s[2]||(s[2]=t=>r.value.send(t))}),o(e(k),{class:"flex-1",onSubmit:s[3]||(s[3]=t=>r.value.send(t))})]),o(e(c),{onClose:s[5]||(s[5]=t=>e(i).pub=""),open:!!e(i).pub},{default:D(()=>[o(v,{pub:e(i).pub,onChat:s[4]||(s[4]=t=>l.emit("user",t))},null,8,["pub"])]),_:1},8,["open"])])}}});export{G as default};
