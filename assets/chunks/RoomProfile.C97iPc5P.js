import{a$ as R,u as B,i as P,aW as L,b0 as $,n as N,b1 as S,b3 as z}from"./components.B_nZlxjj.js";import{u as F}from"./useMd.BPY3H03s.js";import{f as H}from"./useRooms.BNmKxUbp.js";import{u as M}from"./useBackground.MdMheGqD.js";import"./theme.DAUgw0Wt.js";import{h as p,ak as V,c as r,o,j as e,r as j,b as v,k as s,G as b,e as A,t as x,F as G,B as T,N as U}from"./framework.NFQ89pQN.js";const C={class:"flex flex-col items-stretch"},D={class:"flex flex-wrap items-center gap-8"},E={class:"flex flex-col flex-auto",style:{flex:"1 0"}},O={class:"flex gap-2 items-center"},W={class:"font-bold text-2xl"},q={key:0,class:"i-la-star"},I={key:1,class:"i-la-star-solid"},J={class:"text-md"},K={class:"flex items-center flex-wrap"},Q={class:"flex flex-col items-center bg-light-300 dark-bg-dark-400"},X={class:"relative"},Y={class:"flex items-center"},Z=["innerHTML"],ee={class:"px-4 max-w-55ch"},ce={__name:"RoomProfile",props:{pub:{type:String,default:""},titles:{type:Object,default:()=>R}},emits:["rooms","browse","user"],setup(_,{emit:g}){const n=_,k=g,{user:h}=B(),a=p(()=>n.pub?n.pub:P.pub),{room:l,leaveRoom:se,updateRoomProfile:te,enterRoom:oe}=L(a.value),y=F();V({name:!1,description:!1,text:!1});const w=p(()=>M({pub:a.value,size:1200,attachment:"local"}));return(u,t)=>{var c,d,m;return o(),r("div",C,[e("div",{class:"p-4 bg-cover relative flex flex-col items-center w-full",style:U({...w.value})},[e("div",D,[(o(),v(s($),{class:"flex-1 rounded-2xl overflow-hidden min-w-20",pub:a.value,key:a.value},null,8,["pub"])),e("div",E,[e("div",O,[e("div",W,x(s(l).profile.name),1),t[3]||(t[3]=e("div",{class:"flex-1"},null,-1)),(c=s(h))!=null&&c.is?(o(),r("button",{key:0,class:"button z-100",onPointerdown:t[0]||(t[0]=i=>s(H)(a.value))},[s(l).isFavourite?(o(),r("div",I)):(o(),r("div",q))],32)):A("",!0)]),e("div",J,x(s(l).profile.description),1),e("div",K,[t[4]||(t[4]=e("div",{class:"font-bold mr-2"},"Hosts: ",-1)),(o(!0),r(G,null,T(s(l).hosts,(i,f)=>(o(),r("div",{class:"p-2 flex flex-col items-start gap-2",key:f},[b(s(N),{pub:f,selectable:!0},null,8,["pub"])]))),128))]),b(s(S),{pub:a.value,onRoom:t[1]||(t[1]=i=>k("browse","/"))},null,8,["pub"])])])],4),j(u.$slots,"default"),e("div",Q,[e("div",X,[e("div",Y,[e("div",{class:"p-4 prose max-w-65ch",innerHTML:s(y).render(((d=s(l).profile)==null?void 0:d.text)||"")},null,8,Z)])]),e("div",ee,[(o(),v(s(z),{state:"offline",onUser:t[2]||(t[2]=i=>u.$emit("user",i)),roomPub:(m=s(l))==null?void 0:m.pub,key:s(l).pub},null,8,["roomPub"]))])])])}}};export{ce as default};
