import{h as f,x as G,c as l,e as i,k as t,o as a,j as e,r as $,t as r,J as p,w as h,P as x,G as b,a1 as m}from"./framework.DOfjDz1B.js";import{u as B,h as D,a7 as k,n as _,i as O}from"./components.BfL1cQFx.js";import{u as P,g as v}from"./useGift.25WCymDI.js";import{u as R}from"./useProject.3mgXu__6.js";import"./theme.2Mja-hgs.js";import"./composables.BdOMFBpf.js";const N={class:"flex flex-wrap gap-2 items-center px-2"},T={class:"flex-0 flex flex-wrap px-2 gap-2"},V={class:"flex flex-col"},q={class:"text-xl font-bold"},A={class:"flex flex-col"},E={class:"text-lg font-bold"},J={class:"flex items-center gap-2 flex-0"},L={class:"flex flex-col gap-2 text-xs"},M={class:"flex flex-col gap-2 text-xs"},z={class:"flex gap-2 flex-wrap"},F={key:0,class:"flex flex-col gap-1"},U={class:"p-0"},H={key:1,class:"flex flex-col gap-1"},I={class:"text-xs"},K={class:"p-0"},Q={key:2,class:"flex flex-col gap-1"},W={class:"flex flex-1 gap-2 p-2 items-center flex-wrap leading-tight text-xs",style:{flex:"1 1 20%"}},X={class:"flex gap-2"},at={__name:"GiftCard",props:{hash:{type:String,default:""}},emits:["project"],setup(c,{emit:Y}){const w=c,{user:g}=B(),{gift:o,state:n}=P(w.hash),C=f(()=>new Date(o.date).toLocaleTimeString("en-GB")),j=f(()=>new Date(o.date).toLocaleDateString("en-GB")),S=f(()=>{const u=G();return D().user(o.room).get("profile").get("name").on(d=>u.value=d),u.value}),{project:y}=R(f(()=>o.project));return(u,s)=>Object.keys(t(o)).length>0?(a(),l("div",{key:0,class:"flex p-0 rounded-xl shadow-lg border-2 relative overflow-hidden",style:x({opacity:t(n).complete?1:.5})},[s[8]||(s[8]=e("div",{class:"w-3 min-w-3 h-full flex-0"},null,-1)),e("div",N,[e("div",T,[e("div",V,[e("div",q,r(t(o).qn),1)]),e("div",A,[e("div",E,r(t(o).ql),1)])]),e("div",J,[e("div",L,[p(t(_),{pub:t(o).from,style:x({opacity:t(n).from?1:.4})},{default:h(()=>[p(t(k),{class:"mr-2",state:t(n).from},null,8,["state"])]),_:1},8,["pub","style"])]),s[5]||(s[5]=e("div",{class:"i-la-arrow-right m-2"},null,-1)),e("div",M,[p(t(_),{pub:t(o).to,style:x({opacity:t(n).to?1:.4})},{default:h(()=>[p(t(k),{class:"mr-2",state:t(n).to},null,8,["state"])]),_:1},8,["pub","style"])])]),$(u.$slots,"default"),e("div",z,[t(o).room!=t(O).pub?(a(),l("div",F,[s[6]||(s[6]=e("div",{class:"text-xs"},"ROOM ",-1)),e("div",U,r(S.value),1)])):i("",!0),t(o).date?(a(),l("div",H,[e("div",I,r(j.value),1),e("div",K,r(C.value),1)])):i("",!0),t(o).project?(a(),l("div",Q,[s[7]||(s[7]=e("div",{class:"text-xs"},"PROJECT",-1)),e("div",{class:"py-1 px-2 rounded-lg text-sm",style:x({backgroundColor:t(y).color}),onClick:s[0]||(s[0]=d=>u.$emit("project",t(o).project))},r(t(y).title),5)])):i("",!0),e("div",W,r(t(o).wish),1)]),e("div",X,[t(o).from==t(g).pub?(a(),l(b,{key:0},[t(n).from?(a(),l("button",{key:1,class:"button",onClick:s[2]||(s[2]=m(d=>t(v)(c.hash,!1),["stop","prevent"]))},"Cancel")):(a(),l("button",{key:0,class:"button",onClick:s[1]||(s[1]=m(d=>t(v)(c.hash,!0),["stop","prevent"]))},"Propose"))],64)):i("",!0),t(o).to==t(g).pub?(a(),l(b,{key:1},[t(n).to?i("",!0):(a(),l("button",{key:0,class:"button",onClick:s[3]||(s[3]=m(d=>t(v)(c.hash,!0),["stop","prevent"]))},"Accept")),t(n).to?(a(),l("button",{key:1,class:"button",onClick:s[4]||(s[4]=m(d=>t(v)(c.hash,!1),["stop","prevent"]))},"Reject")):i("",!0)],64)):i("",!0)])])],4)):i("",!0)}};export{at as default};
