import{a_ as x,i as v,a as $,aO as g,a$ as C,G as j}from"./components.B9Zs7ses.js";import{h as B,c as e,o as n,e as c,k as s,j as t}from"./framework.Cf-rbDpz.js";import"./theme.DmOU6cKK.js";const N=x.room,E={class:"flex flex-wrap items-center gap-2"},O={key:2,class:"flex flex-wrap py-4"},F={__name:"RoomActions",props:{pub:{type:String,default:()=>v.pub}},setup(k){const p=k,{user:l}=$(),{room:u,leaveRoom:y,enterRoom:R}=g(p.pub),m=B(()=>p.pub?p.pub:v.pub);async function w(d){var a;const o=await l.decrypt(d);console.log(o,d),j(JSON.stringify(o),"application/json",`room-${(a=u.profile)==null?void 0:a.name}.json`)}return(d,o)=>{var a,f;return n(),e("div",E,[(a=s(u).hosts)!=null&&a[s(l).pub]?(n(),e("button",{key:0,class:"button",onClick:o[0]||(o[0]=b=>{var r,i;return s(C)((i=(r=s(u).hosts)==null?void 0:r[s(l).pub])==null?void 0:i.enc)})},o[4]||(o[4]=[t("div",{class:"i-la-tools"},null,-1),t("div",{class:"ml-2"},"Renew",-1)]))):c("",!0),(f=s(u).hosts)!=null&&f[s(l).pub]?(n(),e("button",{key:1,class:"button",onClick:o[1]||(o[1]=b=>{var r,i;return w((i=(r=s(u).hosts)==null?void 0:r[s(l).pub])==null?void 0:i.enc)})},o[5]||(o[5]=[t("div",{class:"i-la-download"},null,-1),t("div",{class:"ml-2"},"Keys",-1)]))):c("",!0),m.value!=s(N).pub?(n(),e("div",O,[s(v).pub!==m.value?(n(),e("button",{key:0,class:"button",onClick:o[2]||(o[2]=b=>s(R)(m.value))},o[6]||(o[6]=[t("div",{class:"i-ion-enter-outline"},null,-1),t("div",{class:"ml-2"},"Enter Room",-1)]))):(n(),e("button",{key:1,class:"button",onClick:o[3]||(o[3]=b=>s(y)())},o[7]||(o[7]=[t("div",{class:"i-ion-exit-outline"},null,-1),t("div",{class:"ml-2"},"Leave Room",-1)])))])):c("",!0)])}}};export{F as default};
