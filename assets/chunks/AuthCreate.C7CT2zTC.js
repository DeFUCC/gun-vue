import{d as C,p as f,aP as w,c as i,e as a,k as o,o as r,j as s,b as A,N as v,aE as B,a0 as d,aF as P,P as E}from"./framework.DtSfhgxr.js";import{p as b,a as S,A as $,S as j,B as N}from"./components.lLxvAAiH.js";import"./theme.iZOSsO4C.js";const T={class:"flex justify-center my-4"},U={key:0,class:"button w-full flex justify-center items-center",type:"submit"},H=C({__name:"AuthCreate",setup(V){const p=b("deep");b("light");const{user:m,auth:x}=S(),l=f(""),t=f(null),{history:y,undo:k}=w(t);async function u(){t.value=await j.pair()}u();function g(){x(t.value,()=>E(()=>{N("name",l.value)}))}return(z,e)=>{var c;return o(m).is?a("",!0):(r(),i("div",{key:0,class:"flex flex-col items-center flex-1 p-2 bg-light-700 dark-bg-dark-200 rounded-3xl shadow-lg text-center p-4 transition duration-300ms ease-in",style:v({backgroundColor:o(p).hex(((c=t.value)==null?void 0:c.pub)||"")})},[e[7]||(e[7]=s("div",{class:"text-xl font-bold"},"Create a new account",-1)),e[8]||(e[8]=s("div",{class:"mb-4 mt-2"},"Tap the circle to generate a new key",-1)),t.value?(r(),A(o($),{key:0,class:"cursor-pointer rounded-full shadow-xl border-8",pub:t.value.pub,size:200,style:v({borderColor:o(p).hex(t.value.pub)}),onClick:e[0]||(e[0]=n=>u())},null,8,["pub","style"])):a("",!0),s("form",{class:"flex flex-col",onSubmit:e[4]||(e[4]=d(n=>g(),["prevent"]))},[s("div",T,[o(y).length>2?(r(),i("button",{key:0,class:"m-2 button items-center",type:"button",onClick:e[1]||(e[1]=d(n=>o(k)(),["stop"]))},e[5]||(e[5]=[s("div",{class:"i-la-undo text-2xl"},null,-1)]))):a("",!0),s("button",{class:"m-2 button items-center",type:"button",onClick:e[2]||(e[2]=d(n=>u(),["stop"]))},e[6]||(e[6]=[s("div",{class:"i-fad-random-1dice text-3xl"},null,-1)]))]),B(s("input",{class:"p-4 rounded-2xl my-2 dark-bg-dark-200","onUpdate:modelValue":e[3]||(e[3]=n=>l.value=n),placeholder:"Enter your name or nickname",autocomplete:"username"},null,512),[[P,l.value]]),t.value&&!o(m).is&&l.value?(r(),i("button",U,"Authenticate")):a("",!0)],32)],4))}}});export{H as default};
