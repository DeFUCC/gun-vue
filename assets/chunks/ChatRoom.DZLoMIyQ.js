import"./theme.DUAaguHb.js";import{i as b,r as a,R as g,U as k,V as x,W as y}from"./components.B19WRd_4.js";import{u as _}from"./useChat.CMtl5jat.js";import{u as h}from"./useBackground.C9uh00v-.js";import{d as C,q as v,h as S,c as B,o as i,G as o,j as r,w,b as N,e as V,k as e,t as z,N as R}from"./framework.Cf-rbDpz.js";const U={class:"backdrop-blur z-100 bg-light-300 bg-op-30 dark-bg-dark-400 dark-bg-op-50 px-4 py-3 flex flex-wrap items-center text-center sticky top-0"},j={class:"flex-1 ml-2 font-bold"},q={class:"p-4 bg-dark-50 bg-opacity-80 flex gap-2 sticky bottom-0"},L=C({__name:"ChatRoom",props:{title:{type:String,default:"Topics"},topic:{type:String,default:"general"},clickSound:{type:String,default:"audio/safe.mp3"}},emits:["account"],setup(u,{emit:A}){const c=u,{send:m,currentChat:p,sorted:d}=_();v(()=>c.topic,l=>{p.value=l},{immediate:!0});const f=S(()=>h({pub:b.pub,size:1200}));return(l,s)=>{var n;return i(),B("div",{class:"flex flex-col",style:R([{flex:"1 1 auto"},{...f.value}])},[o(e(k),{open:!!((n=e(a))!=null&&n.pub),onClose:s[0]||(s[0]=t=>e(a).pub="")},{default:w(()=>{var t;return[(t=e(a))!=null&&t.pub?(i(),N(e(g),{key:0,pub:e(a).pub},null,8,["pub"])):V("",!0)]}),_:1},8,["open"]),r("div",U,[r("div",j,z(e(p)),1)]),o(e(x),{messages:e(d)},null,8,["messages"]),r("div",q,[o(e(y),{class:"flex-auto",onSubmit:s[1]||(s[1]=t=>e(m)(t))})])],4)}}});export{L as default};
