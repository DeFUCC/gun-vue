const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/AccountHome.B3l1QM_6.js","assets/chunks/useAccount.D2B_8QzN.js","assets/chunks/framework.NFQ89pQN.js","assets/chunks/useProjects.DWnkeq3r.js","assets/chunks/useBackground.CKqvbwgu.js","assets/chunks/theme.O9NazERi.js","assets/chunks/AccountPetname.B1SsZn0W.js","assets/chunks/AccountReactions.BxKMwzdt.js","assets/chunks/useReactions.D-rfbo0p.js","assets/chunks/AccountSelect.CSrNQDF0.js","assets/chunks/useGuests.Div70nRc.js","assets/chunks/AccountProfile.w3d_fSx7.js","assets/chunks/AccountBadge.CQJCM06e.js","assets/chunks/AccountAvatar.BWPqEJvv.js","assets/chunks/useAvatar.DQBBbreo.js","assets/chunks/AuthForm.BU0e5c4W.js","assets/chunks/english.MxR0N9Hb.js","assets/chunks/useAuth.D-HR-Tl-.js","assets/chunks/decode.BnXHfSSi.js","assets/chunks/index.PUUcqk1C.js","assets/chunks/AuthCreate.CxtPejO8.js","assets/chunks/AuthPanel.BYfTL1HW.js","assets/chunks/AuthCredentials.mAECC7N5.js","assets/chunks/QrShow.CPpX1_Q_.js","assets/chunks/ChatInput.BSVbM7wr.js","assets/chunks/ChatMessage.C54jh36M.js","assets/chunks/useMd.Bh7K0Ryp.js","assets/chunks/useMates.DiIxur3c.js","assets/chunks/ChatMessages._3FAVJKI.js","assets/chunks/ChatTopics.qnrTBFc4.js","assets/chunks/ChatRoom.Dv88kCpz.js","assets/chunks/DictBy.CHWJE006.js","assets/chunks/DictPanel.CDs2LmM_.js","assets/chunks/langs.CLi14XB-.js","assets/chunks/DictAuthors.M_Rf8Rp5.js","assets/chunks/DictDefCard.GLOsDfD1.js","assets/chunks/DictDefList.CVmIwGf7.js","assets/chunks/DictDefPage.LCR19xeL.js","assets/chunks/DictWordCard.C6R47CAC.js","assets/chunks/DictWordList.CQV7xs0a.js","assets/chunks/DictWordPage.E27FX1AI.js","assets/chunks/DictLinkList.CiKufvf4.js","assets/chunks/DictLinkButton.wlDgpIC1.js","assets/chunks/EmbedYoutube.CKPkSZg2.js","assets/chunks/TorrentUpload.BJZilNrK.js","assets/chunks/TorrentDownload.DVQxf5nT.js","assets/chunks/FileCard.BTZLbVKs.js","assets/chunks/FileHash.jdXLRX7L.js","assets/chunks/FileShare.Bq2W6YJr.js","assets/chunks/FileInfo.CLjQFevh.js","assets/chunks/FileList.KtimnSO-.js","assets/chunks/FormLink.Dwr8DScQ.js","assets/chunks/FormPicture.BD1FEPSI.js","assets/chunks/FormText.DnTY6oun.js","assets/chunks/FormYoutube.CkIfskca.js","assets/chunks/FormTitle.3ZECqUz0.js","assets/chunks/GiftCard.BJirnQ83.js","assets/chunks/useGift.DUIbSESm.js","assets/chunks/composables.BETBdCX2.js","assets/chunks/useProject.B2nSKH6O.js","assets/chunks/GiftList.B6G8luTb.js","assets/chunks/useGifts.DjCVUboy.js","assets/chunks/GiftForm.B4fE0MYt.js","assets/chunks/currencies.G9pkebxG.js","assets/chunks/GiftButton.Dj2fC95Y.js","assets/chunks/GiftWallets._4N_ufCv.js","assets/chunks/GiftWallet.DpuXnx1P.js","assets/chunks/GiftStatus.BhOrmILv.js","assets/chunks/GunGraph.DaDx0sqb.js","assets/chunks/GunRelay.CliyHAQy.js","assets/chunks/GunRelayList.C6QXQTG_.js","assets/chunks/GunTools.wd4z2Wdq.js","assets/chunks/GunSettings.SWw6Uyl7.js","assets/chunks/MateButton.jE7AUG7W.js","assets/chunks/MateList.DvWlFNsV.js","assets/chunks/MateLink.COXmrdoj.js","assets/chunks/PostCard.XjZxPWBQ.js","assets/chunks/useZip.CS7ZXI0q.js","assets/chunks/PostForm.BfWJfz3m.js","assets/chunks/PostGraph.BDLBF0d0.js","assets/chunks/force-graph.DFXwfBP0.js","assets/chunks/PostLine.DsvCWI-O.js","assets/chunks/PostLink.kqLWZvnO.js","assets/chunks/PostList.CMrQ2YJG.js","assets/chunks/usePosts.BO6OE415.js","assets/chunks/PostPage.SlJ18aZt.js","assets/chunks/PostActionStar.Cb4pwsfW.js","assets/chunks/PostActionUpdate.Cubjmquk.js","assets/chunks/PostActionBan.DJxD4nQM.js","assets/chunks/PostActionReact.ppvJFQxw.js","assets/chunks/PostReactionButton.B_rnxP1B.js","assets/chunks/PostReactionTabs.CCADJq9P.js","assets/chunks/MessageExchange.BGmh8iGJ.js","assets/chunks/useMessages.B5BmifD9.js","assets/chunks/MessagesCount.D83zvTnB.js","assets/chunks/MessageList.BFSHy0fP.js","assets/chunks/ProjectList.B_OdBwFW.js","assets/chunks/ProjectForm.B3seFmlG.js","assets/chunks/ProjectCard.CfMS2Ygj.js","assets/chunks/ProjectPage.BpWf6H6B.js","assets/chunks/ProjectFunding.5OF5KI06.js","assets/chunks/QrLoad.C5lxyNHt.js","assets/chunks/QrShare.cF73oKYE.js","assets/chunks/RoomCard.CJyVuUVt.js","assets/chunks/useRoomLogo.DLdD5edw.js","assets/chunks/RoomFeature.kRSLXbHZ.js","assets/chunks/RoomFeatureIcon.D77vwZGQ.js","assets/chunks/RoomForm.cy15he4W.js","assets/chunks/RoomLogo.BwdiWLS0.js","assets/chunks/RoomList.B-YxK1e6.js","assets/chunks/useRooms.BViSaFRs.js","assets/chunks/RoomPage.DMcjC3yD.js","assets/chunks/RoomProfile.OndR7Tp9.js","assets/chunks/RoomButton.BqmQCoMk.js","assets/chunks/RoomActions.BuVu-U3-.js","assets/chunks/GuestList.C3RIJxhy.js","assets/chunks/SpacePlane.vUzPg02A.js","assets/chunks/SpaceGuest.U6cqzHLD.js","assets/chunks/SpaceArrow.B3G-7Re0.js","assets/chunks/SpaceDraw.Bk0EkYgv.js","assets/chunks/SpaceStatus.BOXiLepI.js","assets/chunks/UiButton.Ds_ngxyM.js","assets/chunks/UiLayer.D4NOx9JM.js","assets/chunks/UiLink.BB0fQxqK.js","assets/chunks/UiModal.B96ALWcM.js","assets/chunks/UiPanel.B357l0PK.js","assets/chunks/UiDark.DrfVDgHD.js","assets/chunks/UiComponents.C78L_cLG.js","assets/chunks/UserAvatar.DVUHm2xj.js","assets/chunks/UserGraph.D4BNHZk_.js","assets/chunks/UserHome.YaopaEyR.js","assets/chunks/UserIcon.zIRyQOzf.js","assets/chunks/UserListOverlay.CI4HgbXR.js","assets/chunks/UserProfile.XAzArs5c.js","assets/chunks/UserProfileField.BZJFSRGU.js","assets/chunks/UserRooms.DeQYNMXE.js"])))=>i.map(i=>d[i]);
var dd=Object.defineProperty;var pd=(t,e,n)=>e in t?dd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tt=(t,e,n)=>pd(t,typeof e!="symbol"?e+"":e,n);import"./theme.O9NazERi.js";import{U as J,V as Z,p as Pe,S as _i,D as fe,q as je,ah as De,ai as Ks,aj as hr,ak as xe,k as uc,v as cc,P as yi,al as md,am as gd,an as Js,ao as lc,L as bd,ap as _d,aq as yd,s as Ys,h as pe,ar as hc,as as wd,at as vd}from"./framework.NFQ89pQN.js";const fc=J(()=>Z(()=>import("./AccountHome.B3l1QM_6.js"),__vite__mapDeps([0,1,2,3,4,5]))),dc=J(()=>Z(()=>import("./AccountPetname.B1SsZn0W.js"),__vite__mapDeps([6,2,1,5]))),pc=J(()=>Z(()=>import("./AccountReactions.BxKMwzdt.js"),__vite__mapDeps([7,2,8,5]))),mc=J(()=>Z(()=>import("./AccountSelect.CSrNQDF0.js"),__vite__mapDeps([9,2,10,1,5]))),gc=J(()=>Z(()=>import("./AccountProfile.w3d_fSx7.js"),__vite__mapDeps([11,1,2,5]))),bc=J(()=>Z(()=>import("./AccountBadge.CQJCM06e.js"),__vite__mapDeps([12,5,2]))),_c=J(()=>Z(()=>import("./AccountAvatar.BWPqEJvv.js"),__vite__mapDeps([13,14,2,5]))),yc=J(()=>Z(()=>import("./AuthForm.BU0e5c4W.js"),__vite__mapDeps([15,2,16,17,18,19,5]))),wc=J(()=>Z(()=>import("./AuthCreate.CxtPejO8.js"),__vite__mapDeps([20,2,16,5]))),vc=J(()=>Z(()=>import("./AuthPanel.BYfTL1HW.js"),__vite__mapDeps([21,5,2,4,22,17,16,18,19,23]))),xc=J(()=>Z(()=>import("./AuthCredentials.mAECC7N5.js"),__vite__mapDeps([22,2,17,16,18,19,23,5]))),kc=J(()=>Z(()=>import("./ChatInput.BSVbM7wr.js"),__vite__mapDeps([24,2,5]))),Ec=J(()=>Z(()=>import("./ChatMessage.C54jh36M.js"),__vite__mapDeps([25,2,26,27,5]))),Ac=J(()=>Z(()=>import("./ChatMessages._3FAVJKI.js"),__vite__mapDeps([28,2,25,26,27,5]))),Sc=J(()=>Z(()=>import("./ChatTopics.qnrTBFc4.js"),__vite__mapDeps([29,2,5]))),Cc=J(()=>Z(()=>import("./ChatRoom.Dv88kCpz.js"),__vite__mapDeps([30,5,2,4]))),Dc=J(()=>Z(()=>import("./DictBy.CHWJE006.js"),__vite__mapDeps([31,2,5]))),Tc=J(()=>Z(()=>import("./DictPanel.CDs2LmM_.js"),__vite__mapDeps([32,2,33,5]))),Oc=J(()=>Z(()=>import("./DictAuthors.M_Rf8Rp5.js"),__vite__mapDeps([34,5,2]))),Fc=J(()=>Z(()=>import("./DictDefCard.GLOsDfD1.js"),__vite__mapDeps([35,2,33,5]))),Ic=J(()=>Z(()=>import("./DictDefList.CVmIwGf7.js"),__vite__mapDeps([36,2,33,5]))),Pc=J(()=>Z(()=>import("./DictDefPage.LCR19xeL.js"),__vite__mapDeps([37,2,33,5]))),Lc=J(()=>Z(()=>import("./DictWordCard.C6R47CAC.js"),__vite__mapDeps([38,2,5]))),Rc=J(()=>Z(()=>import("./DictWordList.CQV7xs0a.js"),__vite__mapDeps([39,2,5]))),Bc=J(()=>Z(()=>import("./DictWordPage.E27FX1AI.js"),__vite__mapDeps([40,2,5]))),Mc=J(()=>Z(()=>import("./DictLinkList.CiKufvf4.js"),__vite__mapDeps([41,2,5]))),Nc=J(()=>Z(()=>import("./DictLinkButton.wlDgpIC1.js"),__vite__mapDeps([42,2,5]))),jc=J(()=>Z(()=>import("./EmbedYoutube.CKPkSZg2.js"),__vite__mapDeps([43,2]))),$c=J(()=>Z(()=>import("./TorrentUpload.BJZilNrK.js"),__vite__mapDeps([44,2,5]))),zc=J(()=>Z(()=>import("./TorrentDownload.DVQxf5nT.js"),__vite__mapDeps([45,5,2]))),Uc=J(()=>Z(()=>import("./FileCard.BTZLbVKs.js"),__vite__mapDeps([46,2,5]))),Hc=J(()=>Z(()=>import("./FileHash.jdXLRX7L.js"),__vite__mapDeps([47,2,5]))),qc=J(()=>Z(()=>import("./FileShare.Bq2W6YJr.js"),__vite__mapDeps([48,2,5]))),Wc=J(()=>Z(()=>import("./FileInfo.CLjQFevh.js"),__vite__mapDeps([49,2,5]))),Vc=J(()=>Z(()=>import("./FileList.KtimnSO-.js"),__vite__mapDeps([50,2,5]))),Gc=J(()=>Z(()=>import("./FormLink.Dwr8DScQ.js"),__vite__mapDeps([51,2,5]))),Zc=J(()=>Z(()=>import("./FormPicture.BD1FEPSI.js"),__vite__mapDeps([52,5,2]))),Kc=J(()=>Z(()=>import("./FormText.DnTY6oun.js"),__vite__mapDeps([53,2,26,5]))),Jc=J(()=>Z(()=>import("./FormYoutube.CkIfskca.js"),__vite__mapDeps([54,2,5]))),Yc=J(()=>Z(()=>import("./FormTitle.3ZECqUz0.js"),__vite__mapDeps([55,2]))),Xc=J(()=>Z(()=>import("./GiftCard.BJirnQ83.js"),__vite__mapDeps([56,2,57,58,59,5]))),Qc=J(()=>Z(()=>import("./GiftList.B6G8luTb.js"),__vite__mapDeps([60,61,58,2,5]))),el=J(()=>Z(()=>import("./GiftForm.B4fE0MYt.js"),__vite__mapDeps([62,2,10,1,57,58,59,3,5,63]))),tl=J(()=>Z(()=>import("./GiftButton.Dj2fC95Y.js"),__vite__mapDeps([64,5,2]))),nl=J(()=>Z(()=>import("./GiftWallets._4N_ufCv.js"),__vite__mapDeps([65,2,5,63]))),rl=J(()=>Z(()=>import("./GiftWallet.DpuXnx1P.js"),__vite__mapDeps([66,2,5]))),il=J(()=>Z(()=>import("./GiftStatus.BhOrmILv.js"),__vite__mapDeps([67,2]))),sl=J(()=>Z(()=>import("./GunGraph.DaDx0sqb.js"),__vite__mapDeps([68,2,5]))),ol=J(()=>Z(()=>import("./GunRelay.CliyHAQy.js"),__vite__mapDeps([69,2,5]))),al=J(()=>Z(()=>import("./GunRelayList.C6QXQTG_.js"),__vite__mapDeps([70,2,5]))),ul=J(()=>Z(()=>import("./GunTools.wd4z2Wdq.js"),__vite__mapDeps([71,5,2]))),cl=J(()=>Z(()=>import("./GunSettings.SWw6Uyl7.js"),__vite__mapDeps([72,2,5]))),ll=J(()=>Z(()=>import("./MateButton.jE7AUG7W.js"),__vite__mapDeps([73,2,27,5]))),hl=J(()=>Z(()=>import("./MateList.DvWlFNsV.js"),__vite__mapDeps([74,2,27,5]))),fl=J(()=>Z(()=>import("./MateLink.COXmrdoj.js"),__vite__mapDeps([75,27,2,5]))),dl=J(()=>Z(()=>import("./PostCard.XjZxPWBQ.js"),__vite__mapDeps([76,77,26,57,58,2,5]))),pl=J(()=>Z(()=>import("./PostForm.BfWJfz3m.js"),__vite__mapDeps([78,2,77,26,57,58,5]))),ml=J(()=>Z(()=>import("./PostGraph.BDLBF0d0.js"),__vite__mapDeps([79,80,2,5]))),gl=J(()=>Z(()=>import("./PostLine.DsvCWI-O.js"),__vite__mapDeps([81,77,26,57,58,2,5]))),bl=J(()=>Z(()=>import("./PostLink.kqLWZvnO.js"),__vite__mapDeps([82,2,5]))),_l=J(()=>Z(()=>import("./PostList.CMrQ2YJG.js"),__vite__mapDeps([83,2,84,77,26,57,58,8,5]))),yl=J(()=>Z(()=>import("./PostPage.SlJ18aZt.js"),__vite__mapDeps([85,26,77,57,58,2,84,5]))),wl=J(()=>Z(()=>import("./PostActionStar.Cb4pwsfW.js"),__vite__mapDeps([86,2,5]))),vl=J(()=>Z(()=>import("./PostActionUpdate.Cubjmquk.js"),__vite__mapDeps([87,2,77,26,57,58,5]))),xl=J(()=>Z(()=>import("./PostActionBan.DJxD4nQM.js"),__vite__mapDeps([88,2,5]))),kl=J(()=>Z(()=>import("./PostActionReact.ppvJFQxw.js"),__vite__mapDeps([89,2,27,8,5]))),El=J(()=>Z(()=>import("./PostReactionButton.B_rnxP1B.js"),__vite__mapDeps([90,2,5]))),Al=J(()=>Z(()=>import("./PostReactionTabs.CCADJq9P.js"),__vite__mapDeps([91,2,27,5]))),Sl=J(()=>Z(()=>import("./MessageExchange.BGmh8iGJ.js"),__vite__mapDeps([92,1,2,93,5,48]))),Cl=J(()=>Z(()=>import("./MessagesCount.D83zvTnB.js"),__vite__mapDeps([94,93,2,5]))),Dl=J(()=>Z(()=>import("./MessageList.BFSHy0fP.js"),__vite__mapDeps([95,2,93,5]))),Tl=J(()=>Z(()=>import("./ProjectList.B_OdBwFW.js"),__vite__mapDeps([96,2,3,5,97,59]))),Ol=J(()=>Z(()=>import("./ProjectCard.CfMS2Ygj.js"),__vite__mapDeps([98,2,59,5]))),Fl=J(()=>Z(()=>import("./ProjectPage.BpWf6H6B.js"),__vite__mapDeps([99,2,26,59,5]))),Il=J(()=>Z(()=>import("./ProjectFunding.5OF5KI06.js"),__vite__mapDeps([100,2,61,58,5]))),Pl=J(()=>Z(()=>import("./ProjectForm.B3seFmlG.js"),__vite__mapDeps([97,2,59,5]))),Ll=J(()=>Z(()=>import("./QrLoad.C5lxyNHt.js"),__vite__mapDeps([101,18,19,2]))),Rl=J(()=>Z(()=>import("./QrShow.CPpX1_Q_.js"),__vite__mapDeps([23,2,19]))),Bl=J(()=>Z(()=>import("./QrShare.cF73oKYE.js"),__vite__mapDeps([102,2,5]))),Ml=J(()=>Z(()=>import("./RoomCard.CJyVuUVt.js"),__vite__mapDeps([103,104,2,4,5]))),Nl=J(()=>Z(()=>import("./RoomFeature.kRSLXbHZ.js"),__vite__mapDeps([105,5,2]))),jl=J(()=>Z(()=>import("./RoomFeatureIcon.D77vwZGQ.js"),__vite__mapDeps([106,2]))),$l=J(()=>Z(()=>import("./RoomForm.cy15he4W.js"),__vite__mapDeps([107,2,4,5]))),zl=J(()=>Z(()=>import("./RoomLogo.BwdiWLS0.js"),__vite__mapDeps([108,2,104,5]))),Ul=J(()=>Z(()=>import("./RoomList.B-YxK1e6.js"),__vite__mapDeps([109,110,2,5]))),Hl=J(()=>Z(()=>import("./RoomPage.DMcjC3yD.js"),__vite__mapDeps([111,26,110,2,4,5]))),ql=J(()=>Z(()=>import("./RoomProfile.OndR7Tp9.js"),__vite__mapDeps([112,26,110,2,4,5]))),Wl=J(()=>Z(()=>import("./RoomButton.BqmQCoMk.js"),__vite__mapDeps([113,104,2,4,5]))),Vl=J(()=>Z(()=>import("./RoomActions.BuVu-U3-.js"),__vite__mapDeps([114,2,5]))),Gl=J(()=>Z(()=>import("./GuestList.C3RIJxhy.js"),__vite__mapDeps([115,2,110,10,1,5]))),Zl=J(()=>Z(()=>import("./SpacePlane.vUzPg02A.js"),__vite__mapDeps([116,2,27,5]))),Kl=J(()=>Z(()=>import("./SpaceGuest.U6cqzHLD.js"),__vite__mapDeps([117,14,2,5]))),Jl=J(()=>Z(()=>import("./SpaceArrow.B3G-7Re0.js"),__vite__mapDeps([118,2]))),Yl=J(()=>Z(()=>import("./SpaceDraw.Bk0EkYgv.js"),__vite__mapDeps([119,2,5]))),Xl=J(()=>Z(()=>import("./SpaceStatus.BOXiLepI.js"),__vite__mapDeps([120,2]))),Ql=J(()=>Z(()=>import("./UiButton.Ds_ngxyM.js"),__vite__mapDeps([121,2]))),eh=J(()=>Z(()=>import("./UiLayer.D4NOx9JM.js"),__vite__mapDeps([122,2]))),th=J(()=>Z(()=>import("./UiLink.BB0fQxqK.js"),__vite__mapDeps([123,2]))),nh=J(()=>Z(()=>import("./UiModal.B96ALWcM.js"),__vite__mapDeps([124,2]))),rh=J(()=>Z(()=>import("./UiPanel.B357l0PK.js"),__vite__mapDeps([125,2]))),ih=J(()=>Z(()=>import("./UiDark.DrfVDgHD.js"),__vite__mapDeps([126,2,5]))),sh=J(()=>Z(()=>import("./UiComponents.C78L_cLG.js"),__vite__mapDeps([127,5,2]))),oh=J(()=>Z(()=>import("./UserAvatar.DVUHm2xj.js"),__vite__mapDeps([128,2,14,5]))),ah=J(()=>Z(()=>import("./UserGraph.D4BNHZk_.js"),__vite__mapDeps([129,27,2,80,5]))),uh=J(()=>Z(()=>import("./UserHome.YaopaEyR.js"),__vite__mapDeps([130,2,110,5,113,104,4,48,49]))),ch=J(()=>Z(()=>import("./UserIcon.zIRyQOzf.js"),__vite__mapDeps([131,5,2]))),lh=J(()=>Z(()=>import("./UserListOverlay.CI4HgbXR.js"),__vite__mapDeps([132,2,110,10,1,5]))),hh=J(()=>Z(()=>import("./UserProfile.XAzArs5c.js"),__vite__mapDeps([133,2,1,5]))),fh=J(()=>Z(()=>import("./UserProfileField.BZJFSRGU.js"),__vite__mapDeps([134,2,5]))),dh=J(()=>Z(()=>import("./UserRooms.DeQYNMXE.js"),__vite__mapDeps([135,2,5]))),ms=Object.freeze(Object.defineProperty({__proto__:null,AccountAvatar:_c,AccountBadge:bc,AccountHome:fc,AccountPetname:dc,AccountProfile:gc,AccountReactions:pc,AccountSelect:mc,AuthCreate:wc,AuthCredentials:xc,AuthForm:yc,AuthPanel:vc,ChatInput:kc,ChatMessage:Ec,ChatMessages:Ac,ChatRoom:Cc,ChatTopics:Sc,DictAuthors:Oc,DictBy:Dc,DictDefCard:Fc,DictDefList:Ic,DictDefPage:Pc,DictLinkButton:Nc,DictLinkList:Mc,DictPanel:Tc,DictWordCard:Lc,DictWordList:Rc,DictWordPage:Bc,EmbedYoutube:jc,FileCard:Uc,FileHash:Hc,FileInfo:Wc,FileList:Vc,FileShare:qc,FormLink:Gc,FormPicture:Zc,FormText:Kc,FormTitle:Yc,FormYoutube:Jc,GiftButton:tl,GiftCard:Xc,GiftForm:el,GiftList:Qc,GiftStatus:il,GiftWallet:rl,GiftWallets:nl,GuestList:Gl,GunGraph:sl,GunRelay:ol,GunRelayList:al,GunSettings:cl,GunTools:ul,MateButton:ll,MateLink:fl,MateList:hl,MessageExchange:Sl,MessageList:Dl,MessagesCount:Cl,PostActionBan:xl,PostActionReact:kl,PostActionStar:wl,PostActionUpdate:vl,PostCard:dl,PostForm:pl,PostGraph:ml,PostLine:gl,PostLink:bl,PostList:_l,PostPage:yl,PostReactionButton:El,PostReactionTabs:Al,ProjectCard:Ol,ProjectForm:Pl,ProjectFunding:Il,ProjectList:Tl,ProjectPage:Fl,QrLoad:Ll,QrShare:Bl,QrShow:Rl,RoomActions:Vl,RoomButton:Wl,RoomCard:Ml,RoomFeature:Nl,RoomFeatureIcon:jl,RoomForm:$l,RoomList:Ul,RoomLogo:zl,RoomPage:Hl,RoomProfile:ql,SpaceArrow:Jl,SpaceDraw:Yl,SpaceGuest:Kl,SpacePlane:Zl,SpaceStatus:Xl,TorrentDownload:zc,TorrentUpload:$c,UiButton:Ql,UiComponents:sh,UiDark:ih,UiLayer:eh,UiLink:th,UiModal:nh,UiPanel:rh,UserAvatar:oh,UserGraph:ah,UserHome:uh,UserIcon:ch,UserListOverlay:lh,UserProfile:hh,UserProfileField:fh,UserRooms:dh},Symbol.toStringTag,{value:"Module"}));var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fi,To;function xd(){if(To)return Fi;To=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Fi=function(l,f){f=f||{};var h=typeof l;if(h==="string"&&l.length>0)return o(l);if(h==="number"&&isFinite(l))return f.long?u(l):a(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function o(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var h=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*i;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=n?Math.round(l/n)+"h":f>=e?Math.round(l/e)+"m":f>=t?Math.round(l/t)+"s":l+"ms"}function u(l){var f=Math.abs(l);return f>=r?c(l,f,r,"day"):f>=n?c(l,f,n,"hour"):f>=e?c(l,f,e,"minute"):f>=t?c(l,f,t,"second"):l+" ms"}function c(l,f,h,d){var p=f>=h*1.5;return Math.round(l/h)+" "+d+(p?"s":"")}return Fi}var kd=xd();const Ed=Kn(kd);var Ad=Object.create,ph=Object.defineProperty,Sd=Object.getOwnPropertyDescriptor,Cd=Object.getOwnPropertyNames,Dd=Object.getPrototypeOf,Td=Object.prototype.hasOwnProperty,An=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Od=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cd(e))!Td.call(t,i)&&i!==n&&ph(t,i,{get:()=>e[i],enumerable:!(r=Sd(e,i))||r.enumerable});return t},Xs=(t,e,n)=>(n=t!=null?Ad(Dd(t)):{},Od(ph(n,"default",{value:t,enumerable:!0}),t)),mh=An(t=>{(function(e){typeof DO_NOT_EXPORT_CRC>"u"?typeof t=="object"?e(t):typeof define=="function"&&define.amd?define(function(){var n={};return e(n),n}):e({}):e({})})(function(e){e.version="0.3.0";function n(){for(var c=0,l=new Array(256),f=0;f!=256;++f)c=f,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,c=c&1?-306674912^c>>>1:c>>>1,l[f]=c;return typeof Int32Array<"u"?new Int32Array(l):l}var r=n(),i=typeof Buffer<"u";function s(c){if(c.length>32768&&i)return a(new Buffer(c));for(var l=-1,f=c.length-1,h=0;h<f;)l=r[(l^c.charCodeAt(h++))&255]^l>>>8,l=r[(l^c.charCodeAt(h++))&255]^l>>>8;return h===f&&(l=l>>>8^r[(l^c.charCodeAt(h))&255]),l^-1}function o(c){if(c.length>1e4)return a(c);for(var l=-1,f=0,h=c.length-3;f<h;)l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255];for(;f<h+3;)l=l>>>8^r[(l^c[f++])&255];return l^-1}function a(c){for(var l=-1,f=0,h=c.length-7;f<h;)l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255],l=l>>>8^r[(l^c[f++])&255];for(;f<h+7;)l=l>>>8^r[(l^c[f++])&255];return l^-1}function u(c){for(var l=-1,f=0,h=c.length,d,p;f<h;)d=c.charCodeAt(f++),d<128?l=l>>>8^r[(l^d)&255]:d<2048?(l=l>>>8^r[(l^(192|d>>6&31))&255],l=l>>>8^r[(l^(128|d&63))&255]):d>=55296&&d<57344?(d=(d&1023)+64,p=c.charCodeAt(f++)&1023,l=l>>>8^r[(l^(240|d>>8&7))&255],l=l>>>8^r[(l^(128|d>>2&63))&255],l=l>>>8^r[(l^(128|p>>6&15|d&3))&255],l=l>>>8^r[(l^(128|p&63))&255]):(l=l>>>8^r[(l^(224|d>>12&15))&255],l=l>>>8^r[(l^(128|d>>6&63))&255],l=l>>>8^r[(l^(128|d&63))&255]);return l^-1}e.table=r,e.bstr=s,e.buf=o,e.str=u})}),Fd=An((t,e)=>{var n=mh();e.exports=o;var r=new Uint8Array(4),i=new Int32Array(r.buffer),s=new Uint32Array(r.buffer);function o(a){if(a[0]!==137)throw new Error("Invalid .png file header");if(a[1]!==80)throw new Error("Invalid .png file header");if(a[2]!==78)throw new Error("Invalid .png file header");if(a[3]!==71)throw new Error("Invalid .png file header");if(a[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(a[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(a[6]!==26)throw new Error("Invalid .png file header");if(a[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var u=!1,c=[],l=8;l<a.length;){r[3]=a[l++],r[2]=a[l++],r[1]=a[l++],r[0]=a[l++];var f=s[0]+4,h=new Uint8Array(f);h[0]=a[l++],h[1]=a[l++],h[2]=a[l++],h[3]=a[l++];var d=String.fromCharCode(h[0])+String.fromCharCode(h[1])+String.fromCharCode(h[2])+String.fromCharCode(h[3]);if(!c.length&&d!=="IHDR")throw new Error("IHDR header missing");if(d==="IEND"){u=!0,c.push({name:d,data:new Uint8Array(0)});break}for(var p=4;p<f;p++)h[p]=a[l++];r[3]=a[l++],r[2]=a[l++],r[1]=a[l++],r[0]=a[l++];var m=i[0],g=n.buf(h);if(g!==m)throw new Error("CRC values for "+d+" header do not match, PNG file is likely corrupted");var y=new Uint8Array(h.buffer.slice(4));c.push({name:d,data:y})}if(!u)throw new Error(".png file ended prematurely: no IEND header was found");return c}}),Id=An((t,e)=>{e.exports=function(n,r,i){var s=[],o=n.length;if(o===0)return s;var a=r<0?Math.max(0,r+o):r||0;for(i!==void 0&&(o=i<0?i+o:i);o-- >a;)s[o-a]=n[o];return s}}),Pd=An((t,e)=>{var n=Id(),r=mh();e.exports=a;var i=new Uint8Array(4),s=new Int32Array(i.buffer),o=new Uint32Array(i.buffer);function a(u){var c=8,l=c,f;for(f=0;f<u.length;f++)c+=u[f].data.length,c+=12;var h=new Uint8Array(c);for(h[0]=137,h[1]=80,h[2]=78,h[3]=71,h[4]=13,h[5]=10,h[6]=26,h[7]=10,f=0;f<u.length;f++){var d=u[f],p=d.name,m=d.data,g=m.length,y=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)];o[0]=g,h[l++]=i[3],h[l++]=i[2],h[l++]=i[1],h[l++]=i[0],h[l++]=y[0],h[l++]=y[1],h[l++]=y[2],h[l++]=y[3];for(var _=0;_<g;)h[l++]=m[_++];var b=y.concat(n(m)),w=r.buf(b);s[0]=w,h[l++]=i[3],h[l++]=i[2],h[l++]=i[1],h[l++]=i[0]}return h}}),Ld=An((t,e)=>{e.exports=n;function n(r,i){if(r=String(r),i=String(i),!/^[\x00-\xFF]+$/.test(r)||!/^[\x00-\xFF]+$/.test(i))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(r.length>=80)throw new Error('Keyword "'+r+'" is longer than the 79-character limit imposed by the PNG specification');for(var s=r.length+i.length+1,o=new Uint8Array(s),a=0,u,c=0;c<r.length;c++){if(!(u=r.charCodeAt(c)))throw new Error("0x00 character is not permitted in tEXt keywords");o[a++]=u}o[a++]=0;for(var l=0;l<i.length;l++){if(!(u=i.charCodeAt(l)))throw new Error("0x00 character is not permitted in tEXt content");o[a++]=u}return{name:"tEXt",data:o}}}),Rd=An((t,e)=>{e.exports=n;function n(r){r.data&&r.name&&(r=r.data);for(var i=!0,s="",o="",a=0;a<r.length;a++){var u=r[a];if(i)u?o+=String.fromCharCode(u):i=!1;else if(u)s+=String.fromCharCode(u);else throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content")}return{keyword:o,text:s}}}),Bd=An(t=>{t.encode=Ld(),t.decode=Rd()}),Md=()=>{if(typeof window>"u"||typeof window.CanvasRenderingContext2D>"u"||!n())return;let t=CanvasRenderingContext2D.prototype,e=t.drawImage;if(!e){console.error("This script requires a basic implementation of drawImage");return}t.drawImage=function(o,a,u){if(arguments.length!==9)return e.apply(this,[...arguments]);let c=r(...arguments);if(!i(c))return e.apply(this,c)};function n(){let o=document.createElement("canvas").getContext("2d");o.fillRect(0,0,40,40),o.drawImage(o.canvas,-40,-40,80,80,50,50,20,20);let a=o.getImageData(50,50,30,30),u=new Uint32Array(a.data.buffer),c=(h,d)=>u[d*a.width+h],l=[[9,9],[20,9],[9,20],[20,20]],f=[[10,10],[19,10],[10,19],[19,19]];return l.some(([h,d])=>c(h,d)!==0)||f.some(([h,d])=>c(h,d)===0)}function r(o,a,u,c,l,f,h,d,p){let{width:m,height:g}=s(o);c<0&&(a+=c,c=Math.abs(c)),l<0&&(u+=l,l=Math.abs(l)),d<0&&(f+=d,d=Math.abs(d)),p<0&&(h+=p,p=Math.abs(p));let y=Math.max(a,0),_=Math.min(a+c,m),b=Math.max(u,0),w=Math.min(u+l,g),v=d/c,A=p/l;return[o,y,b,_-y,w-b,a<0?f-a*v:f,u<0?h-u*A:h,(_-y)*v,(w-b)*A]}function i(o){return[3,4,7,8].some(a=>!o[a])}function s(o){let a=u=>{let c=globalThis[u];return c&&o instanceof c};if(a("HTMLImageElement"))return{width:o.naturalWidth,height:o.naturalHeight};if(a("HTMLVideoElement"))return{width:o.videoWidth,height:o.videoHeight};if(a("SVGImageElement"))throw new TypeError("SVGImageElement isn't yet supported as source image.","UnsupportedError");if(a("HTMLCanvasElement")||a("ImageBitmap"))return o}},gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function Nd(t){return t.split("").reduce((e,n)=>e*64+gh.indexOf(n),0)}function jd(t){let e=gh.split(""),n=[],r=0;for(let i of t)n[r++]=e.indexOf(i)/64;return n}function $d(t){return t&&typeof t=="string"&&t.length===87&&t.split(".").length===2}function bh(t){let e=t.split("."),n=e.map(a=>jd(a)),r=n.map(a=>a[42]),i=n.map(a=>a.reduce((u,c)=>u+c)/a.length),s=e.map(a=>Nd(a)%360),o=e.map((a,u)=>`hsl(${s[u]} ${r[u]*100}% ${i[u]*100}%)`);return{finals:r,decoded:n,angles:s,averages:i,colors:o}}function ni(t,e=3){return[...Array(Math.ceil(t.length/e))].map(()=>t.splice(0,e))}var _h=Xs(Fd()),zd=Xs(Pd()),yh=Xs(Bd()),kn=Pe(null);function Ud(t){try{let e=t.toDataURL("image/png").split(",")[1],n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}catch(e){return kn.value="Failed to convert canvas to buffer: "+e.message,null}}function Hd(t,e){try{let n=`<metadata>
      <gun-data>${JSON.stringify(e)}</gun-data>
    </metadata>`;return t.replace("</svg>",`${n}</svg>`)}catch(n){return kn.value="Failed to embed data in SVG: "+n.message,null}}function qd(t){console.log(t);try{let e=t.match(/<metadata>\s*<gun-data>(.*?)<\/gun-data>\s*<\/metadata>/s);return!e||!e[1]?(kn.value="No embedded data found in SVG",null):JSON.parse(e[1])}catch(e){return kn.value="Failed to extract data from SVG: "+e.message,null}}function Wd(t,e){try{let n=Ud(t);if(!n)return null;let r=(0,_h.default)(n);return r.splice(-1,0,yh.default.encode("message",JSON.stringify(e))),(0,zd.default)(r)}catch(n){return kn.value="Failed to embed data: "+n.message,null}}function Vd(t,e="image/png"){if(e==="image/svg+xml"){let n=new TextDecoder().decode(t);return qd(n)}try{let n=(0,_h.default)(t).filter(r=>r.name==="tEXt").map(r=>yh.default.decode(r.data)).find(r=>r.keyword==="message");return n?JSON.parse(n.text):null}catch(n){return kn.value=n.message,null}}async function by(t){try{if(!(t instanceof File))throw new Error("Input must be a File object");let e=await t.arrayBuffer(),n=new Uint8Array(e);return await Vd(n,t.type)}catch(e){return kn.value=e.message,null}}function Gd({pub:t,size:e,dark:n,draw:r,reflect:i,round:s,embed:o,p3:a}){let u=document.createElement("canvas");u.width=u.height=e;let c=u.getContext("2d"),{decoded:l,finals:f}=bh(t);if(Zd({ctx:c,top:f[0],bottom:f[1],size:e,dark:n}),r=="squares"?(c.filter="blur(20px)",Oo(l[0],c,e,a),c.filter="blur(0px)",c.globalCompositeOperation="color-burn",Oo(l[1],c,e,a)):(Fo(l[0],c,e,.42*e,a),c.globalCompositeOperation="multiply",Fo(l[1],c,e,.125*e,a)),i&&(c.globalCompositeOperation="source-over",c.scale(-1,1),c.translate(-e/2,0),c.drawImage(u,e/2,0,e,e,0,0,e,e),c.setTransform(1,0,0,1,0,0)),s){let d=c.getImageData(0,0,e,e);c.clearRect(0,0,e,e),c.fillStyle=n?"#cccccc":"#ffffff",c.fillRect(0,0,e,e),c.putImageData(d,0,0),c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(e/2,e/2,e/2,0,Math.PI*2),c.closePath(),c.fill()}let h=u.toDataURL("image/png");if(o){let d=Wd(u,{pub:t,content:o});if(d){let p=new Blob([d],{type:"image/png"});h=URL.createObjectURL(p)}}return h}function Zd({ctx:t,top:e=0,bottom:n=150,size:r=200,dark:i=!1}){let s=t.createLinearGradient(0,0,0,r),o=i?0:70;s.addColorStop(0,`hsl(0,0%,${o+e*30}%)`),s.addColorStop(1,`hsl(0,0%,${o+n*30}%)`),t.fillStyle=s,t.fillRect(0,0,r,r)}function Oo(t,e,n,r){ni(t,14).forEach(i=>{if(i.length===14){let[s,o,a,u,c,l,f,h,d,p,m,g,y,_]=i,b=n/8+a*n*(7/8),w=e.createLinearGradient(s*n+b*h,0,s*n+b*y,n);w.addColorStop(0,r?`color(display-p3 ${u} ${c} ${l} / ${f})`:`rgba(${u*255}, ${c*255}, ${l*255}, ${f})`),w.addColorStop(1,r?`color(display-p3 ${d} ${p} ${m} / ${g})`:`rgba(${d*255}, ${p*255}, ${m*255}, ${g})`),e.fillStyle=w,e.translate(s*n,o*n),e.rotate(_*Math.PI),e.fillRect(-b/2,-b/2,b,b),e.setTransform(1,0,0,1,0,0)}})}function Fo(t,e,n,r,i){ni(t,7).forEach(s=>{if(s.length===7){let[o,a,u,c,l,f,h]=s;e.beginPath(),e.arc(n/2+o*n/2,a*n,u*r,0,2*Math.PI),e.fillStyle=i?`color(display-p3 ${c} ${l} ${f} / ${h})`:`rgba(${c*255}, ${l*255}, ${f*255}, ${h})`,e.closePath(),e.fill()}})}function Kd({size:t=300,reflect:e=!0,follow:n=!0,finals:r=[.5,.5],averages:i=[.5,.5],breathVert:s=.03}={}){return`
    <script type="text/javascript"><![CDATA[
      // Compact state & precomputed constants
      const s = {
        e: [], // elements
        p: { x: null, y: null, tx: null, ty: null, a: false, lt: 0, lit: 0 }, // pointer state
        r: null, // rect
        a: false, // pulse active
        pt: 0, // pulse time
        pv: 0, // pulse value
        t: 0 // time
      },
      c = {
        sz: ${t},
        cx: ${t/2},
        cy: ${t/2},
        pz: ${t} * 1.2,
        bz: ${t} * 0.4 * ${r[1]},
        pr: ${t} * (0.5 + ${r[0]}/4),
        mv: (0.1 + 0.05*${i[0]}) * Math.max(0.8, Math.min(4.4, 200/${t})),
        bs: 0.1 * Math.max(0.8, Math.min(1.4, 200/${t})),
        bv: ${s} * Math.max(0.8, Math.min(1.4, 200/${t})),
        bd: 4500 + ${i[0]}*1000,
        pa: 0.6 * Math.max(0.8, Math.min(1.4, 200/${t})),
        pr: 200,
        pf: 700,
        rf: ${n},
        d: 900,
        td: 1500000,
        pp: 0.5+ 0.5*${i[1]}
      };

      // Init using IIFE
      (() => {
        const svg = document.currentScript?.closest('svg');
        if (!svg) return;
        
        // Update rect and get element collections
        const ur = () => s.r = svg.getBoundingClientRect();
        ur();
        
        // Cache elements for better performance
        s.e = [
          ...Array.from(svg.querySelectorAll('.interactive-circle')).map(el => {
            const x = +el.getAttribute('data-cx');
            const y = +el.getAttribute('data-cy');
            const r = +el.getAttribute('r');
            const o = +el.getAttribute('data-opacity');
            const m = Math.pow(r / (c.sz * 0.05), 0.7) * o;
            const mr = el.nextElementSibling && 
                      el.nextElementSibling.getAttribute('cx') === (c.sz - x).toString() ?
                      el.nextElementSibling : null;
            
            return {
              el, t: 'c',
              x, y, r,
              cx: x, cy: y,
              m, mr,
              o: Math.random() * Math.PI * 2
            };
          }),
          ...Array.from(svg.querySelectorAll('.interactive-square')).map(el => {
            const x = +el.getAttribute('data-cx');
            const y = +el.getAttribute('data-cy');
            const r = +el.getAttribute('data-r');
            const o = +el.getAttribute('data-opacity');
            const a = +el.getAttribute('data-angle') + (Math.random() * 20 - 10);
            
            return {
              el, t: 's',
              x, y, z: c.bz, r: a,
              cx: x, cy: y, cz: c.bz, cr: a, cs: 1,
              m: Math.pow((r / c.sz), 1.5) * o,
              o: Math.random() * Math.PI * 2
            };
          })
        ];
        
        // Initial transform for squares
        s.e.filter(el => el.t === 's').forEach(setTransform);
        
        // Helper functions for event handling
        const gc = e => ({ x: (e.touches?.[0] || e.changedTouches?.[0] || e).clientX, 
                           y: (e.touches?.[0] || e.changedTouches?.[0] || e).clientY });
        
        const inBounds = (x, y) => {
          const { left, top, width, height } = s.r || {};
          return x >= left && x <= left + width && y >= top && y <= top + height;
        };
        
        // Event handlers
        const up = e => {
          if (!s.r) ur();
          const { left, top, width, height } = s.r;
          const { x, y } = gc(e);
          
          if (!inBounds(x, y) && !e.type.startsWith('touch')) {
            if (s.p.a) pl(false);
            return;
          }
          
          // Calculate relative position
          const tx = ((x - left) / width) * c.sz;
          const ty = ((y - top) / height) * c.sz;
          
          // Init/update target position
          if (s.p.tx === null) {
            s.p.tx = tx;
            s.p.ty = ty;
          } else {
            s.p.tx = tx;
            s.p.ty = ty;
            
            // Handle reappearance after inactivity
            if (!s.p.a && performance.now() - s.p.lt > 100) {
              s.p.x = tx;
              s.p.y = ty;
            }
          }
          
          // Initialize actual position if first interaction
          if (s.p.x === null) {
            s.p.x = s.p.tx;
            s.p.y = s.p.ty;
          }
          
          s.p.a = true;
          s.p.lt = performance.now();
        };
        
        const pd = e => {
          up(e);
          s.a = true;
          s.pt = performance.now();
          if (e.type === 'touchstart') e.preventDefault();
        };
        
        const pu = e => {
          s.a = false;
          s.pt = performance.now();
          
          if (e.type === 'touchend' || e.type === 'touchcancel') {
            pl(true);
          }
        };
        
        const pl = (immediate = false) => {
          s.p.a = false;
          s.p.lit = performance.now();
          s.a = false;
          s.pt = s.p.lit;
          
          if (immediate) {
            s.p.tx = s.p.x = null;
            s.p.ty = s.p.y = null;
          }
        };
        
        // Event listeners
        window.addEventListener('resize', ur, { passive: true });
        svg.addEventListener('pointermove', up, { passive: true });
        svg.addEventListener('pointerenter', up, { passive: true });
        svg.addEventListener('pointerleave', pl, { passive: true });
        svg.addEventListener('pointerdown', pd, { passive: false });
        window.addEventListener('pointerup', pu, { passive: true });
        window.addEventListener('pointercancel', pu, { passive: true });
        
        // Start animation
        requestAnimationFrame(animate);
        
        // Setup auto-cleanup
        if (document.currentScript?.parentNode) {
          const cleanup = () => {
            window.removeEventListener('resize', ur);
            svg.removeEventListener('pointermove', up);
            svg.removeEventListener('pointerenter', up);
            svg.removeEventListener('pointerleave', pl);
            svg.removeEventListener('pointerdown', pd);
            window.removeEventListener('pointerup', pu);
            window.removeEventListener('pointercancel', pu);
            s.e = [];
          };
          
          new MutationObserver(mutations => {
            mutations.forEach(m => {
              if (m.removedNodes) {
                m.removedNodes.forEach(n => {
                  if (n === document.currentScript) {
                    cleanup();
                    observer.disconnect();
                  }
                });
              }
            });
          }).observe(document.currentScript.parentNode, { childList: true });
        }
      })();
      
      // Apply 3D transform to square elements
      function setTransform(el) {
        const ps = c.pz / (c.pz + el.cz);
        const px = c.cx + (el.cx - c.cx) * ps;
        const py = c.cy + (el.cy - c.cy) * ps;
        el.el.setAttribute('transform', 
          'translate('+ px+' '+ py+') rotate('+ el.cr+ ') scale(' + ps * el.cs + ')'
        );
      }
      
      // Calculate effects based on time and pulse
      function fx(el, t, pv) {
        const θ = (t % c.bd) / c.bd * Math.PI * 2 + el.o;
        const w = Math.sin(θ);
        const mf = 1 - Math.min(0.8, el.m);
        return {
          s: (1 + w * c.bs * mf) * (1 + pv * c.pa * Math.pow(mf, 2)),
          y: w * c.sz * c.bv * mf,
          p: pv * c.pa * Math.pow(mf, 2)
        };
      }
      
      // Animation loop
      function animate(time) {
        const dt = s.t ? time - s.t : 0;
        s.t = time;
        
        // Handle pointer inactivity
        if (!s.p.a && s.p.x !== null && time - s.p.lit > c.td) {
          s.p.x = s.p.y = s.p.tx = s.p.ty = null;
          s.e.forEach(el => { if (el.ractive) el.ractive = false; });
        }
        
        // Smooth pointer movement
        if (s.p.a && s.p.tx !== null && s.p.x !== null) {
          const dx = s.p.tx - s.p.x;
          const dy = s.p.ty - s.p.y;
          const dist = Math.sqrt(dx*dx + dy*dy);
          const factor = dist > c.sz * 0.3 ? 0.2 : c.pp;
          
          s.p.x += dx * factor;
          s.p.y += dy * factor;
        }
        
        // Update pulse
        s.pv = s.a ? 
          s.pv + (1 - s.pv) * Math.min(1, (time - s.pt) / c.pr) : 
          s.pv * Math.max(0, 1 - (time - s.pt) / c.pf);
        
        if (s.pv < 0.001) s.pv = 0;
        
        // Process elements
        const ps = Math.max(0.6, Math.min(1, c.sz / 150));
        const active = s.p.x !== null;
        
        s.e.forEach(el => {
          const sm = Math.min(dt / c.d, 1) * (el.t === 's' ? 0.3 : 0.1);
          const effect = fx(el, time, s.pv);
          
          if (el.t === 'c') { // Circle
            let tx = el.x;
            let ty = el.y + effect.y;
            
            if (active) {
              const dx = s.p.x - el.x;
              const dy = s.p.y - el.y;
              const d = Math.sqrt(dx * dx + dy * dy);
              const mv = c.sz * c.mv * (1 - Math.min(0.8, el.m));
              const m = Math.min(d, mv) * ps;
              
              if (d > 0.1) {
                tx += m * (dx / d);
                ty += m * (dy / d);
              }
            }
            
            // Smooth interpolation
            const cx_diff = tx - el.cx;
            const cy_diff = ty - el.cy;
            const c_dist = Math.sqrt(cx_diff*cx_diff + cy_diff*cy_diff);
            const c_factor = c_dist > 20 ? 0.15 : 0.1;
            
            el.cx += cx_diff * c_factor;
            el.cy += cy_diff * c_factor;
            
            // Apply changes
            el.el.setAttribute('cx', el.cx);
            el.el.setAttribute('cy', el.cy);
            el.el.setAttribute('r', el.r * effect.s);
            
            // Handle reflection
            if (el.mr && ${e}) {
              // Initialize reflection properties if needed
              const reflectX = c.sz - el.x;
              if (!el.rcx) {
                el.rcx = reflectX;
                el.rcy = el.y;
                el.rtx = reflectX;
                el.rty = el.y;
                el.ractive = false;
                el.rest = { x: reflectX, y: el.y };
              }
              
              // Update reflection activity state
              if (active && !el.ractive && s.p.lt - s.p.lit > 100) {
                el.ractive = true;
              } else if (!active && el.ractive && s.p.lit - s.p.lt > 50) {
                el.ractive = false;
              }
              
              // Set target position based on active state and mode
              if (!active || !${n}) {
                el.rtx = c.sz - el.cx;
                el.rty = el.cy;
              } else {
                const rdx = s.p.x - reflectX;
                const rdy = s.p.y - el.y;
                const rd = Math.sqrt(rdx * rdx + rdy * rdy);
                const rmv = c.sz * c.mv * (1 - Math.min(0.8, el.m));
                const rm = Math.min(rd, rmv) * ps;
                
                if (rd > 0.1) {
                  el.rtx = reflectX + rm * (rdx / rd);
                  el.rty = el.y + effect.y + rm * (rdy / rd);
                } else {
                  el.rtx = reflectX;
                  el.rty = el.y + effect.y;
                }
              }
              
              // Return to rest position when inactive
              if (!active && !s.p.x) {
                el.rtx = el.rest.x;
                el.rty = el.rest.y + effect.y;
              }
              
              // Smooth interpolation for reflection
              const rcx_diff = el.rtx - el.rcx;
              const rcy_diff = el.rty - el.rcy;
              const rc_dist = Math.sqrt(rcx_diff*rcx_diff + rcy_diff*rcy_diff);
              const rc_factor = rc_dist > 30 ? 0.05 : (rc_dist > 10 ? 0.07 : 0.09);
              
              el.rcx += rcx_diff * rc_factor;
              el.rcy += rcy_diff * rc_factor;
              
              // Apply reflection position
              el.mr.setAttribute('cx', el.rcx);
              el.mr.setAttribute('cy', el.rcy);
              el.mr.setAttribute('r', el.r * effect.s);
            }
          } else if (el.t === 's') { // Square
            let tx = el.x, ty = el.y + effect.y, tz = c.bz, tr = el.r, ts = 1;
            
            if (active) {
              const dx = s.p.x - el.x;
              const dy = s.p.y - el.y;
              const d = Math.sqrt(dx * dx + dy * dy);
              const mf = 1 - Math.min(0.8, el.m);
              const mv = c.sz * 0.1 * mf;
              const m = Math.min(d, mv) * ps;
              
              if (d > 0.1) {
                tx += m * (dx / d);
                ty += m * (dy / d);
              }
              
              // Apply depth & scale changes
              const n = Math.min(d / c.pr, 1);
              const zf = 1 - n * n;
              tz -= c.bz * zf * mf;
              ts += zf * 0.3 * mf;
              tr += Math.sin(d / 100) * 5 * mf;
            } else {
              // Idle rotation
              tr += Math.sin(time / 1500 + el.o) * 3 * (1 - Math.min(0.8, el.m));
            }
            
            // Apply pulse to Z depth
            tz -= effect.p * c.bz * 0.7 * (1 - Math.min(0.8, el.m));
            ts *= effect.s;
            
            // Smoothing based on distance
            const sx_diff = tx - el.cx;
            const sy_diff = ty - el.cy;
            const s_dist = Math.sqrt(sx_diff*sx_diff + sy_diff*sy_diff);
            const s_factor = Math.min(1, s_dist > 20 ? sm * 1.5 : sm);
            
            // Apply interpolation
            el.cx += sx_diff * s_factor;
            el.cy += sy_diff * s_factor;
            el.cz += (tz - el.cz) * sm;
            el.cr += (tr - el.cr) * sm;
            el.cs += (ts - el.cs) * sm;
            
            setTransform(el);
          }
        });
        
        requestAnimationFrame(animate);
      }
    ]]><\/script>
  `}function Jd({pub:t,size:e=200,dark:n=!1,draw:r="circles",reflect:i=!0,round:s=!0,embed:o=!0,svg:a}={}){let{decoded:u,finals:c,averages:l}=bh(t),f=`
      <linearGradient id="bg" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="hsla(0,0%,${(n?0:70)+c[0]*30}%)"/>
        <stop offset="100%" stop-color="hsla(0,0%,${(n?0:70)+c[1]*30}%)"/>
      </linearGradient>
    `,h=(y,_=!1)=>ni(y,14).map(b=>{if(b.length!==14)return"";let[w,v,A,E,D,I,P,L,C,k,x,F,S,T]=b,R=e/8+A*e*(7/8),B=`gradient-${w}-${v}-${_?"2":"1"}`,U=w*e,N=v*e,z=a==="interactive"?`class="interactive-square" data-cx="${U}" data-cy="${N}" data-r="${R}" data-angle="${T*180}" data-opacity="${(P+F)/2}"`:"";return`
          <defs>
            <linearGradient id="${B}" x1="${L}" y1="0" x2="${S}" y2="1">
              <stop offset="0%" stop-color="color(display-p3 ${E} ${D} ${I} / ${P})"/>
              <stop offset="100%" stop-color="color(display-p3 ${C} ${k} ${x} / ${F})"/>
            </linearGradient>
          </defs>
          <g ${z} transform="translate(${U} ${N}) rotate(${T*180})">
            <rect 
              x="${-R/2}" y="${-R/2}" 
              width="${R}" height="${R}"
              fill="url(#${B})"
              style="${_?"mix-blend-mode:color-burn;":"filter:blur(20px);"}"
            />
          </g>
        `}).join(""),d=(y,_,b=!1)=>ni(y,7).map(w=>{if(w.length!==7)return"";let[v,A,E,D,I,P,L]=w,C=e/2+v*e/2,k=A*e,x=E*_;return`
          <circle 
            ${a==="interactive"?`class="interactive-circle" data-cx="${C}" data-cy="${k}" data-opacity="${L}"`:""}
            cx="${C}" cy="${k}" r="${x}"
            fill="color(display-p3 ${D} ${I} ${P} / ${L})"

            style="${b?"mix-blend-mode:multiply;":""}"
          />
          ${i?`
          <circle 
            cx="${e-C}" cy="${k}" r="${x}"
            fill="color(display-p3 ${D} ${I} ${P} / ${L})"

            style="${b?"mix-blend-mode:multiply;":""}"
          />`:""}
        `}).join(""),p=s?`
      <defs>
        <clipPath id="circle-mask">
          <circle cx="${e/2}" cy="${e/2}" r="${e/2}" />
        </clipPath>
      </defs>
    `:"",m=a==="interactive"?Kd({size:e,reflect:i,finals:c,averages:l}):"",g=`
      <svg 
        width="${e}" height="${e}" 
        viewBox="0 0 ${e} ${e}" 
        xmlns="http://www.w3.org/2000/svg"
        style="overflow: visible;"
        >
        <defs>${f}</defs>
        ${p}
        <g ${s?'clip-path="url(#circle-mask)"':""}>
          <rect x="${-e}" width="${3*e}" y="${-e}" height="${3*e}" fill="url(#bg)"/>
          ${r==="squares"?`${h(u[0],!1)}
             ${h(u[1],!0)}`:`${d(u[0],.42*e)}
             ${d(u[1],.125*e,!0)}`}
        </g>
        ${m}
      </svg>
    `;if(a==="interactive")return`data:image/svg+xml,${encodeURIComponent(g.trim())}`;if(o){let y={pub:t};o&&(y.content=o),g=Hd(g,y)}return`data:image/svg+xml;base64,${typeof btoa=="function"?btoa(g):Buffer.from(g).toString("base64")}`}var Fr={};function _y({pub:t,size:e=200,dark:n=!1,draw:r="circles",reflect:i=!0,round:s=!0,embed:o=!0,svg:a=!0,p3:u=!0}={}){let c=typeof window<"u"&&typeof document<"u";if(!$d(t))return"";if(a||!c)return Jd({pub:t,size:e,dark:n,draw:r,reflect:i,round:s,embed:o,svg:a});let l=JSON.stringify(arguments[0]);if(Fr!=null&&Fr[l])return Fr[l];let f=Gd({pub:t,size:e,dark:n,draw:r,reflect:i,round:s,embed:o,p3:u});return Fr[l]=f,f}Md();const Fn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Yd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function gs(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function kr(t,...e){if(!Yd(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Xd(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");gs(t.outputLen),gs(t.blockLen)}function ri(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qd(t,e){kr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function qn(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Ii(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yt(t,e){return t<<32-e|t>>>e}function e0(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Qs(t){return typeof t=="string"&&(t=e0(t)),kr(t),t}function t0(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];kr(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let wh=class{};function eo(t){const e=r=>t().update(Qs(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function n0(t=32){if(Fn&&typeof Fn.getRandomValues=="function")return Fn.getRandomValues(new Uint8Array(t));if(Fn&&typeof Fn.randomBytes=="function")return Uint8Array.from(Fn.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const to=BigInt(0),bs=BigInt(1);function Wn(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function no(t){if(!Wn(t))throw new Error("Uint8Array expected")}function pr(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Ir(t){const e=t.toString(16);return e.length&1?"0"+e:e}function vh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?to:BigInt("0x"+t)}const xh=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",r0=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mr(t){if(no(t),xh)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=r0[t[n]];return e}const Ft={_0:48,_9:57,A:65,F:70,a:97,f:102};function Io(t){if(t>=Ft._0&&t<=Ft._9)return t-Ft._0;if(t>=Ft.A&&t<=Ft.F)return t-(Ft.A-10);if(t>=Ft.a&&t<=Ft.f)return t-(Ft.a-10)}function ii(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(xh)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Io(t.charCodeAt(s)),a=Io(t.charCodeAt(s+1));if(o===void 0||a===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[i]=o*16+a}return r}function yn(t){return vh(mr(t))}function kh(t){return no(t),vh(mr(Uint8Array.from(t).reverse()))}function gr(t,e){return ii(t.toString(16).padStart(e*2,"0"))}function Eh(t,e){return gr(t,e).reverse()}function pt(t,e,n){let r;if(typeof e=="string")try{r=ii(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Wn(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function si(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];no(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Pi=t=>typeof t=="bigint"&&to<=t;function ro(t,e,n){return Pi(t)&&Pi(e)&&Pi(n)&&e<=t&&t<n}function jn(t,e,n,r){if(!ro(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function i0(t){let e;for(e=0;t>to;t>>=bs,e+=1);return e}const wi=t=>(bs<<BigInt(t))-bs,Li=t=>new Uint8Array(t),Po=t=>Uint8Array.from(t);function s0(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Li(t),i=Li(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...l)=>n(i,r,...l),u=(l=Li(0))=>{i=a(Po([0]),l),r=a(),l.length!==0&&(i=a(Po([1]),l),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const f=[];for(;l<e;){r=a();const h=r.slice();f.push(h),l+=r.length}return si(...f)};return(l,f)=>{o(),u(l);let h;for(;!(h=f(c()));)u();return o(),h}}const o0={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Wn(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function vi(t,e,n={}){const r=(i,s,o)=>{const a=o0[s];if(typeof a!="function")throw new Error("invalid validator function");const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+u)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Lo(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rt=BigInt(0),Ge=BigInt(1),bn=BigInt(2),a0=BigInt(3),_s=BigInt(4),Ro=BigInt(5),Bo=BigInt(8);function ut(t,e){const n=t%e;return n>=rt?n:e+n}function ys(t,e){if(t===rt)throw new Error("invert: expected non-zero number");if(e<=rt)throw new Error("invert: expected positive modulus, got "+e);let n=ut(t,e),r=e,i=rt,s=Ge;for(;n!==rt;){const o=r/n,a=r%n,u=i-s*o;r=n,n=a,i=s,s=u}if(r!==Ge)throw new Error("invert: does not exist");return ut(i,e)}function u0(t){let e=t-Ge,n=0;for(;e%bn===rt;)e/=bn,n++;let r=bn;const i=Er(t);for(;r<t&&Mo(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1){const o=(t+Ge)/_s;return function(a,u){const c=a.pow(u,o);if(!a.eql(a.sqr(c),u))throw new Error("Cannot find square root");return c}}const s=(e+Ge)/bn;return function(o,a){if(!Mo(o,a))throw new Error("Cannot find square root");let u=n,c=o.pow(o.mul(o.ONE,r),e),l=o.pow(a,s),f=o.pow(a,e);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(f);h<u&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const d=o.pow(c,Ge<<BigInt(u-h-1));c=o.sqr(d),l=o.mul(l,d),f=o.mul(f,c),u=h}return l}}function c0(t){return t%_s===a0?function(e,n){const r=(t+Ge)/_s,i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}:t%Bo===Ro?function(e,n){const r=e.mul(n,bn),i=(t-Ro)/Bo,s=e.pow(r,i),o=e.mul(n,s),a=e.mul(e.mul(o,bn),s),u=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(u),n))throw new Error("Cannot find square root");return u}:u0(t)}const l0=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function h0(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=l0.reduce((r,i)=>(r[i]="function",r),e);return vi(t,n)}function f0(t,e,n){if(n<rt)throw new Error("invalid exponent, negatives unsupported");if(n===rt)return t.ONE;if(n===Ge)return e;let r=t.ONE,i=e;for(;n>rt;)n&Ge&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ge;return r}function Ah(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,u)=>t.is0(a)?o:(r[u]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,u)=>t.is0(a)?o:(r[u]=t.mul(o,r[u]),t.mul(o,a)),s),r}function d0(t,e){const n=(t.ORDER-Ge)/bn,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("Cannot find square root: probably non-prime P");return i?1:s?0:-1}function Mo(t,e){const n=d0(t,e);return n===0||n===1}function Sh(t,e){e!==void 0&&gs(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Er(t,e,n=!1,r={}){if(t<=rt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Sh(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:wi(i),ZERO:rt,ONE:Ge,create:u=>ut(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return rt<=u&&u<t},is0:u=>u===rt,isOdd:u=>(u&Ge)===Ge,neg:u=>ut(-u,t),eql:(u,c)=>u===c,sqr:u=>ut(u*u,t),add:(u,c)=>ut(u+c,t),sub:(u,c)=>ut(u-c,t),mul:(u,c)=>ut(u*c,t),pow:(u,c)=>f0(a,u,c),div:(u,c)=>ut(u*ys(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>ys(u,t),sqrt:r.sqrt||(u=>(o||(o=c0(t)),o(a,u))),toBytes:u=>n?Eh(u,s):gr(u,s),fromBytes:u=>{if(u.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+u.length);return n?kh(u):yn(u)},invertBatch:u=>Ah(a,u),cmov:(u,c,l)=>l?c:u});return Object.freeze(a)}function Ch(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Dh(t){const e=Ch(t);return e+Math.ceil(e/2)}function p0(t,e,n=!1){const r=t.length,i=Ch(e),s=Dh(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?kh(t):yn(t),a=ut(o,e-Ge)+Ge;return n?Eh(a,i):gr(a,i)}function m0(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,c=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+c,a,r)}function g0(t,e,n){return t&e^~t&n}function b0(t,e,n){return t&e^t&n^e&n}let Th=class extends wh{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Ii(this.buffer)}update(e){ri(this),e=Qs(e),kr(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=Ii(e);for(;i<=s-o;o+=i)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ri(this),Qd(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,qn(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;m0(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Ii(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Vt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),We=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ve=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Pr=BigInt(2**32-1),No=BigInt(32);function _0(t,e=!1){return e?{h:Number(t&Pr),l:Number(t>>No&Pr)}:{h:Number(t>>No&Pr)|0,l:Number(t&Pr)|0}}function y0(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=_0(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const jo=(t,e,n)=>t>>>n,$o=(t,e,n)=>t<<32-n|e>>>n,In=(t,e,n)=>t>>>n|e<<32-n,Pn=(t,e,n)=>t<<32-n|e>>>n,Lr=(t,e,n)=>t<<64-n|e>>>n-32,Rr=(t,e,n)=>t>>>n-32|e<<64-n;function It(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const w0=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),v0=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,x0=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),k0=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,E0=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A0=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,S0=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gt=new Uint32Array(64);class C0 extends Th{constructor(e=32){super(64,e,8,!1),this.A=Vt[0]|0,this.B=Vt[1]|0,this.C=Vt[2]|0,this.D=Vt[3]|0,this.E=Vt[4]|0,this.F=Vt[5]|0,this.G=Vt[6]|0,this.H=Vt[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:u}=this;return[e,n,r,i,s,o,a,u]}set(e,n,r,i,s,o,a,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,n){for(let f=0;f<16;f++,n+=4)Gt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Gt[f-15],d=Gt[f-2],p=yt(h,7)^yt(h,18)^h>>>3,m=yt(d,17)^yt(d,19)^d>>>10;Gt[f]=m+Gt[f-7]+p+Gt[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:u,G:c,H:l}=this;for(let f=0;f<64;f++){const h=yt(a,6)^yt(a,11)^yt(a,25),d=l+h+g0(a,u,c)+S0[f]+Gt[f]|0,p=(yt(r,2)^yt(r,13)^yt(r,22))+b0(r,i,s)|0;l=c,c=u,u=a,a=o+d|0,o=s,s=i,i=r,r=d+p|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,u,c,l)}roundClean(){qn(Gt)}destroy(){this.set(0,0,0,0,0,0,0,0),qn(this.buffer)}}const Oh=y0(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),D0=Oh[0],T0=Oh[1],Zt=new Uint32Array(80),Kt=new Uint32Array(80);let Fh=class extends Th{constructor(e=64){super(128,e,16,!1),this.Ah=Ve[0]|0,this.Al=Ve[1]|0,this.Bh=Ve[2]|0,this.Bl=Ve[3]|0,this.Ch=Ve[4]|0,this.Cl=Ve[5]|0,this.Dh=Ve[6]|0,this.Dl=Ve[7]|0,this.Eh=Ve[8]|0,this.El=Ve[9]|0,this.Fh=Ve[10]|0,this.Fl=Ve[11]|0,this.Gh=Ve[12]|0,this.Gl=Ve[13]|0,this.Hh=Ve[14]|0,this.Hl=Ve[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:l,Fh:f,Fl:h,Gh:d,Gl:p,Hh:m,Hl:g}=this;return[e,n,r,i,s,o,a,u,c,l,f,h,d,p,m,g]}set(e,n,r,i,s,o,a,u,c,l,f,h,d,p,m,g){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=l|0,this.Fh=f|0,this.Fl=h|0,this.Gh=d|0,this.Gl=p|0,this.Hh=m|0,this.Hl=g|0}process(e,n){for(let b=0;b<16;b++,n+=4)Zt[b]=e.getUint32(n),Kt[b]=e.getUint32(n+=4);for(let b=16;b<80;b++){const w=Zt[b-15]|0,v=Kt[b-15]|0,A=In(w,v,1)^In(w,v,8)^jo(w,v,7),E=Pn(w,v,1)^Pn(w,v,8)^$o(w,v,7),D=Zt[b-2]|0,I=Kt[b-2]|0,P=In(D,I,19)^Lr(D,I,61)^jo(D,I,6),L=Pn(D,I,19)^Rr(D,I,61)^$o(D,I,6),C=x0(E,L,Kt[b-7],Kt[b-16]),k=k0(C,A,P,Zt[b-7],Zt[b-16]);Zt[b]=k|0,Kt[b]=C|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:l,Eh:f,El:h,Fh:d,Fl:p,Gh:m,Gl:g,Hh:y,Hl:_}=this;for(let b=0;b<80;b++){const w=In(f,h,14)^In(f,h,18)^Lr(f,h,41),v=Pn(f,h,14)^Pn(f,h,18)^Rr(f,h,41),A=f&d^~f&m,E=h&p^~h&g,D=E0(_,v,E,T0[b],Kt[b]),I=A0(D,y,w,A,D0[b],Zt[b]),P=D|0,L=In(r,i,28)^Lr(r,i,34)^Lr(r,i,39),C=Pn(r,i,28)^Rr(r,i,34)^Rr(r,i,39),k=r&s^r&a^s&a,x=i&o^i&u^o&u;y=m|0,_=g|0,m=d|0,g=p|0,d=f|0,p=h|0,{h:f,l:h}=It(c|0,l|0,I|0,P|0),c=a|0,l=u|0,a=s|0,u=o|0,s=r|0,o=i|0;const F=w0(P,C,x);r=v0(F,I,L,k),i=F|0}({h:r,l:i}=It(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=It(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=It(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l}=It(this.Dh|0,this.Dl|0,c|0,l|0),{h:f,l:h}=It(this.Eh|0,this.El|0,f|0,h|0),{h:d,l:p}=It(this.Fh|0,this.Fl|0,d|0,p|0),{h:m,l:g}=It(this.Gh|0,this.Gl|0,m|0,g|0),{h:y,l:_}=It(this.Hh|0,this.Hl|0,y|0,_|0),this.set(r,i,s,o,a,u,c,l,f,h,d,p,m,g,y,_)}roundClean(){qn(Zt,Kt)}destroy(){qn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};class O0 extends Fh{constructor(){super(48),this.Ah=We[0]|0,this.Al=We[1]|0,this.Bh=We[2]|0,this.Bl=We[3]|0,this.Ch=We[4]|0,this.Cl=We[5]|0,this.Dh=We[6]|0,this.Dl=We[7]|0,this.Eh=We[8]|0,this.El=We[9]|0,this.Fh=We[10]|0,this.Fl=We[11]|0,this.Gh=We[12]|0,this.Gl=We[13]|0,this.Hh=We[14]|0,this.Hl=We[15]|0}}const F0=eo(()=>new C0),I0=eo(()=>new Fh),P0=eo(()=>new O0);let Ih=class extends wh{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Xd(e);const r=Qs(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),qn(s)}update(e){return ri(this),this.iHash.update(e),this}digestInto(e){ri(this),kr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Ph=(t,e,n)=>new Ih(t,e).update(n).digest();Ph.create=(t,e)=>new Ih(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zo=BigInt(0),ws=BigInt(1);function Ri(t,e){const n=e.negate();return t?n:e}function Lh(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Bi(t,e){Lh(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=wi(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Uo(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),u=t>>o;a>r&&(a-=s,u+=ws);const c=e*r,l=c+Math.abs(a)-1,f=a===0,h=a<0,d=e%2!==0;return{nextN:u,offset:l,isZero:f,isNeg:h,isNegF:d,offsetF:c}}function L0(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function R0(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Mi=new WeakMap,Rh=new WeakMap;function Ni(t){return Rh.get(t)||1}function B0(t,e){return{constTimeNegate:Ri,hasPrecomputes(n){return Ni(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>zo;)r&ws&&(i=i.add(s)),s=s.double(),r>>=ws;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Bi(r,e),o=[];let a=n,u=a;for(let c=0;c<i;c++){u=a,o.push(u);for(let l=1;l<s;l++)u=u.add(a),o.push(u);a=u.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=Bi(n,e);for(let u=0;u<a.windows;u++){const{nextN:c,offset:l,isZero:f,isNeg:h,isNegF:d,offsetF:p}=Uo(i,u,a);i=c,f?o=o.add(Ri(d,r[p])):s=s.add(Ri(h,r[l]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=Bi(n,e);for(let a=0;a<o.windows&&i!==zo;a++){const{nextN:u,offset:c,isZero:l,isNeg:f}=Uo(i,a,o);if(i=u,!l){const h=r[c];s=s.add(f?h.negate():h)}}return s},getPrecomputes(n,r,i){let s=Mi.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Mi.set(r,i(s))),s},wNAFCached(n,r,i){const s=Ni(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Ni(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Lh(r,e),Rh.set(n,r),Mi.delete(n)}}}function M0(t,e,n,r){if(L0(n,t),R0(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=i0(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=wi(o),u=new Array(Number(a)+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let l=i;for(let f=c;f>=0;f-=o){u.fill(i);for(let d=0;d<r.length;d++){const p=r[d],m=Number(p>>BigInt(f)&a);u[m]=u[m].add(n[d])}let h=i;for(let d=u.length-1,p=i;d>0;d--)p=p.add(u[d]),h=h.add(p);if(l=l.add(h),f!==0)for(let d=0;d<o;d++)l=l.double()}return l}function Bh(t){return h0(t.Fp),vi(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Sh(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ho(t){t.lowS!==void 0&&pr("lowS",t.lowS),t.prehash!==void 0&&pr("prehash",t.prehash)}function N0(t){const e=Bh(t);vi(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class j0 extends Error{constructor(e=""){super(e)}}const Nt={Err:j0,_tlv:{encode:(t,e)=>{const{Err:n}=Nt;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ir(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ir(i.length/2|128):"";return Ir(t)+s+i+e},decode(t,e){const{Err:n}=Nt;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+u);if(c.length!==u)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of c)o=o<<8|l;if(r+=u,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Nt;if(t<$t)throw new e("integer: negative integers are not allowed");let n=Ir(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Nt;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return yn(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Nt,i=pt("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,s),{v:c,l}=r.decode(2,u);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Nt,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},$t=BigInt(0),He=BigInt(1);BigInt(2);const qo=BigInt(3);BigInt(4);function $0(t){const e=N0(t),{Fp:n}=e,r=Er(e.n,e.nBitLength),i=e.toBytes||((m,g,y)=>{const _=g.toAffine();return si(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(m=>{const g=m.subarray(1),y=n.fromBytes(g.subarray(0,n.BYTES)),_=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:y,y:_}});function o(m){const{a:g,b:y}=e,_=n.sqr(m),b=n.mul(_,m);return n.add(n.add(b,n.mul(m,g)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return ro(m,He,e.n)}function u(m){const{allowedPrivateKeyLengths:g,nByteLength:y,wrapPrivateKey:_,n:b}=e;if(g&&typeof m!="bigint"){if(Wn(m)&&(m=mr(m)),typeof m!="string"||!g.includes(m.length))throw new Error("invalid private key");m=m.padStart(y*2,"0")}let w;try{w=typeof m=="bigint"?m:yn(pt("private key",m,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof m)}return _&&(w=ut(w,b)),jn("private key",w,He,b),w}function c(m){if(!(m instanceof h))throw new Error("ProjectivePoint expected")}const l=Lo((m,g)=>{const{px:y,py:_,pz:b}=m;if(n.eql(b,n.ONE))return{x:y,y:_};const w=m.is0();g==null&&(g=w?n.ONE:n.inv(b));const v=n.mul(y,g),A=n.mul(_,g),E=n.mul(b,g);if(w)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:v,y:A}}),f=Lo(m=>{if(m.is0()){if(e.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:g,y}=m.toAffine();if(!n.isValid(g)||!n.isValid(y))throw new Error("bad point: x or y not FE");const _=n.sqr(y),b=o(g);if(!n.eql(_,b))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(g,y,_){if(g==null||!n.isValid(g))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required");this.px=g,this.py=y,this.pz=_,Object.freeze(this)}static fromAffine(g){const{x:y,y:_}=g||{};if(!g||!n.isValid(y)||!n.isValid(_))throw new Error("invalid affine point");if(g instanceof h)throw new Error("projective point not allowed");const b=w=>n.eql(w,n.ZERO);return b(y)&&b(_)?h.ZERO:new h(y,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const y=Ah(n,g.map(_=>_.pz));return g.map((_,b)=>_.toAffine(y[b])).map(h.fromAffine)}static fromHex(g){const y=h.fromAffine(s(pt("pointHex",g)));return y.assertValidity(),y}static fromPrivateKey(g){return h.BASE.multiply(u(g))}static msm(g,y){return M0(h,r,g,y)}_setWindowSize(g){p.setWindowSize(this,g)}assertValidity(){f(this)}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:y,py:_,pz:b}=this,{px:w,py:v,pz:A}=g,E=n.eql(n.mul(y,A),n.mul(w,b)),D=n.eql(n.mul(_,A),n.mul(v,b));return E&&D}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:y}=e,_=n.mul(y,qo),{px:b,py:w,pz:v}=this;let A=n.ZERO,E=n.ZERO,D=n.ZERO,I=n.mul(b,b),P=n.mul(w,w),L=n.mul(v,v),C=n.mul(b,w);return C=n.add(C,C),D=n.mul(b,v),D=n.add(D,D),A=n.mul(g,D),E=n.mul(_,L),E=n.add(A,E),A=n.sub(P,E),E=n.add(P,E),E=n.mul(A,E),A=n.mul(C,A),D=n.mul(_,D),L=n.mul(g,L),C=n.sub(I,L),C=n.mul(g,C),C=n.add(C,D),D=n.add(I,I),I=n.add(D,I),I=n.add(I,L),I=n.mul(I,C),E=n.add(E,I),L=n.mul(w,v),L=n.add(L,L),I=n.mul(L,C),A=n.sub(A,I),D=n.mul(L,P),D=n.add(D,D),D=n.add(D,D),new h(A,E,D)}add(g){c(g);const{px:y,py:_,pz:b}=this,{px:w,py:v,pz:A}=g;let E=n.ZERO,D=n.ZERO,I=n.ZERO;const P=e.a,L=n.mul(e.b,qo);let C=n.mul(y,w),k=n.mul(_,v),x=n.mul(b,A),F=n.add(y,_),S=n.add(w,v);F=n.mul(F,S),S=n.add(C,k),F=n.sub(F,S),S=n.add(y,b);let T=n.add(w,A);return S=n.mul(S,T),T=n.add(C,x),S=n.sub(S,T),T=n.add(_,b),E=n.add(v,A),T=n.mul(T,E),E=n.add(k,x),T=n.sub(T,E),I=n.mul(P,S),E=n.mul(L,x),I=n.add(E,I),E=n.sub(k,I),I=n.add(k,I),D=n.mul(E,I),k=n.add(C,C),k=n.add(k,C),x=n.mul(P,x),S=n.mul(L,S),k=n.add(k,x),x=n.sub(C,x),x=n.mul(P,x),S=n.add(S,x),C=n.mul(k,S),D=n.add(D,C),C=n.mul(T,S),E=n.mul(F,E),E=n.sub(E,C),C=n.mul(F,k),I=n.mul(T,I),I=n.add(I,C),new h(E,D,I)}subtract(g){return this.add(g.negate())}is0(){return this.equals(h.ZERO)}wNAF(g){return p.wNAFCached(this,g,h.normalizeZ)}multiplyUnsafe(g){const{endo:y,n:_}=e;jn("scalar",g,$t,_);const b=h.ZERO;if(g===$t)return b;if(this.is0()||g===He)return this;if(!y||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,g,h.normalizeZ);let{k1neg:w,k1:v,k2neg:A,k2:E}=y.splitScalar(g),D=b,I=b,P=this;for(;v>$t||E>$t;)v&He&&(D=D.add(P)),E&He&&(I=I.add(P)),P=P.double(),v>>=He,E>>=He;return w&&(D=D.negate()),A&&(I=I.negate()),I=new h(n.mul(I.px,y.beta),I.py,I.pz),D.add(I)}multiply(g){const{endo:y,n:_}=e;jn("scalar",g,He,_);let b,w;if(y){const{k1neg:v,k1:A,k2neg:E,k2:D}=y.splitScalar(g);let{p:I,f:P}=this.wNAF(A),{p:L,f:C}=this.wNAF(D);I=p.constTimeNegate(v,I),L=p.constTimeNegate(E,L),L=new h(n.mul(L.px,y.beta),L.py,L.pz),b=I.add(L),w=P.add(C)}else{const{p:v,f:A}=this.wNAF(g);b=v,w=A}return h.normalizeZ([b,w])[0]}multiplyAndAddUnsafe(g,y,_){const b=h.BASE,w=(A,E)=>E===$t||E===He||!A.equals(b)?A.multiplyUnsafe(E):A.multiply(E),v=w(this,y).add(w(g,_));return v.is0()?void 0:v}toAffine(g){return l(this,g)}isTorsionFree(){const{h:g,isTorsionFree:y}=e;if(g===He)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:y}=e;return g===He?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return pr("isCompressed",g),this.assertValidity(),i(h,this,g)}toHex(g=!0){return pr("isCompressed",g),mr(this.toRawBytes(g))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,p=B0(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:a}}function z0(t){const e=Bh(t);return vi(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function U0(t){const e=z0(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(x){return ut(x,r)}function a(x){return ys(x,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:f}=$0({...e,toBytes(x,F,S){const T=F.toAffine(),R=n.toBytes(T.x),B=si;return pr("isCompressed",S),S?B(Uint8Array.from([F.hasEvenY()?2:3]),R):B(Uint8Array.from([4]),R,n.toBytes(T.y))},fromBytes(x){const F=x.length,S=x[0],T=x.subarray(1);if(F===i&&(S===2||S===3)){const R=yn(T);if(!ro(R,He,n.ORDER))throw new Error("Point is not on curve");const B=l(R);let U;try{U=n.sqrt(B)}catch(z){const Y=z instanceof Error?": "+z.message:"";throw new Error("Point is not on curve"+Y)}const N=(U&He)===He;return(S&1)===1!==N&&(U=n.neg(U)),{x:R,y:U}}else if(F===s&&S===4){const R=n.fromBytes(T.subarray(0,n.BYTES)),B=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:R,y:B}}else{const R=i,B=s;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+B+", got "+F)}}}),h=x=>mr(gr(x,e.nByteLength));function d(x){const F=r>>He;return x>F}function p(x){return d(x)?o(-x):x}const m=(x,F,S)=>yn(x.slice(F,S));class g{constructor(F,S,T){jn("r",F,He,r),jn("s",S,He,r),this.r=F,this.s=S,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(F){const S=e.nByteLength;return F=pt("compactSignature",F,S*2),new g(m(F,0,S),m(F,S,2*S))}static fromDER(F){const{r:S,s:T}=Nt.toSig(pt("DER",F));return new g(S,T)}assertValidity(){}addRecoveryBit(F){return new g(this.r,this.s,F)}recoverPublicKey(F){const{r:S,s:T,recovery:R}=this,B=A(pt("msgHash",F));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const U=R===2||R===3?S+e.n:S;if(U>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const N=(R&1)===0?"02":"03",z=u.fromHex(N+h(U)),Y=a(U),G=o(-B*Y),K=o(T*Y),ue=u.BASE.multiplyAndAddUnsafe(z,G,K);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ii(this.toDERHex())}toDERHex(){return Nt.hexFromSig(this)}toCompactRawBytes(){return ii(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(x){try{return c(x),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const x=Dh(e.n);return p0(e.randomBytes(x),e.n)},precompute(x=8,F=u.BASE){return F._setWindowSize(x),F.multiply(BigInt(3)),F}};function _(x,F=!0){return u.fromPrivateKey(x).toRawBytes(F)}function b(x){const F=Wn(x),S=typeof x=="string",T=(F||S)&&x.length;return F?T===i||T===s:S?T===2*i||T===2*s:x instanceof u}function w(x,F,S=!0){if(b(x))throw new Error("first arg must be private key");if(!b(F))throw new Error("second arg must be public key");return u.fromHex(F).multiply(c(x)).toRawBytes(S)}const v=e.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");const F=yn(x),S=x.length*8-e.nBitLength;return S>0?F>>BigInt(S):F},A=e.bits2int_modN||function(x){return o(v(x))},E=wi(e.nBitLength);function D(x){return jn("num < 2^"+e.nBitLength,x,$t,E),gr(x,e.nByteLength)}function I(x,F,S=P){if(["recovered","canonical"].some(ae=>ae in S))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:R}=e;let{lowS:B,prehash:U,extraEntropy:N}=S;B==null&&(B=!0),x=pt("msgHash",x),Ho(S),U&&(x=pt("prehashed msgHash",T(x)));const z=A(x),Y=c(F),G=[D(Y),D(z)];if(N!=null&&N!==!1){const ae=N===!0?R(n.BYTES):N;G.push(pt("extraEntropy",ae))}const K=si(...G),ue=z;function ke(ae){const he=v(ae);if(!f(he))return;const ye=a(he),me=u.BASE.multiply(he).toAffine(),ve=o(me.x);if(ve===$t)return;const Te=o(ye*o(ue+ve*Y));if(Te===$t)return;let O=(me.x===ve?0:2)|Number(me.y&He),V=Te;return B&&d(Te)&&(V=p(Te),O^=1),new g(ve,V,O)}return{seed:K,k2sig:ke}}const P={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};function C(x,F,S=P){const{seed:T,k2sig:R}=I(x,F,S),B=e;return s0(B.hash.outputLen,B.nByteLength,B.hmac)(T,R)}u.BASE._setWindowSize(8);function k(x,F,S,T=L){var Te;const R=x;F=pt("msgHash",F),S=pt("publicKey",S);const{lowS:B,prehash:U,format:N}=T;if(Ho(T),"strict"in T)throw new Error("options.strict was renamed to lowS");if(N!==void 0&&N!=="compact"&&N!=="der")throw new Error("format must be compact or der");const z=typeof R=="string"||Wn(R),Y=!z&&!N&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!z&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,K;try{if(Y&&(G=new g(R.r,R.s)),z){try{N!=="compact"&&(G=g.fromDER(R))}catch(O){if(!(O instanceof Nt.Err))throw O}!G&&N!=="der"&&(G=g.fromCompact(R))}K=u.fromHex(S)}catch{return!1}if(!G||B&&G.hasHighS())return!1;U&&(F=e.hash(F));const{r:ue,s:ke}=G,ae=A(F),he=a(ke),ye=o(ae*he),me=o(ue*he),ve=(Te=u.BASE.multiplyAndAddUnsafe(K,ye,me))==null?void 0:Te.toAffine();return ve?o(ve.x)===ue:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:w,sign:C,verify:k,ProjectivePoint:u,Signature:g,utils:y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function H0(t){return{hash:t,hmac:(e,...n)=>Ph(t,e,t0(...n)),randomBytes:n0}}function io(t,e){const n=r=>U0({...t,...H0(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mh=Er(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),q0=Mh.create(BigInt("-3")),W0=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),V0=io({a:q0,b:W0,Fp:Mh,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},F0),Nh=Er(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),G0=Nh.create(BigInt("-3")),Z0=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");io({a:G0,b:Z0,Fp:Nh,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},P0);const jh=Er(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),K0=jh.create(BigInt("-3")),J0=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");io({a:K0,b:J0,Fp:jh,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},I0);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wo=V0;async function ky(t,e){const n=new TextEncoder,r=t?typeof t=="string"?n.encode(X0(t)):t:crypto.getRandomValues(new Uint8Array(32)),i=[],s=n.encode(i.join("|")),o=new Uint8Array(r.length+s.length);if(o.set(r),o.set(s,r.length),o.length<16)throw new Error(`Insufficient input entropy (${o.length})`);const a="v1",u=[{label:"signing",type:"pub/priv"},{label:"encryption",type:"epub/epriv"}],[c,l]=await Promise.all(u.map(async({label:f})=>{const h=n.encode(`${f}-${a}`),d=await Q0(o,h);if(!Wo.utils.isValidPrivateKey(d))throw new Error(`Invalid private key for ${f}`);const p=Wo.getPublicKey(d,!1);return{pub:Y0(p),priv:vs(d)}}));return{pub:c.pub,priv:c.priv,epub:l.pub,epriv:l.priv}}function vs(t){return btoa(String.fromCharCode(...t)).replace(/\//g,"_").replace(/=/g,"").replace(/\+/g,"-")}function Y0(t){if(t[0]!==4)throw new Error("Invalid uncompressed public key format");return[vs(t.slice(1,33)),vs(t.slice(33,65))].join(".")}function X0(t){return t.normalize("NFC").trim()}async function Q0(t,e,n=3e5){const r=await crypto.subtle.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),i=await crypto.subtle.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:"SHA-256"},r,256);return new Uint8Array(i)}function on(t){return _d()?(yd(t),!0):!1}const ji=new WeakMap,ep=(...t)=>{var e;const n=t[0],r=(e=Js())==null?void 0:e.proxy;if(r==null&&!lc())throw new Error("injectLocal must be called in setup");return r&&ji.has(r)&&n in ji.get(r)?ji.get(r)[n]:bd(...t)};function tp(t){if(!hr(t))return xe(t);const e=new Proxy({},{get(n,r,i){return uc(Reflect.get(t.value,r,i))},set(n,r,i){return hr(t.value[r])&&!hr(i)?t.value[r].value=i:t.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return xe(e)}const En=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const np=t=>t!=null,rp=Object.prototype.toString,ip=t=>rp.call(t)==="[object Object]",xs=()=>+Date.now(),Ey=(t,e,n)=>Math.min(n,Math.max(e,t)),kt=()=>{},sp=op();function op(){var t,e;return En&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function so(...t){if(t.length!==1)return md(...t);const e=t[0];return typeof e=="function"?_i(gd(()=>({get:e,set:kt}))):Pe(e)}function oo(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return n}const ao=t=>t();function $h(t,e={}){let n,r,i=kt;const s=u=>{clearTimeout(u),i(),i=kt};let o;return u=>{const c=De(t),l=De(e.maxWait);return n&&s(n),c<=0||l!==void 0&&l<=0?(r&&(s(r),r=null),Promise.resolve(u())):new Promise((f,h)=>{i=e.rejectOnCancel?h:f,o=u,l&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,f(o())},l)),n=setTimeout(()=>{r&&s(r),r=null,f(u())},c)})}}function zh(t=ao,e={}){const{initialState:n="active"}=e,r=so(n==="active");function i(){r.value=!1}function s(){r.value=!0}const o=(...a)=>{r.value&&t(...a)};return{isActive:_i(r),pause:i,resume:s,eventFilter:o}}function ap(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const r=e;e=void 0,r&&await r},n}function Vo(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function up(t){return Object.entries(t)}function Jr(t){return Array.isArray(t)?t:[t]}function cp(t){return Js()}function Uh(t,e=200,n={}){return oo($h(e,n),t)}function lp(t,e=200,n={}){const r=Pe(De(t)),i=Uh(()=>{r.value=t.value},e,n);return je(t,()=>i()),Ks(r)}function Hh(t,e,n={}){const{eventFilter:r=ao,...i}=n;return je(t,oo(r,e),i)}function hp(t,e,n={}){const{eventFilter:r,initialState:i="active",...s}=n,{eventFilter:o,pause:a,resume:u,isActive:c}=zh(r,{initialState:i});return{stop:Hh(t,e,{...s,eventFilter:o}),pause:a,resume:u,isActive:c}}function uo(t,e=!0,n){cp()?cc(t,n):e?t():yi(t)}function qh(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let s=null;const o=fe(!1);function a(){s&&(clearInterval(s),s=null)}function u(){o.value=!1,a()}function c(){const l=De(e);l<=0||(o.value=!0,i&&t(),a(),o.value&&(s=setInterval(t,l)))}if(r&&En&&c(),hr(e)||typeof e=="function"){const l=je(e,()=>{o.value&&En&&c()});on(l)}return on(u),{isActive:Ks(o),pause:u,resume:c}}function fp(t,e,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n,s=fe(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function u(){s.value=!1,a()}function c(...l){i&&t(),a(),s.value=!0,o=setTimeout(()=>{s.value=!1,o=null,t(...l)},De(e))}return r&&(s.value=!0,En&&c()),on(u),{isPending:Ks(s),start:c,stop:u}}function Ay(t,e,n={}){const{debounce:r=0,maxWait:i=void 0,...s}=n;return Hh(t,e,{...s,eventFilter:$h(r,{maxWait:i})})}function dp(t,e,n={}){const{eventFilter:r=ao,...i}=n,s=oo(r,e);let o,a,u;if(i.flush==="sync"){const c=fe(!1);a=()=>{},o=l=>{c.value=!0,l(),c.value=!1},u=je(t,(...l)=>{c.value||s(...l)},i)}else{const c=[],l=fe(0),f=fe(0);a=()=>{l.value=f.value},c.push(je(t,()=>{f.value++},{...i,flush:"sync"})),o=h=>{const d=f.value;h(),l.value+=f.value-d},c.push(je(t,(...h)=>{const d=l.value>0&&l.value===f.value;l.value=0,f.value=0,!d&&s(...h)},i)),u=()=>{c.forEach(h=>h())}}return{stop:u,ignoreUpdates:o,ignorePrevAsyncUpdates:a}}function pp(t,e,n){return je(t,e,{...n,immediate:!0})}function Sy(t,e,n){let r;hr(n)?r={evaluating:n}:r=n||{};const{lazy:i=!1,evaluating:s=void 0,shallow:o=!0,onError:a=kt}=r,u=fe(!i),c=o?fe(e):Pe(e);let l=0;return Ys(async f=>{if(!u.value)return;l++;const h=l;let d=!1;s&&Promise.resolve().then(()=>{s.value=!0});try{const p=await t(m=>{f(()=>{s&&(s.value=!1),d||m()})});h===l&&(c.value=p)}catch(p){a(p)}finally{s&&h===l&&(s.value=!1),d=!0}}),i?pe(()=>(u.value=!0,c.value)):c}const Qe=En?window:void 0,Wh=En?window.document:void 0,xi=En?window.navigator:void 0;function Xe(t){var e;const n=De(t);return(e=n==null?void 0:n.$el)!=null?e:n}function we(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},r=(a,u,c,l)=>(a.addEventListener(u,c,l),()=>a.removeEventListener(u,c,l)),i=pe(()=>{const a=Jr(De(t[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),s=pp(()=>{var a,u;return[(u=(a=i.value)==null?void 0:a.map(c=>Xe(c)))!=null?u:[Qe].filter(c=>c!=null),Jr(De(i.value?t[1]:t[0])),Jr(uc(i.value?t[2]:t[1])),De(i.value?t[3]:t[2])]},([a,u,c,l])=>{if(n(),!(a!=null&&a.length)||!(u!=null&&u.length)||!(c!=null&&c.length))return;const f=ip(l)?{...l}:l;e.push(...a.flatMap(h=>u.flatMap(d=>c.map(p=>r(h,d,p,f)))))},{flush:"post"}),o=()=>{s(),n()};return on(n),o}let Go=!1;function Cy(t,e,n={}){const{window:r=Qe,ignore:i=[],capture:s=!0,detectIframe:o=!1,controls:a=!1}=n;if(!r)return a?{stop:kt,cancel:kt,trigger:kt}:kt;if(sp&&!Go){Go=!0;const g={passive:!0};Array.from(r.document.body.children).forEach(y=>we(y,"click",kt,g)),we(r.document.documentElement,"click",kt,g)}let u=!0;const c=g=>De(i).some(y=>{if(typeof y=="string")return Array.from(r.document.querySelectorAll(y)).some(_=>_===g.target||g.composedPath().includes(_));{const _=Xe(y);return _&&(g.target===_||g.composedPath().includes(_))}});function l(g){const y=De(g);return y&&y.$.subTree.shapeFlag===16}function f(g,y){const _=De(g),b=_.$.subTree&&_.$.subTree.children;return b==null||!Array.isArray(b)?!1:b.some(w=>w.el===y.target||y.composedPath().includes(w.el))}const h=g=>{const y=Xe(t);if(g.target!=null&&!(!(y instanceof Element)&&l(t)&&f(t,g))&&!(!y||y===g.target||g.composedPath().includes(y))){if("detail"in g&&g.detail===0&&(u=!c(g)),!u){u=!0;return}e(g)}};let d=!1;const p=[we(r,"click",g=>{d||(d=!0,setTimeout(()=>{d=!1},0),h(g))},{passive:!0,capture:s}),we(r,"pointerdown",g=>{const y=Xe(t);u=!c(g)&&!!(y&&!g.composedPath().includes(y))},{passive:!0}),o&&we(r,"blur",g=>{setTimeout(()=>{var y;const _=Xe(t);((y=r.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(_!=null&&_.contains(r.document.activeElement))&&e(g)},0)},{passive:!0})].filter(Boolean),m=()=>p.forEach(g=>g());return a?{stop:m,cancel:()=>{u=!1},trigger:g=>{u=!0,h(g),u=!1}}:m}function mp(){const t=fe(!1),e=Js();return e&&cc(()=>{t.value=!0},e),t}function Sn(t){const e=mp();return pe(()=>(e.value,!!t()))}function gp(t,e,n={}){const{window:r=Qe,...i}=n;let s;const o=Sn(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},u=pe(()=>{const h=De(t),d=Jr(h).map(Xe).filter(np);return new Set(d)}),c=je(()=>u.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(d=>s.observe(d,i)))},{immediate:!0,flush:"post"}),l=()=>s==null?void 0:s.takeRecords(),f=()=>{c(),a()};return on(f),{isSupported:o,stop:f,takeRecords:l}}function bp(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function _p(...t){let e,n,r={};t.length===3?(e=t[0],n=t[1],r=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],r=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:i=Qe,eventName:s="keydown",passive:o=!1,dedupe:a=!1}=r,u=bp(e);return we(i,s,l=>{l.repeat&&De(a)||u(l)&&n(l)},o)}function Dy(t,e,n={}){return _p(t,e,{...n,eventName:"keydown"})}function yp(){const{activeElement:t,body:e}=document;if(!t||t===e)return!1;switch(t.tagName){case"INPUT":case"TEXTAREA":return!0}return t.hasAttribute("contenteditable")}function wp({keyCode:t,metaKey:e,ctrlKey:n,altKey:r}){return e||n||r?!1:t>=48&&t<=57||t>=96&&t<=105||t>=65&&t<=90}function Ty(t,e={}){const{document:n=Wh}=e;n&&we(n,"keydown",i=>{!yp()&&wp(i)&&t(i)},{passive:!0})}function Vh(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:i=Qe,once:s=!1}=e,o=fe(!1),a=pe(()=>r?1e3/De(r):null);let u=0,c=null;function l(d){if(!o.value||!i)return;u||(u=d);const p=d-u;if(a.value&&p<a.value){c=i.requestAnimationFrame(l);return}if(u=d,t({delta:p,timestamp:d}),s){o.value=!1,c=null;return}c=i.requestAnimationFrame(l)}function f(){!o.value&&i&&(o.value=!0,u=0,c=i.requestAnimationFrame(l))}function h(){o.value=!1,c!=null&&i&&(i.cancelAnimationFrame(c),c=null)}return n&&f(),on(h),{isActive:_i(o),pause:h,resume:f}}const vp=Symbol("vueuse-ssr-width");function xp(){const t=lc()?ep(vp,null):null;return typeof t=="number"?t:void 0}function kp(t,e={}){const{window:n=Qe,ssrWidth:r=xp()}=e,i=Sn(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),s=fe(typeof r=="number"),o=fe(),a=fe(!1),u=c=>{a.value=c.matches};return Ys(()=>{if(s.value){s.value=!i.value;const c=De(t).split(",");a.value=c.some(l=>{const f=l.includes("not all"),h=l.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),d=l.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(h||d);return h&&p&&(p=r>=Vo(h[1])),d&&p&&(p=r<=Vo(d[1])),f?!p:p});return}i.value&&(o.value=n.matchMedia(De(t)),a.value=o.value.matches)}),we(o,"change",u,{passive:!0}),pe(()=>a.value)}const Zo=["hash","host","hostname","href","pathname","port","protocol","search"];function Oy(t={}){const{window:e=Qe}=t,n=Object.fromEntries(Zo.map(s=>[s,Pe()]));for(const[s,o]of up(n))je(o,a=>{!(e!=null&&e.location)||e.location[s]===a||(e.location[s]=a)});const r=s=>{var o;const{state:a,length:u}=(e==null?void 0:e.history)||{},{origin:c}=(e==null?void 0:e.location)||{};for(const l of Zo)n[l].value=(o=e==null?void 0:e.location)==null?void 0:o[l];return xe({trigger:s,state:a,length:u,origin:c,...n})},i=Pe(r("load"));if(e){const s={passive:!0};we(e,"popstate",()=>i.value=r("popstate"),s),we(e,"hashchange",()=>i.value=r("hashchange"),s)}return i}function ks(t,e={}){const{controls:n=!1,navigator:r=xi}=e,i=Sn(()=>r&&"permissions"in r),s=fe(),o=typeof t=="string"?{name:t}:t,a=fe(),u=()=>{var l,f;a.value=(f=(l=s.value)==null?void 0:l.state)!=null?f:"prompt"};we(s,"change",u,{passive:!0});const c=ap(async()=>{if(i.value){if(!s.value)try{s.value=await r.permissions.query(o)}catch{s.value=void 0}finally{u()}if(n)return wd(s.value)}});return c(),n?{state:a,isSupported:i,query:c}:a}function Fy(t={}){const{navigator:e=xi,read:n=!1,source:r,copiedDuring:i=1500,legacy:s=!1}=t,o=Sn(()=>e&&"clipboard"in e),a=ks("clipboard-read"),u=ks("clipboard-write"),c=pe(()=>o.value||s),l=fe(""),f=fe(!1),h=fp(()=>f.value=!1,i,{immediate:!1});async function d(){let _=!(o.value&&y(a.value));if(!_)try{l.value=await e.clipboard.readText()}catch{_=!0}_&&(l.value=g())}c.value&&n&&we(["copy","cut"],d,{passive:!0});async function p(_=De(r)){if(c.value&&_!=null){let b=!(o.value&&y(u.value));if(!b)try{await e.clipboard.writeText(_)}catch{b=!0}b&&m(_),l.value=_,f.value=!0,h.start()}}function m(_){const b=document.createElement("textarea");b.value=_??"",b.style.position="absolute",b.style.opacity="0",document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove()}function g(){var _,b,w;return(w=(b=(_=document==null?void 0:document.getSelection)==null?void 0:_.call(document))==null?void 0:b.toString())!=null?w:""}function y(_){return _==="granted"||_==="prompt"}return{isSupported:c,text:l,copied:f,copy:p}}function Gh(t){return JSON.parse(JSON.stringify(t))}const Br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr="__vueuse_ssr_handlers__",Ep=Ap();function Ap(){return Mr in Br||(Br[Mr]=Br[Mr]||{}),Br[Mr]}function Zh(t,e){return Ep[t]||e}function Sp(t){return kp("(prefers-color-scheme: dark)",t)}function Cp(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Dp={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Ko="vueuse-storage";function Dt(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:l,window:f=Qe,eventFilter:h,onError:d=L=>{console.error(L)},initOnMounted:p}=r,m=(l?fe:Pe)(typeof e=="function"?e():e),g=pe(()=>De(t));if(!n)try{n=Zh("getDefaultStorage",()=>{var L;return(L=Qe)==null?void 0:L.localStorage})()}catch(L){d(L)}if(!n)return m;const y=De(e),_=Cp(y),b=(i=r.serializer)!=null?i:Dp[_],{pause:w,resume:v}=hp(m,()=>E(m.value),{flush:s,deep:o,eventFilter:h});je(g,()=>I(),{flush:s}),f&&a&&uo(()=>{n instanceof Storage?we(f,"storage",I,{passive:!0}):we(f,Ko,P),p&&I()}),p||I();function A(L,C){if(f){const k={key:g.value,oldValue:L,newValue:C,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",k):new CustomEvent(Ko,{detail:k}))}}function E(L){try{const C=n.getItem(g.value);if(L==null)A(C,null),n.removeItem(g.value);else{const k=b.write(L);C!==k&&(n.setItem(g.value,k),A(C,k))}}catch(C){d(C)}}function D(L){const C=L?L.newValue:n.getItem(g.value);if(C==null)return u&&y!=null&&n.setItem(g.value,b.write(y)),y;if(!L&&c){const k=b.read(C);return typeof c=="function"?c(k,y):_==="object"&&!Array.isArray(k)?{...y,...k}:k}else return typeof C!="string"?C:b.read(C)}function I(L){if(!(L&&L.storageArea!==n)){if(L&&L.key==null){m.value=y;return}if(!(L&&L.key!==g.value)){w();try{(L==null?void 0:L.newValue)!==b.write(m.value)&&(m.value=D(L))}catch(C){d(C)}finally{L?yi(v):v()}}}}function P(L){I(L.detail)}return m}const Tp="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Op(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:i=Qe,storage:s,storageKey:o="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:u,emitAuto:c,disableTransition:l=!0}=t,f={auto:"",light:"light",dark:"dark",...t.modes||{}},h=Sp({window:i}),d=pe(()=>h.value?"dark":"light"),p=u||(o==null?so(r):Dt(o,r,s,{window:i,listenToStorageChanges:a})),m=pe(()=>p.value==="auto"?d.value:p.value),g=Zh("updateHTMLAttrs",(w,v,A)=>{const E=typeof w=="string"?i==null?void 0:i.document.querySelector(w):Xe(w);if(!E)return;const D=new Set,I=new Set;let P=null;if(v==="class"){const C=A.split(/\s/g);Object.values(f).flatMap(k=>(k||"").split(/\s/g)).filter(Boolean).forEach(k=>{C.includes(k)?D.add(k):I.add(k)})}else P={key:v,value:A};if(D.size===0&&I.size===0&&P===null)return;let L;l&&(L=i.document.createElement("style"),L.appendChild(document.createTextNode(Tp)),i.document.head.appendChild(L));for(const C of D)E.classList.add(C);for(const C of I)E.classList.remove(C);P&&E.setAttribute(P.key,P.value),l&&(i.getComputedStyle(L).opacity,document.head.removeChild(L))});function y(w){var v;g(e,n,(v=f[w])!=null?v:w)}function _(w){t.onChanged?t.onChanged(w,y):y(w)}je(m,_,{flush:"post",immediate:!0}),uo(()=>_(m.value));const b=pe({get(){return c?p.value:m.value},set(w){p.value=w}});return Object.assign(b,{store:p,system:d,state:m})}function Fp(t,e){const n=fe(c()),r=so(t),i=pe({get(){var l;let h=r.value.indexOf(n.value);return h<0&&(h=(l=void 0)!=null?l:0),h},set(l){s(l)}});function s(l){const f=r.value,h=f.length,d=(l%h+h)%h,p=f[d];return n.value=p,p}function o(l=1){return s(i.value+l)}function a(l=1){return o(l)}function u(l=1){return o(-l)}function c(){var l,f;return(f=De((l=void 0)!=null?l:De(t)[0]))!=null?f:void 0}return je(r,()=>s(i.value)),{state:n,index:i,next:a,prev:u,go:s}}function Ip(t={}){const{valueDark:e="dark",valueLight:n=""}=t,r=Op({...t,onChanged:(o,a)=>{var u;t.onChanged?(u=t.onChanged)==null||u.call(t,o==="dark",a,o):a(o)},modes:{dark:e,light:n}}),i=pe(()=>r.system.value);return pe({get(){return r.value==="dark"},set(o){const a=o?"dark":"light";i.value===a?r.value="auto":r.value=a}})}function Kh(t){return t}function Pp(t,e){return t.value=e}function Lp(t){return t?typeof t=="function"?t:Gh:Kh}function Rp(t){return t?typeof t=="function"?t:Gh:Kh}function Bp(t,e={}){const{clone:n=!1,dump:r=Lp(n),parse:i=Rp(n),setSource:s=Pp}=e;function o(){return hc({snapshot:r(t.value),timestamp:xs()})}const a=Pe(o()),u=Pe([]),c=Pe([]),l=b=>{s(t,i(b.snapshot)),a.value=b},f=()=>{u.value.unshift(a.value),a.value=o(),e.capacity&&u.value.length>e.capacity&&u.value.splice(e.capacity,Number.POSITIVE_INFINITY),c.value.length&&c.value.splice(0,c.value.length)},h=()=>{u.value.splice(0,u.value.length),c.value.splice(0,c.value.length)},d=()=>{const b=u.value.shift();b&&(c.value.unshift(a.value),l(b))},p=()=>{const b=c.value.shift();b&&(u.value.unshift(a.value),l(b))},m=()=>{l(a.value)},g=pe(()=>[a.value,...u.value]),y=pe(()=>u.value.length>0),_=pe(()=>c.value.length>0);return{source:t,undoStack:u,redoStack:c,last:a,history:g,canUndo:y,canRedo:_,clear:h,commit:f,reset:m,undo:d,redo:p}}function Iy(t,e={}){const{deep:n=!1,flush:r="pre",eventFilter:i}=e,{eventFilter:s,pause:o,resume:a,isActive:u}=zh(i),{ignoreUpdates:c,ignorePrevAsyncUpdates:l,stop:f}=dp(t,g,{deep:n,flush:r,eventFilter:s});function h(w,v){l(),c(()=>{w.value=v})}const d=Bp(t,{...e,clone:e.clone||n,setSource:h}),{clear:p,commit:m}=d;function g(){l(),m()}function y(w){a(),w&&g()}function _(w){let v=!1;const A=()=>v=!0;c(()=>{w(A)}),v||g()}function b(){f(),p()}return{...d,isTracking:u,pause:o,resume:y,commit:g,batch:_,dispose:b}}function Mp(t={}){const{navigator:e=xi,requestPermissions:n=!1,constraints:r={audio:!0,video:!0},onUpdated:i}=t,s=Pe([]),o=pe(()=>s.value.filter(p=>p.kind==="videoinput")),a=pe(()=>s.value.filter(p=>p.kind==="audioinput")),u=pe(()=>s.value.filter(p=>p.kind==="audiooutput")),c=Sn(()=>e&&e.mediaDevices&&e.mediaDevices.enumerateDevices),l=fe(!1);let f;async function h(){c.value&&(s.value=await e.mediaDevices.enumerateDevices(),i==null||i(s.value),f&&(f.getTracks().forEach(p=>p.stop()),f=null))}async function d(){const p=r.video?"camera":"microphone";if(!c.value)return!1;if(l.value)return!0;const{state:m,query:g}=ks(p,{controls:!0});if(await g(),m.value!=="granted"){let y=!0;try{f=await e.mediaDevices.getUserMedia(r)}catch{f=null,y=!1}h(),l.value=y}else l.value=!0;return l.value}return c.value&&(n&&d(),we(e.mediaDevices,"devicechange",h,{passive:!0}),h()),{devices:s,ensurePermissions:d,permissionGranted:l,videoInputs:o,audioInputs:a,audioOutputs:u,isSupported:c}}function Np(t,e,n={}){const{window:r=Qe,...i}=n;let s;const o=Sn(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},u=pe(()=>{const f=De(t);return Array.isArray(f)?f.map(h=>Xe(h)):[Xe(f)]}),c=je(u,f=>{if(a(),o.value&&r){s=new ResizeObserver(e);for(const h of f)h&&s.observe(h,i)}},{immediate:!0,flush:"post"}),l=()=>{a(),c()};return on(l),{isSupported:o,stop:l}}function Py(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0,updateTiming:o="sync"}=e,a=fe(0),u=fe(0),c=fe(0),l=fe(0),f=fe(0),h=fe(0),d=fe(0),p=fe(0);function m(){const y=Xe(t);if(!y){n&&(a.value=0,u.value=0,c.value=0,l.value=0,f.value=0,h.value=0,d.value=0,p.value=0);return}const _=y.getBoundingClientRect();a.value=_.height,u.value=_.bottom,c.value=_.left,l.value=_.right,f.value=_.top,h.value=_.width,d.value=_.x,p.value=_.y}function g(){o==="sync"?m():o==="next-frame"&&requestAnimationFrame(()=>m())}return Np(t,g),je(()=>Xe(t),y=>!y&&g()),gp(t,g,{attributeFilter:["style","class"]}),i&&we("scroll",g,{capture:!0,passive:!0}),r&&we("resize",g,{passive:!0}),uo(()=>{s&&g()}),{height:a,bottom:u,left:c,right:l,top:f,width:h,x:d,y:p,update:g}}function Ly(t,e={}){const{initialValue:n=!1,focusVisible:r=!1,preventScroll:i=!1}=e,s=fe(!1),o=pe(()=>Xe(t)),a={passive:!0};we(o,"focus",c=>{var l,f;(!r||(f=(l=c.target).matches)!=null&&f.call(l,":focus-visible"))&&(s.value=!0)},a),we(o,"blur",()=>s.value=!1,a);const u=pe({get:()=>s.value,set(c){var l,f;!c&&s.value?(l=o.value)==null||l.blur():c&&!s.value&&((f=o.value)==null||f.focus({preventScroll:i}))}});return je(o,()=>{u.value=n},{immediate:!0,flush:"post"}),{focused:u}}const jp=["mousedown","mouseup","keydown","keyup"];function Ry(t,e={}){const{events:n=jp,document:r=Wh,initial:i=null}=e,s=fe(i);return r&&n.forEach(o=>{we(r,o,a=>{typeof a.getModifierState=="function"&&(s.value=a.getModifierState(t))},{passive:!0})}),s}const $p={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof MouseEvent?[t.movementX,t.movementY]:null};function zp(t={}){const{type:e="page",touch:n=!0,resetOnTouchEnds:r=!1,initialValue:i={x:0,y:0},window:s=Qe,target:o=s,scroll:a=!0,eventFilter:u}=t;let c=null,l=0,f=0;const h=fe(i.x),d=fe(i.y),p=fe(null),m=typeof e=="function"?e:$p[e],g=E=>{const D=m(E);c=E,D&&([h.value,d.value]=D,p.value="mouse"),s&&(l=s.scrollX,f=s.scrollY)},y=E=>{if(E.touches.length>0){const D=m(E.touches[0]);D&&([h.value,d.value]=D,p.value="touch")}},_=()=>{if(!c||!s)return;const E=m(c);c instanceof MouseEvent&&E&&(h.value=E[0]+s.scrollX-l,d.value=E[1]+s.scrollY-f)},b=()=>{h.value=i.x,d.value=i.y},w=u?E=>u(()=>g(E),{}):E=>g(E),v=u?E=>u(()=>y(E),{}):E=>y(E),A=u?()=>u(()=>_(),{}):()=>_();if(o){const E={passive:!0};we(o,["mousemove","dragover"],w,E),n&&e!=="movement"&&(we(o,["touchstart","touchmove"],v,E),r&&we(o,"touchend",b,E)),a&&e==="page"&&we(s,"scroll",A,E)}return{x:h,y:d,sourceType:p}}function By(t,e={}){const{handleOutside:n=!0,window:r=Qe}=e,i=e.type||"page",{x:s,y:o,sourceType:a}=zp(e),u=fe(t??(r==null?void 0:r.document.body)),c=fe(0),l=fe(0),f=fe(0),h=fe(0),d=fe(0),p=fe(0),m=fe(!0);let g=()=>{};return r&&(g=je([u,s,o],()=>{const y=Xe(u);if(!y||!(y instanceof Element))return;const{left:_,top:b,width:w,height:v}=y.getBoundingClientRect();f.value=_+(i==="page"?r.pageXOffset:0),h.value=b+(i==="page"?r.pageYOffset:0),d.value=v,p.value=w;const A=s.value-f.value,E=o.value-h.value;m.value=w===0||v===0||A<0||E<0||A>w||E>v,(n||!m.value)&&(c.value=A,l.value=E)},{immediate:!0}),we(document,"mouseleave",()=>m.value=!0,{passive:!0})),{x:s,y:o,sourceType:a,elementX:c,elementY:l,elementPositionX:f,elementPositionY:h,elementHeight:d,elementWidth:p,isOutside:m,stop:g}}function My(t={}){const{touch:e=!0,drag:n=!0,capture:r=!1,initialValue:i=!1,window:s=Qe}=t,o=fe(i),a=fe(null);if(!s)return{pressed:o,sourceType:a};const u=h=>d=>{var p;o.value=!0,a.value=h,(p=t.onPressed)==null||p.call(t,d)},c=h=>{var d;o.value=!1,a.value=null,(d=t.onReleased)==null||d.call(t,h)},l=pe(()=>Xe(t.target)||s),f={passive:!0,capture:r};return we(l,"mousedown",u("mouse"),f),we(s,"mouseleave",c,f),we(s,"mouseup",c,f),n&&(we(l,"dragstart",u("mouse"),f),we(s,"drop",c,f),we(s,"dragend",c,f)),e&&(we(l,"touchstart",u("touch"),f),we(s,"touchend",c,f),we(s,"touchcancel",c,f)),{pressed:o,sourceType:a}}function Ny(t={}){const{controls:e=!1,interval:n="requestAnimationFrame"}=t,r=Pe(new Date),i=()=>r.value=new Date,s=n==="requestAnimationFrame"?Vh(i,{immediate:!0}):qh(i,n,{immediate:!0});return e?{now:r,...s}:r}function jy(t){const e=fe(),n=()=>{e.value&&URL.revokeObjectURL(e.value),e.value=void 0};return je(()=>De(t),r=>{n(),r&&(e.value=URL.createObjectURL(r))},{immediate:!0}),on(n),_i(e)}function $y(t={},e={}){const{navigator:n=xi}=e,r=n,i=Sn(()=>r&&"canShare"in r);return{isSupported:i,share:async(o={})=>{if(i.value){const a={...De(t),...De(o)};let u=!0;if(a.files&&r.canShare&&(u=r.canShare({files:a.files})),u)return r.share(a)}}}}function Up(t={}){const{controls:e=!1,offset:n=0,immediate:r=!0,interval:i="requestAnimationFrame",callback:s}=t,o=fe(xs()+n),a=()=>o.value=xs()+n,u=s?()=>{a(),s(o.value)}:a,c=i==="requestAnimationFrame"?Vh(u,{immediate:r}):qh(u,i,{immediate:r});return e?{timestamp:o,...c}:o}const Qt=Dt("cast-camera","default"),$n=Dt("cast-mic","default"),Hp=Pe(""),Jo=Pe(!0),Yo=Dt("slidev-record-mimetype","video/webm"),qp={"video/webm":"webm","video/webm;codecs=h264":"mp4","video/x-matroska;codecs=avc1":"mkv"};function oi(t,e){const n=new Date,r=o=>`${o}`.padStart(2,"0"),i=`${r(n.getMonth()+1)}${r(n.getDate())}-${r(n.getHours())}${r(n.getMinutes())}`,s=e?qp[e]:"webm";return`${[i,t,Hp.value].filter(o=>!!o).join("-")}.${s}`}xe({screen:pe(()=>oi("screen",Yo.value)),camera:pe(()=>oi("camera",Yo.value))});const{videoInputs:Xo,audioInputs:Qo,ensurePermissions:ea}=Mp({onUpdated:function(){var t,e;Qt.value!=="none"&&(Xo.value.find(n=>n.deviceId===Qt.value)||(Qt.value=((t=Xo.value[0])==null?void 0:t.deviceId)||"default")),$n.value!=="none"&&(Qo.value.find(n=>n.deviceId===$n.value)||($n.value=((e=Qo.value[0])==null?void 0:e.deviceId)||"default"))}});function ta(t,e){const n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Wp(){const t=Pe(!1),e=Pe(0),n=Up();je(t,y=>y?e.value=Date.now():e.value=0);const r=pe(()=>e.value?n.value-e.value:0),i=Pe(!1),s=fe(),o=fe(),a=fe(),u=fe(),c=fe(),l={type:"video",bitsPerSecond:4*256*8*1024,timeSlice:24*60*60*1e3};async function f(){Qt.value!=="none"&&(i.value?(i.value=!1,t.value||m(a)):(await h(),a.value&&(i.value=!!a.value)))}async function h(){if(await ea(),await yi(),!a.value){if(Qt.value==="none"&&$n.value==="none")return;a.value=await navigator.mediaDevices.getUserMedia({video:Qt.value==="none"||Jo.value!==!0?!1:{deviceId:Qt.value},audio:$n.value==="none"?!1:{deviceId:$n.value}})}}je(Qt,async y=>{if(y==="none")m(a);else{if(t.value)return;a.value&&(m(a),await h())}});async function d(y={}){var b;await ea();const{default:_}=await Z(async()=>{const{default:w}=await import("./RecordRTC.DFBPejFW.js").then(v=>v.R);return{default:w}},[]);if(await h(),u.value=await navigator.mediaDevices.getDisplayMedia({video:{frameRate:30,width:3840,height:2160}}),u.value.addEventListener("inactive",p),c.value=new MediaStream,u.value.getVideoTracks().forEach(w=>c.value.addTrack(w)),Object.assign(l,y),a.value){const w=(b=a.value.getAudioTracks())==null?void 0:b[0];w&&c.value.addTrack(w),s.value=new _(a.value,l),s.value.startRecording()}o.value=new _(c.value,l),o.value.startRecording(),t.value=!0}async function p(){var y,_;t.value=!1,(y=s.value)==null||y.stopRecording(()=>{if(Jo.value){const b=s.value.getBlob(),w=URL.createObjectURL(b);ta(oi("camera",l.mimeType),w),window.URL.revokeObjectURL(w)}s.value=void 0,i.value||m(a)}),(_=o.value)==null||_.stopRecording(()=>{const b=o.value.getBlob(),w=URL.createObjectURL(b);ta(oi("screen",l.mimeType),w),window.URL.revokeObjectURL(w),m(u),m(c),o.value=void 0})}function m(y){const _=y.value;_&&(_.getTracks().forEach(b=>{b.stop(),_.removeTrack(b)}),y.value=void 0)}function g(){t.value?p():d()}return we("beforeunload",y=>{t.value&&(confirm("Recording is not saved yet, do you want to leave?")||(y.preventDefault(),y.returnValue=""))}),{recording:t,recordingTime:r,showAvatar:i,toggleRecording:g,startRecording:d,stopRecording:p,toggleAvatar:f,recorderCamera:s,recorderSlides:o,streamCamera:a,streamCapture:u,streamSlides:c}}Wp();var Yr={exports:{}},Vp=Yr.exports,na;function Gp(){return na||(na=1,function(t,e){(function(n,r,i){t.exports=i(),t.exports.default=i()})("slugify",Vp,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),r=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function i(s,o){if(typeof s!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=r[o.locale]||{},u=o.replacement===void 0?"-":o.replacement,c=o.trim===void 0?!0:o.trim,l=s.normalize().split("").reduce(function(f,h){var d=a[h];return d===void 0&&(d=n[h]),d===void 0&&(d=h),d===u&&(d=" "),f+d.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(l=l.replace(/[^A-Za-z0-9\s]/g,"")),c&&(l=l.trim()),l=l.replace(/\s+/g,u),o.lower&&(l=l.toLowerCase()),l}return i.extend=function(s){Object.assign(n,s)},i})}(Yr)),Yr.exports}var Zp=Gp();const ra=Kn(Zp),Nr=Pe("general"),Es="chat";function zy(t="general"){const e=Le(),{user:n}=Dn();Nr.value=t;const r=xe({}),i=xe({}),s=xe({});e.user(ge.pub).get(Es).map().once((l,f)=>{const[h,d]=f.split("@");r[h]||(r[h]={upvotes:new Set,downvotes:new Set}),r[h].upvotes.delete(d),r[h].downvotes.delete(d),l===!0?(r[h].upvotes.add(d),d==n.pub&&(delete i[h],s[h]=!0)):l===!1?(r[h].downvotes.add(d),d==n.pub&&(i[h]=!0,delete s[h])):l===null&&d==n.pub&&(delete i[h],delete s[h])});const o=pe(()=>Object.entries(r).map(([l,f])=>({title:l,authors:Array.from(f.upvotes),rating:f.upvotes.size-f.downvotes.size,my:f.upvotes.has(n.pub)?1:f.downvotes.has(n.pub)?-1:0})).filter(l=>l.title=="general"||s[l.title]||!i[l.title]&&l.rating>=0).sort((l,f)=>f.rating-l.rating)),a=pe(()=>{const l=xe({});return e.user(ge.pub).get("chat/"+Nr.value).map().on((f,h)=>{const d=h.substring(0,13),p=h.substring(14);f?l[h]={timestamp:d,author:p,text:f}:delete l[h]}),l}),u=pe(()=>lp(pe(()=>Object.values(a.value||{}))).value.sort((l,f)=>l.timestamp>f.timestamp?1:-1));function c(l){if(!l)return;const f=Date.now();e.user(ge.pub).get("chat/"+Nr.value).get(`${f}@${n.pub}`).put(l,void 0,{opt:{cert:ge.features.chat}})}return{send:c,addChat:l=>ia(l,!0),removeChat:l=>ia(l,!1),currentChat:Nr,chats:o,messages:a,sorted:u}}async function ia(t,e=!0){const n=Le(),{user:r}=Dn(),s=await n.user(ge.pub).get(Es).get(`${ra(t)}@${r.pub}`).then()===e?null:e;n.user(ge.pub).get(Es).get(`${ra(t)}@${r.pub}`).put(s,void 0,{opt:{cert:ge.features.chat}})}var Kp={},fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function co(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sa={exports:{}},oa;function Jn(){return oa||(oa=1,function(t){(function(){function e(r,i){return i?co(r):r.slice?e[s(r)]:function(o,a){r(o={exports:{}}),e[s(a)]=o.exports};function s(o){return o.split("/").slice(-1).toString().replace(".js","")}}var n=t;e(function(r){String.random=function(s,o){var a="";for(s=s||24,o=o||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";s-- >0;)a+=o.charAt(Math.floor(Math.random()*o.length));return a},String.match=function(s,o){var a,u;return typeof s!="string"?!1:(typeof o=="string"&&(o={"=":o}),o=o||{},a=o["="]||o["*"]||o[">"]||o["<"],s===a?!0:u!==o["="]?!1:(a=o["*"]||o[">"],s.slice(0,(a||"").length)===a?!0:u!==o["*"]?!1:u!==o[">"]&&u!==o["<"]?s>=o[">"]&&s<=o["<"]:u!==o[">"]&&s>=o[">"]||u!==o["<"]&&s<=o["<"]))},String.hash=function(s,o){if(typeof s=="string"){if(o=o||0,!s.length)return o;for(var a=0,u=s.length,c;a<u;++a)c=s.charCodeAt(a),o=(o<<5)-o+c,o|=0;return o}};var i=Object.prototype.hasOwnProperty;Object.plain=function(s){return s?s instanceof Object&&s.constructor===Object||Object.prototype.toString.call(s).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(s,o){for(var a in s)if(i.call(s,a)&&(!o||o.indexOf(a)==-1))return!1;return!0},Object.keys=Object.keys||function(s){var o=[];for(var a in s)i.call(s,a)&&o.push(a);return o},function(){var s,o=setTimeout,a=0,u=0,c=typeof setImmediate!=""+s&&setImmediate||function(f,h){return typeof MessageChannel==""+s?o:((f=new MessageChannel).port1.onmessage=function(d){d.data==""&&h()},function(d){h=d,f.port2.postMessage("")})}(),l=o.check=o.check||typeof performance!=""+s&&performance||{now:function(){return+new Date}};o.hold=o.hold||9,o.poll=o.poll||function(f){if(o.hold>=l.now()-a&&u++<3333){f();return}c(function(){a=l.now(),f()},u=0)}}(),function(){var s=setTimeout,o=s.turn=s.turn||function(h){a.push(h)==1&&u(f)},a=o.s=[],u=s.poll,c=0,l,f=function(){(l=a[c++])&&l(),(c==a.length||c==99)&&(a=o.s=a.slice(c),c=0),a.length&&u(f)}}(),function(){var s,o=setTimeout,a=o.turn;(o.each=o.each||function(u,c,l,f){f=f||9,function h(d,p,m){if(p=(d=(u||[]).splice(0,f)).length){for(var g=0;g<p&&s===(m=c(d[g]));g++);if(s===m){a(h);return}}l&&l(m)}()})()}()})(e,"./shim"),e(function(r){r.exports=function i(l,o,a){if(!l)return{to:i};var u,c=typeof o=="function",l=(this.tag||(this.tag={}))[l]||c&&(this.tag[l]={tag:l,to:i._={next:function(h){var d;(d=this.to)&&d.next(h)}}});if(c){var f={off:i.off||(i.off=function(){if(this.next===i._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=i._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:i._,next:o,the:l,on:this,as:a};return(f.back=l.last||l).to=f,l.last=f}return(l=l.to)&&u!==o&&l.next(o),l}})(e,"./onto"),e(function(r){r.exports=function(i){return i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"&&i!=1/0&&i!=-1/0&&i===i||!!i&&typeof i["#"]=="string"&&Object.keys(i).length===1&&i["#"]}})(e,"./valid"),e(function(r){e("./shim");function i(){var l=+new Date;return u<l?(o=0,u=l+i.drift):u=l+(o+=1)/a+i.drift}i.drift=0;var s=-1/0,o=0,a=999,u=s,c;i.is=function(l,f,h){var d=f&&l&&l._&&l._[">"]||h;if(d)return typeof(d=d[f])=="number"?d:s},i.ify=function(l,f,h,d,p){(l=l||{})._=l._||{},p&&(l._["#"]=p);var m=l._[">"]||(l._[">"]={});return c!==f&&f!=="_"&&(typeof h=="number"&&(m[f]=h),c!==d&&(l[f]=d)),l},r.exports=i})(e,"./state"),e(function(r){e("./shim");function i(s){var o={s:{}},a=o.s;s=s||{max:999,age:1e3*9},o.check=function(c){return a[c]?u(c):!1};var u=o.track=function(c){var l=a[c]||(a[c]={});return l.was=o.now=+new Date,o.to||(o.to=setTimeout(o.drop,s.age+9)),u.ed&&u.ed(c),l};return o.drop=function(c){o.to=null,o.now=+new Date;var l=Object.keys(a);console.STAT&&console.STAT(o.now,+new Date-o.now,"dup drop keys"),setTimeout.each(l,function(f){var h=a[f];h&&(c||s.age)>o.now-h.was||delete a[f]},0,99)},o}r.exports=i})(e,"./dup"),e(function(r){e("./onto"),r.exports=function(s,o){if(this.on){var a=(this.opt||{}).lack||9e3;if(typeof s!="function"){if(!s)return;var c=s["#"]||s,u=(this.tag||"")[c];return u?(o&&(u=this.on(c,o),clearTimeout(u.err),u.err=setTimeout(function(){u.off()},a)),!0):void 0}var c=o&&o["#"]||i(9);if(!s)return c;var l=this.on(c,s,o);return l.err=l.err||setTimeout(function(){l.off(),l.next({err:"Error: No ACK yet.",lack:!0})},a),c}};var i=String.random||function(){return Math.random().toString(36).slice(2)}})(e,"./ask"),e(function(r){function i(p){return p instanceof i?(this._={$:this}).$:this instanceof i?i.create(this._={$:this,opt:p}):new i(p)}i.is=function(p){return p instanceof i||p&&p._&&p===p._.$||!1},i.version=.202,i.chain=i.prototype,i.chain.toJSON=function(){},e("./shim"),i.valid=e("./valid"),i.state=e("./state"),i.on=e("./onto"),i.dup=e("./dup"),i.ask=e("./ask"),function(){i.create=function(k){k.root=k.root||k,k.graph=k.graph||{},k.on=k.on||i.on,k.ask=k.ask||i.ask,k.dup=k.dup||i.dup();var x=k.$.opt(k.opt);return k.once||(k.on("in",p,k),k.on("out",p,k),k.on("put",y,k),i.on("create",k),k.on("create",k)),k.once=1,x};function p(k){if(k){if(k.out===p){this.to.next(k);return}var x=this,F=x.as,S=F.at||F,T=S.$,R=S.dup,B,U=k.DBG;if((B=k["#"])||(B=k["#"]=o(9)),!R.check(B)){if(R.track(B),B=k._,k._=typeof B=="function"?B:function(){},k.$&&k.$===(k.$._||"").$||(k.$=T),k["@"]&&!k.put&&b(k),!S.ask(k["@"],k))if(U&&(U.u=+new Date),k.put){m(k);return}else k.get&&i.on.get(k,T);U&&(U.uc=+new Date),x.to.next(k),U&&(U.ua=+new Date),!(k.nts||k.NTS)&&(k.out=p,S.on("out",k),U&&(U.ue=+new Date))}}}function m(k){if(k){var x=k._||"",F=x.root=((x.$=k.$||"")._||"").root;if(k["@"]&&x.faith&&!x.miss){k.out=p,F.on("out",k);return}x.latch=F.hatch,x.match=F.hatch=[];var S=k.put,T=x.DBG=k.DBG,R=+new Date;if(L=L||R,!(S["#"]&&S["."])){T&&(T.p=R),x["#"]=k["#"],x.msg=k,x.all=0,x.stun=1;var B=Object.keys(S);console.STAT&&console.STAT(R,((T||x).pk=+new Date)-R,"put sort");var U=0,N,z,Y,G,K,ue,ke;(function ae(he){if(N!=U){if(N=U,!(Y=B[U])){console.STAT&&console.STAT(R,((T||x).pd=+new Date)-R,"put"),_(x);return}(G=S[Y])?(ke=G._)?Y!==ke["#"]?ue=v+A(Y)+"soul not same.":(K=ke[">"])||(ue=v+A(Y)+"no state."):ue=v+A(Y)+"no meta.":ue=v+A(Y)+"no node.",z=Object.keys(G||{})}if(ue){k.err=x.err=ue,_(x);return}var ye=0,me;for(he=he||0;he++<9&&(me=z[ye++]);)if(me!=="_"){var ve=G[me],Te=K[me];if(f===Te){ue=v+A(me)+"on"+A(Y)+"no state.";break}if(!u(ve)){ue=v+A(me)+"on"+A(Y)+"bad "+typeof ve+A(ve);break}g(ve,me,Y,Te,k),++P}if((z=z.slice(ye)).length){a(ae);return}++U,z=null,ae(he)})()}}}i.on.put=m;function g(k,x,F,S,T){var R=T._||"",B=R.root,U=B.graph,N,z=U[F]||h,Y=c(z,x,1),G=z[x],K=R.DBG;(N=console.STAT)&&(!U[F]||!G)&&(N.has=(N.has||0)+1);var ue=I();if(S>ue){setTimeout(function(){g(k,x,F,S,T)},(N=S-ue)>D?D:N),console.STAT&&console.STAT((K||R).Hf=+new Date,N,"future");return}if(!(S<Y)&&!(!R.faith&&S===Y&&(k===G||E(k)<=E(G))&&!R.miss)){R.stun++;var ke=T["#"]+R.all++,ae={toString:function(){return ke},_:R};ae.toJSON=ae.toString,B.dup.track(ae)["#"]=T["#"],K&&(K.ph=K.ph||+new Date),B.on("put",{"#":ae,"@":T["@"],put:{"#":F,".":x,":":k,">":S},ok:T.ok,_:R})}}function y(k){var x;(x=(k._||"").DBG)&&(x.pa=+new Date,x.pm=x.pm||+new Date);var F=this,S=F.as,T=S.graph,R=k._,B=k.put,U=B["#"],N=B["."],z=B[":"],Y=B[">"];k["#"];var G;(G=R.msg)&&(G=G.put)&&(G=G[U])&&l(G,N,Y,z,U),T[U]=l(T[U],N,Y,z,U),(G=(S.next||"")[U])&&G.on("in",k),_(R),F.to.next(k)}function _(k,x){var F;if(!k.stop&&!(!k.err&&0<--k.stun)&&(k.stop=1,!!(F=k.root))){var S=k.match;S.end=1,S===F.hatch&&(!(S=k.latch)||S.end?delete F.hatch:F.hatch=S),k.hatch&&k.hatch(),setTimeout.each(k.match,function(T){T&&T()}),!(!(x=k.msg)||k.err||x.err)&&(x.out=p,k.root.on("out",x),C())}}function b(k){var x=k["@"]||"",F;if(!(F=x._)){var S=(S=k.$)&&(S=S._)&&(S=S.root)&&(S=S.dup);if(!(S=S.check(x)))return;k["@"]=S["#"]||k["@"];return}F.acks=(F.acks||0)+1,(F.err=k.err)&&(k["@"]=F["#"],_(F)),F.ok=k.ok||F.ok,!F.stop&&!F.crack&&(F.crack=F.match&&F.match.push(function(){w(F)})),w(F)}function w(k){!k||!k.root||k.stun||k.acks!==k.all||k.root.on("in",{"@":k["#"],err:k.err,ok:k.err?f:k.ok||{"":1}})}var v="Error: Invalid graph!",A=function(k){return" '"+(""+k).slice(0,9)+"...' "},E=JSON.stringify,D=2147483647,I=i.state,P=0,L,C=function(){P>999&&P/-(L-(L=+new Date))>1&&(i.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),C=function(){P=0})}}(),function(){i.on.get=function(m,g){var y=g._,_=m.get,b=_["#"],w=y.graph[b],v=_["."],A=y.next||(y.next={}),E=A[b],D=m._||{},I=D.DBG=m.DBG;if(I&&(I.g=+new Date),!w)return y.on("get",m);if(v){if((typeof v!="string"||f===w[v])&&!((E||"").next||"")[v]){y.on("get",m);return}w=l({},v,c(w,v),w[v],b)}w&&p(m,w),y.on("get",m)};function p(m,g){var y=+new Date,_=m._||{},b=_.DBG=m.DBG,w=m["#"],v=o(9),A=Object.keys(g||"").sort(),E=((g||"")._||"")["#"];A.length;var D=m.$._.root,I=g===D.graph[E];console.STAT&&console.STAT(y,((b||_).gk=+new Date)-y,"got keys"),g&&function P(){y=+new Date;for(var L=0,C,k={},x;L<9&&(C=A[L++]);)l(k,C,c(g,C),g[C],E);A=A.slice(L),(x={})[E]=k,k=x;var F;I&&(F=function(){},F.ram=F.faith=!0),x=A.length,console.STAT&&console.STAT(y,-(y-(y=+new Date)),"got copied some"),b&&(b.ga=+new Date),D.on("in",{"@":w,"#":v,put:k,"%":x?v=o(9):f,$:D.$,_:F,DBG:b,FOO:1}),console.STAT&&console.STAT(y,+new Date-y,"got in"),x&&setTimeout.turn(P)}(),g||D.on("in",{"@":m["#"]})}i.on.get.ack=p}(),function(){i.chain.opt=function(p){p=p||{};var m=this,g=m._,y=p.peers||p;return Object.plain(p)||(p={}),Object.plain(g.opt)||(g.opt=p),typeof y=="string"&&(y=[y]),Object.plain(g.opt.peers)||(g.opt.peers={}),y instanceof Array&&(p.peers={},y.forEach(function(_){var b={};b.id=b.url=_,p.peers[_]=g.opt.peers[_]=g.opt.peers[_]||b})),s(p,function _(b){var w=this[b];if(this&&this.hasOwnProperty(b)||typeof w=="string"||Object.empty(w)){this[b]=w;return}w&&w.constructor!==Object&&!(w instanceof Array)||s(w,_)}),g.opt.from=p,i.on("opt",g),g.opt.uuid=g.opt.uuid||function(_){return i.state().toString(36).replace(".","")+String.random(_||12)},m}}();var s=function(p,m){Object.keys(p).forEach(m,p)},o=String.random,a=setTimeout.turn,u=i.valid,c=i.state.is,l=i.state.ify,f,h={},d;i.log=function(){return!i.log.off&&d.log.apply(d,arguments),[].slice.call(arguments).join(" ")},i.log.once=function(p,m,g){return(g=i.log.once)[p]=g[p]||0,g[p]++||i.log(m)},typeof window<"u"&&((window.GUN=window.Gun=i).window=window);try{typeof n<"u"&&(n.exports=i)}catch{}r.exports=i,(i.window||{}).console=(i.window||{}).console||{log:function(){}},(d=console).only=function(p,m){return d.only.i&&p===d.only.i&&d.only.i++&&(d.log.apply(d,arguments)||m)},i.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(e,"./root"),e(function(r){var i=e("./root");i.chain.back=function(a,u){var c;if(a=a||1,a===-1||a===1/0)return this._.root.$;if(a===1)return(this._.back||this._).$;var l=this,f=l._;if(typeof a=="string"&&(a=a.split(".")),a instanceof Array){var h=0,d=a.length,c=f;for(h;h<d;h++)c=(c||s)[a[h]];return o!==c?u?l:c:(c=f.back)?c.$.back(a,u):void 0}if(typeof a=="function"){for(var p,c={back:f};(c=c.back)&&o===(p=a(c,u)););return p}return typeof a=="number"?(f.back||f).$.back(a-1):this};var s={},o})(e,"./back"),e(function(r){var i=e("./root");i.chain.chain=function(_){var b=this,w=b._,v=new(_||b).constructor(b),A=v._,E;return A.root=E=w.root,A.id=++E.once,A.back=b._,A.on=i.on,A.on("in",i.on.in,A),A.on("out",i.on.out,A),v};function s(_){var b,w=this.as,v=w.back,A=w.root,E;if(_.$||(_.$=w.$),this.to.next(_),w.err){w.on("in",{put:w.put=f,$:w.$});return}if(b=_.get){if(A.pass&&(A.pass[w.id]=w),w.lex&&Object.keys(w.lex).forEach(function(D){E[D]=w.lex[D]},E=_.get=_.get||{}),b["#"]||w.soul){if(b["#"]=b["#"]||w.soul,_["#"]||(_["#"]=h(9)),v=A.$.get(b["#"])._,b=b["."]){if(p(v.put,b)&&(E=v.ask&&v.ask[b],(v.ask||(v.ask={}))[b]=v.$.get(b)._,v.on("in",{get:b,put:{"#":v.soul,".":b,":":v.put[b],">":g(A.graph[v.soul],b)}}),E))return}else{if(E=v.ask&&v.ask[""],(v.ask||(v.ask={}))[""]=v,f!==v.put&&(v.on("in",v),E))return;_.$=v.$}return A.ask(c,_),A.on("in",_)}if(b["."])return w.get?(_={get:{".":w.get},$:w.$},(v.ask||(v.ask={}))[w.get]=_.$._,v.on("out",_)):(_={get:w.lex?_.get:{},$:w.$},v.on("out",_));if((w.ask||(w.ask={}))[""]=w,w.get)return b["."]=w.get,(v.ask||(v.ask={}))[w.get]=_.$._,v.on("out",_)}return v.on("out",_)}i.on.out=s;function o(_,b){b=b||this.as;var w=b.root,v=_.$||(_.$=b.$),A=(v||"")._||l,E=_.put||"",D=E["#"],I=E["."],P=f!==E["="]?E["="]:E[":"],L=E[">"]||-1/0,C;if(f!==_.put&&(f===E["#"]||f===E["."]||f===E[":"]&&f===E["="]||f===E[">"])){if(!d(E)){if(!(D=((E||"")._||"")["#"])){console.log("chain not yet supported for",E,"...",_,b);return}return v=b.root.$.get(D),setTimeout.each(Object.keys(E).sort(),function(k){k=="_"||f===(L=g(E,k))||b.on("in",{$:v,put:{"#":D,".":k,"=":E[k],">":L},VIA:_})})}b.on("in",{$:A.back.$,put:{"#":D=A.back.soul,".":I=A.has||A.get,"=":E,">":g(A.back.put,I)},via:_});return}(_.seen||"")[b.id]||((_.seen||(_.seen=function(){}))[b.id]=b,b!==A&&(Object.keys(_).forEach(function(k){E[k]=_[k]},E={}),E.get=b.get||E.get,!b.soul&&!b.has?E.$$$=E.$$$||b.$:A.soul&&(E.$=b.$,E.$$=E.$$||A.$),_=E),u(_,b),(b.soul||_.$$)&&L>=g(w.graph[D],I)&&((E=w.$.get(D)._).put=y(E.put,I,L,P,D)),!A.soul&&L>=g(w.graph[D],I)&&(C=(w.$.get(D)._.next||"")[I])&&(C.put=P,typeof(E=d(P))=="string"&&(C.put=w.$.get(E)._.put||P)),this.to&&this.to.next(_),b.any&&setTimeout.each(Object.keys(b.any),function(k){(k=b.any[k])&&k(_)},0,99),b.echo&&setTimeout.each(Object.keys(b.echo),function(k){(k=b.echo[k])&&k.on("in",_)},0,99),((_.$$||"")._||A).soul&&(C=b.next)&&(C=C[I])&&(E={},Object.keys(_).forEach(function(k){E[k]=_[k]}),E.$=(_.$$||_.$).get(E.get=I),delete E.$$,delete E.$$$,C.on("in",E)),a(_,b))}i.on.in=o;function a(_,b){if(b=b||this.as||_.$._,!(_.$$&&this!==i.on)&&!(!_.put||b.soul)){var w=_.put||"",v=w["="]||w[":"],A,E=b.root,D=E.$.get(w["#"]).get(w["."])._;if(typeof(v=d(v))!="string"){this===i.on&&((D.echo||(D.echo={}))[b.id]=b);return}if(!((D.echo||(D.echo={}))[b.id]&&!(E.pass||"")[b.id])){if(A=E.pass){if(A[v+b.id])return;A[v+b.id]=1}(D.echo||(D.echo={}))[b.id]=b,b.has&&(b.link=v);var I=E.$.get(D.link=v)._;(I.echo||(I.echo={}))[D.id]=D;var A=b.ask||"";(A[""]||b.lex)&&I.on("out",{get:{"#":v}}),setTimeout.each(Object.keys(A),function(L,C){!L||!(C=A[L])||C.on("out",{get:{"#":v,".":L}})},0,99)}}}i.on.link=a;function u(_,b){var w=_.put||"",v=f!==w["="]?w["="]:w[":"],A=b.root,E,D;if(f===v){if(b.soul&&f!==b.put||(D=(_.$$||_.$||"")._||"",_["@"]&&(f!==D.put||f!==b.put)))return;(E=b.link||_.linked)&&delete(A.$.get(E)._.echo||"")[b.id],b.has&&(b.link=null),b.put=f,setTimeout.each(Object.keys(b.next||""),function(I,P){(P=b.next[I])&&(E&&delete(A.$.get(E).get(I)._.echo||"")[P.id],P.on("in",{get:I,put:f,$:P.$}))},0,99);return}b.soul||_.$$||(E=d(v),D=_.$._||"",!((E===D.link||b.has&&!D.link)&&!((A.pass||"")[b.id]&&typeof E!="string"))&&(delete(D.echo||"")[b.id],u({get:b.get,put:f,$:_.$,linked:_.linked=_.linked||D.link},b)))}i.on.unlink=u;function c(_,b){var w=this.as,v=w.$._;v.root;var A=w.get||"",E=(_.put||"")[A["#"]]||"";if(!_.put||typeof A["."]=="string"&&f===E[A["."]]){if(f!==v.put||!v.soul&&!v.has)return;v.ack=(v.ack||0)+1,v.on("in",{get:v.get,put:v.put=f,$:v.$,"@":_["@"]});return}(_._||{}).miss=1,i.on.put(_)}var l={},f,h=String.random,d=i.valid,p=function(_,b){return _&&Object.prototype.hasOwnProperty.call(_,b)},m=i.state,g=m.is,y=m.ify})(e,"./chain"),e(function(r){var i=e("./root");i.chain.get=function(f,h,d){var p,m;if(typeof f=="string"){if(f.length==0)return(p=this.chain())._.err={err:i.log("0 length key!",f)},h&&h.call(p,p._.err),p;var g=this,y=g._,_=y.next||u;(p=_[f])||(p=f&&s(f,g)),p=p&&p.$}else if(typeof f=="function"){let E=function(I,P,L){if(!E.stun&&!((T=w.pass)&&!T[v])){var C=I.$._,k=(I.$$||"")._,x=(k||C).put,F=!C.has&&!C.soul,S={},T;if((F||l===x)&&(x=l===((T=I.put)||"")["="]?l===(T||"")[":"]?T:T[":"]:T["="]),typeof(T=i.valid(x))=="string"&&(x=l===(T=w.$.get(T)._.put)?b.not?l:x:T),!(b.not&&l===x)){if(l===b.stun){if((T=w.stun)&&T.on&&(y.$.back(function(R){if(T.on(""+R.id,S={}),(S.run||0)<E.id)return S}),!S.run&&T.on(""+C.id,S={}),!S.run&&k&&T.on(""+k.id,S={}),E.id>S.run&&((!S.stun||S.stun.end)&&(S.stun=T.on("stun"),S.stun=S.stun&&S.stun.last),S.stun&&!S.stun.end))){(S.stun.add||(S.stun.add={}))[v]=function(){E(I,P,1)};return}if(l===x&&(L=0),(T=w.hatch)&&!T.end&&l===b.hatch&&!L){if(A[C.$._.id])return;A[C.$._.id]=1,T.push(function(){E(I,P,1)});return}A={}}if(w.pass){if(w.pass[v+C.id])return;w.pass[v+C.id]=1}if(b.on){b.ok.call(C.$,x,C.get,I,P||E);return}if(b.v2020){b.ok(I,P||E);return}Object.keys(I).forEach(function(R){T[R]=I[R]},T={}),I=T,I.put=x,b.ok.call(b.as,I,P||E)}}};if(h===!0)return o(this,f,h,d),this;p=this;var y=p._,b=h||{},w=y.root,v;b.at=y,b.ok=f;var A={};return E.at=y,(y.any||(y.any={}))[v=String.random(7)]=E,E.off=function(){E.stun=1,y.any&&delete y.any[v]},E.rid=a,E.id=b.run||++w.once,m=w.pass,(w.pass={})[v]=1,b.out=b.out||{get:{}},y.on("out",b.out),w.pass=m,p}else{if(typeof f=="number")return this.get(""+f,h,d);if(typeof(m=c(f))=="string")return this.get(m,h,d);(m=this.get.next)&&(p=m(this,f))}return p?(h&&typeof h=="function"&&p.get(h,d),p):((p=this.chain())._.err={err:i.log("Invalid get request!",f)},h&&h.call(p,p._.err),p)};function s(f,h){var d=h._,p=d.next,m=h.chain(),g=m._;return p||(p=d.next={}),p[g.get=f]=g,h===d.root.$?g.soul=f:(d.soul||d.has)&&(g.has=f),g}function o(f,h,d,p){var m=f._,g=0,y;return(y=m.soul||m.link)?h(y,p,m):m.jam?m.jam.push([h,p]):(m.jam=[[h,p]],f.get(function(_,b){if(!(l===_.put&&!m.root.opt.super&&(y=Object.keys(m.root.opt.peers).length)&&++g<=y)){b.rid(_);var w=(w=_.$)&&w._||{},v=0,A;for(y=m.jam,delete m.jam;A=y[v++];){var E=A[0];A=A[1],E&&E(w.link||w.soul||i.valid(_.put)||((_.put||{})._||{})["#"],A,_,b)}}},{out:{get:{".":!0}}}),f)}function a(f){var h=this.at||this.on;if(!f||h.soul||h.has)return this.off();if(f=(f=(f=f.$||f)._||f).id){h.map;var d;if((d=this.seen||(this.seen={}))[f])return!0;d[f]=!0}}var u={},c=i.valid,l})(e,"./get"),e(function(r){var i=e("./root");i.chain.put=function(p,m,g){var y=this,_=y._,b=_.root;g=g||{},g.root=_.root,g.run||(g.run=b.once),s(g,_.id),g.ack=g.ack||m,g.via=g.via||y,g.data=g.data||p,g.soul||(g.soul=_.soul||typeof m=="string"&&m);var w=g.state=g.state||i.state();return typeof p=="function"?(p(function(v){g.data=v,y.put(c,c,g)}),y):g.soul?(g.$=b.$.get(g.soul),g.todo=[{it:g.data,ref:g.$}],g.turn=g.turn||f,g.ran=g.ran||o,function v(){var A=g.todo,E=A.pop(),D=E.it;E.ref&&E.ref._.id;var I,P,L,C,k;if(s(g,E.ref),(C=E.todo)&&(P=C.pop(),D=D[P],C.length&&A.push(E)),P&&(A.path||(A.path=[])).push(P),!(I=h(D))&&!(k=i.is(D))){if(!Object.plain(D)){o.err(g,"Invalid data: "+u(D)+" at "+(g.via.back(function(T){T.get&&C.push(T.get)},C=[])||C.join("."))+"."+(A.path||[]).join("."));return}for(var x=g.seen||(g.seen=[]),F=x.length;F--;)if(D===(C=x[F]).it){I=D=C.link;break}}if(P&&I)E.node=d(E.node,P,w,D);else{let T=function(R,B){var U=L.link["#"];B&&(B.off(),B.rid(R));var N=U||R.soul||(C=(R.$$||R.$)._||"").soul||C.link||((C=C.put||"")._||"")["#"]||C["#"]||((C=R.put||"")&&R.$$?C["#"]:(C["="]||C[":"]||"")["#"]);if(!U&&s(g,R.$),!N&&!E.link["#"]){(E.wait||(E.wait=[])).push(function(){T(R,B)});return}N||(N=[],(R.$$||R.$).back(function(z){if(C=z.soul||z.link)return N.push(C);N.push(z.get)}),N=N.reverse().join("/")),L.link["#"]=N,!k&&(((g.graph||(g.graph={}))[N]=L.node||(L.node={_:{}}))._["#"]=N),delete g.wait[S],L.wait&&setTimeout.each(L.wait,function(z){z&&z()}),g.ran(g)};if(!g.seen){o.err(g,"Data at root of graph must be a node (an object).");return}g.seen.push(L={it:D,link:{},todo:k?[]:Object.keys(D).sort().reverse(),path:(A.path||[]).slice(),up:E}),E.node=d(E.node,P,w,L.link),!k&&L.todo.length&&A.push(L);var S=g.seen.length;(g.wait||(g.wait={}))[S]="",C=(L.ref=k?D:P?E.ref.get(P):E.ref)._,(C=D&&(D._||"")["#"]||C.soul||C.link)?T({soul:C}):L.ref.get(T,{run:g.run,v2020:1,out:{get:{".":" "}}})}if(!A.length)return g.ran(g);g.turn(v)}(),y):(a(g),y)};function s(p,m){if(m){m=(m._||"").id||m;var g=p.root.stun||(p.root.stun={on:i.on}),y={},_;p.stun||(p.stun=g.on("stun",function(){})),(_=g.on(""+m))&&_.the.last.next(y),!(y.run>=p.run)&&g.on(""+m,function(b){if(p.stun.end){this.off(),this.to.next(b);return}b.run=b.run||p.run,b.stun=b.stun||p.stun})}}function o(p){if(p.err){o.end(p.stun,p.root);return}if(!(p.todo.length||p.end||!Object.empty(p.wait))){p.end=1;var m=p.$.back(-1)._,g=m.root,y=m.ask(function(v){g.on("ack",v),v.err&&!v.lack&&i.log(v),++_>(p.acks||0)&&this.off(),p.ack&&p.ack(v,this)},p.opt),_=0,b=p.stun,w;(w=function(){b&&(o.end(b,g),setTimeout.each(Object.keys(b=b.add||""),function(v){(v=b[v])&&v()}))}).hatch=w,p.ack&&!p.ok&&(p.ok=p.acks||9),p.via._.on("out",{put:p.out=p.graph,ok:p.ok&&{"@":p.ok+1},opt:p.opt,"#":y,_:w})}}o.end=function(p,m){p.end=l,p.the.to===p&&p===p.the.last&&delete m.stun,p.off()},o.err=function(p,m){(p.ack||l).call(p,p.out={err:p.err=i.log(m)}),p.ran(p)};function a(p){var m=p.via._,g;p.via=p.via.back(function(y){if(y.soul||!y.get)return y.$;g=p.data,(p.data={})[y.get]=g}),(!p.via||!p.via._.soul)&&(p.via=m.root.$.get(((p.data||"")._||"")["#"]||m.$.back("opt.uuid")())),p.via.put(p.data,p.ack,p)}function u(p,m){return p&&(m=p.constructor)&&m.name||typeof p}var c,l=function(){},f=setTimeout.turn,h=i.valid,d=i.state.ify})(e,"./put"),e(function(r){var i=e("./root");e("./chain"),e("./back"),e("./put"),e("./get"),r.exports=i})(e,"./index"),e(function(r){var i=e("./index");i.chain.on=function(a,u,c,l){var f=this,h=f._;h.root;var d;if(typeof a=="string")return u?(d=h.on(a,u,c||h,l),c&&c.$&&(c.subs||(c.subs=[])).push(d),f):h.on(a);var p=u;return(p=p===!0?{change:!0}:p||{}).not=1,p.on=1,f.get(a,p),f},i.chain.once=function(a,u){if(u=u||{},!a)return s(this);var c=this,l=c._,f=l.root;l.put;var h=String.random(7),d;return c.get(function(p,m,g,y){var _=this,b=_._,w=b.one||(b.one={});if(y.stun||w[h]==="")return;if((d=i.valid(p))===!0){v();return}if(typeof d=="string")return;clearTimeout((l.one||"")[h]),clearTimeout(w[h]),w[h]=setTimeout(v,u.wait||99);function v(A){if(!b.has&&!b.soul&&(b={put:p,get:m}),o===(d=b.put)&&(d=((g.$$||"")._||"").put),typeof i.valid(d)=="string"&&(d=f.$.get(d)._.put,d===o&&!A)){w[h]=setTimeout(function(){v(1)},u.wait||99);return}y.stun||w[h]!==""&&(w[h]="",(l.soul||l.has)&&y.off(),a.call(_,d,b.get),clearTimeout(w[h]))}},{on:1}),c};function s(a,u,c){return i.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(c=a.chain())._.nix=a.once(function(l,f){c._.on("in",this._)}),c._.lex=a._.lex,c}i.chain.off=function(){var a=this,u=a._,c,l=u.back;if(l)return u.ack=0,(c=l.next)&&c[u.get]&&delete c[u.get],(c=l.any)&&(delete l.any,l.any={}),(c=l.ask)&&delete c[u.get],(c=l.put)&&delete c[u.get],(c=u.soul)&&delete l.root.graph[c],(c=u.map)&&Object.keys(c).forEach(function(f,h){h=c[f],h.link&&l.root.$.get(h.link).off()}),(c=u.next)&&Object.keys(c).forEach(function(f,h){h=c[f],h.$.off()}),u.on("off",{}),a};var o})(e,"./on"),e(function(r){var i=e("./index"),s=i.chain.get.next;i.chain.get.next=function(c,l){var f;return Object.plain(l)?(f=((f=l["#"])||"")["="]||f)?c.get(f):((f=c.chain()._).lex=l,c.on("in",function(h){String.match(h.get||(h.put||"")["."],l["."]||l["#"]||l)&&f.on("in",h),this.to.next(h)}),f.$):(s||a)(c,l)},i.chain.map=function(c,l,f){var h=this,d=h._,p,m;return Object.plain(c)&&(p=c["."]?c:{".":c},c=u),c?(i.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),m=h.chain(),h.map().on(function(g,y,_,b){var w=(c||a).call(this,g,y,_,b);if(u!==w){if(g===w)return m._.on("in",_);if(i.is(w))return m._.on("in",w._);var v={};Object.keys(_.put).forEach(function(A){v[A]=_.put[A]},v),v["="]=w,m._.on("in",{get:y,put:v})}}),m):((m=d.each)||((d.each=m=h.chain())._.lex=p||m._.lex||d.lex,m._.nix=h.back("nix"),h.on("in",o,m._)),m)};function o(c){this.to.next(c);var l=this.as,f=c.$,h=f._,d=c.put,p;!h.soul&&!c.$$||(p=l.lex)&&!String.match(c.get||(d||"")["."],p["."]||p["#"]||p)||i.on.link(c,l)}var a=function(){},u})(e,"./map"),e(function(r){var i=e("./index");i.chain.set=function(s,o,a){var u=this,c=u.back(-1),l,f;return o=o||function(){},a=a||{},a.item=a.item||s,(l=((s||"")._||"")["#"])&&((s={})["#"]=l),typeof(f=i.valid(s))=="string"?u.get(l=f).put(s,o,a):i.is(s)?(u.put(function(h){s.get(function(d,p,m){if(!d)return o.call(u,{err:i.log('Only a node can be linked! Not "'+m.put+'"!')});(f={})[d]={"#":d},h(f)},!0)}),s):(Object.plain(s)&&(s=c.get(l=u.back("opt.uuid")()).put(s)),u.get(l||c.back("opt.uuid")(7)).put(s,o,a))}})(e,"./set"),e(function(r){e("./shim");var i=function(){},s=JSON.parseAsync||function(c,l,f){var h,d=+new Date;try{l(h,JSON.parse(c,f),o.sucks(+new Date-d))}catch(p){l(p)}},o=JSON.stringifyAsync||function(c,l,f,h){var d,p=+new Date;try{l(d,JSON.stringify(c,f,h),o.sucks(+new Date-p))}catch(m){l(m)}};o.sucks=function(c){c>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),o.sucks=i)};function a(c){var l=function(){},f=c.opt||{};f.log=f.log||console.log,f.gap=f.gap||f.wait||0,f.max=f.max||(f.memory?f.memory*999*999:3e8)*.3,f.pack=f.pack||f.max*.01*.01,f.puff=f.puff||9;var h=setTimeout.turn||setTimeout,d=c.dup,p=d.check,m=d.track,g=l.hear=function(b,w){if(b){if(f.max<=b.length)return l.say({dam:"!",err:"Message too big!"},w);l===this&&(g.d+=b.length||0,++g.c);var v=w.SH=+new Date,A=b[0],E;if(A==="["){s(b,function(D,I){if(D||!I)return l.say({dam:"!",err:"DAM JSON parse error."},w);console.STAT&&console.STAT(+new Date,I.length,"# on hear batch");var P=f.puff;(function L(){for(var C=+new Date,k=0,x;k<P&&(x=I[k++]);)l.hear(x,w);I=I.slice(k),console.STAT&&console.STAT(C,+new Date-C,"hear loop"),y(w),I.length&&h(L,0)})()}),b="";return}if(A==="{"||(b["#"]||Object.plain(b))&&(E=b)){if(E)return g.one(E,w,v);s(b,function(D,I){if(D||!I)return l.say({dam:"!",err:"DAM JSON parse error."},w);g.one(I,w,v)});return}}};g.one=function(b,w,v){var A,E,D,I,P;if(b.DBG&&(b.DBG=P={DBG:b.DBG}),P&&(P.h=v),P&&(P.hp=+new Date),(A=b["#"])||(A=b["#"]=String.random(9)),!(D=p(A))&&(E=b["##"],!(E&&(D=b["@"]||b.get&&A)&&d.check(I=D+E)))){if((b._=function(){}).via=l.leap=w,(D=b["><"])&&typeof D=="string"&&D.slice(0,99).split(",").forEach(function(C){this[C]=1},b._.yo={}),D=b.dam){(D=l.hear[D])&&D(b,w,c),m(A);return}(D=b.ok)&&(b._.near=D["/"]);var v=+new Date;P&&(P.is=v),w.SI=A,m.ed=function(C){A===C&&(m.ed=0,(C=d.s[A])&&(C.via=w,b.get&&(C.it=b)))},c.on("in",l.last=b),P&&(P.hd=+new Date),console.STAT&&console.STAT(v,+new Date-v,b.get?"msg get":b.put?"msg put":"msg"),m(A),I&&m(I),l.leap=l.last=null}},g.c=g.d=0,function(){var b=0,w;l.hash=function(E,D){var I,P,L,C=+new Date;o(E.put,function k(x,F){var S=(P||(P=L=F||"")).slice(0,32768);if(I=String.hash(S,I),P=P.slice(32768),P){h(k,0);return}console.STAT&&console.STAT(C,+new Date-C,"say json+hash"),E._.$put=L,E["##"]=I,l.say(E,D),delete E._.$put},v)};function v(E,D){var I;return D instanceof Object?(Object.keys(D).sort().forEach(A,{to:I={},on:D}),I):D}function A(E){this.to[E]=this.on[E]}l.say=function(E,D){var I;if((I=this)&&(I=I.to)&&I.next&&I.next(E),!E)return!1;var P,L,C,k=E["@"],x=E._||(E._=function(){}),F=E.DBG,S=+new Date;if(x.y=x.y||S,D||F&&(F.y=S),(P=E["#"])||(P=E["#"]=String.random(9)),!w&&m(P),!(L=E["##"])&&u!==E.put&&!x.via&&k){l.hash(E,D);return}if(!D&&k&&(D=(I=d.s[k])&&(I.via||(I=I.it)&&(I=I._)&&I.via)||(I=l.last)&&k===I["#"]&&l.leap),!D&&k)return d.s[k]?void 0:(console.STAT&&console.STAT(+new Date,++b,"total no peer to ack to"),!1);if(k&&!E.put&&!L&&((d.s[k]||"").it||"")["##"])return!1;if(!D&&l.way)return l.way(E);if(F&&(F.yh=+new Date),!(C=x.raw)){l.raw(E,D);return}if(F&&(F.yr=+new Date),!D||!D.id){if(!Object.plain(D||f.peers))return!1;var S=+new Date;f.puff;var T=f.peers,R=Object.keys(D||f.peers||{});console.STAT&&console.STAT(S,+new Date-S,"peer keys"),function N(){var z=+new Date;w=1;var Y=x.raw;x.raw=C;for(var G=0,K;G<9&&(K=(R||"")[G++]);)(K=T[K]||(D||"")[K])&&l.say(E,K);x.raw=Y,w=0,R=R.slice(G),console.STAT&&console.STAT(z,+new Date-z,"say loop"),R.length&&(h(N,0),k&&m(k))}();return}if(!D.wire&&l.wire&&l.wire(D),P!==D.last){if(D.last=P,D===x.via||(I=x.yo)&&(I[D.url]||I[D.pid]||I[D.id]))return!1;if(console.STAT&&console.STAT(S,((F||x).yp=+new Date)-(x.y||S),"say prep"),!w&&k&&m(k),D.batch){if(D.tail=(I=D.tail||0)+C.length,D.tail<=f.pack){D.batch+=(I?",":"")+C;return}y(D)}D.batch="[";var B=+new Date;setTimeout(function(){console.STAT&&console.STAT(B,+new Date-B,"0ms TO"),y(D)},f.gap),_(C,D),console.STAT&&k===D.SI&&console.STAT(S,+new Date-D.SH,"say ack")}},l.say.c=l.say.d=0,l.raw=function(E,D){if(!E)return"";var I=E._||{},P,L;if(L=I.raw)return L;if(typeof E=="string")return E;var C=E["##"],k=E["@"];if(C&&k){if(!I.via&&p(k+C))return!1;if(L=(d.s[k]||"").it){if(C===L["##"])return!1;L["##"]||(L["##"]=C)}}if(!E.dam&&!E["@"]){var x=0,F=[];L=f.peers;for(var S in L){var T=L[S];if(F.push(T.url||T.pid||T.id),++x>6)break}x>1&&(E["><"]=F.join())}if(E.put&&(L=E.ok)&&(E.ok={"@":(L["@"]||1)-1,"/":L["/"]==E._.near?l.near:L["/"]}),P=I.$put){L={},Object.keys(E).forEach(function(B){L[B]=E[B]}),L.put=":])([:",o(L,function(B,U){if(!B){var N=+new Date;L=U.indexOf('"put":":])([:"'),R(u,U=U.slice(0,L+6)+P+U.slice(L+14)),console.STAT&&console.STAT(N,+new Date-N,"say slice")}});return}o(E,R);function R(B,U){B||(I.raw=U,l.say(E,D))}}}();function y(b){var w=b.batch,v=typeof w=="string";if(v&&(w+="]"),b.batch=b.tail=null,!!w&&!(v?3>w.length:!w.length)){if(!v)try{w=w.length===1?w[0]:JSON.stringify(w)}catch(A){return f.log("DAM JSON stringify error",A)}w&&_(w,b)}}function _(b,w){try{var v=w.wire;w.say?w.say(b):v.send&&v.send(b),l.say.d+=b.length||0,++l.say.c}catch{(w.queue=w.queue||[]).push(b)}}return l.near=0,l.hi=function(b){var w=b.wire,v;if(!w){l.wire(b.length&&{url:b,id:b}||b);return}b.id?f.peers[b.url||b.id]=b:(v=b.id=b.id||b.url||String.random(9),l.say({dam:"?",pid:c.opt.pid},f.peers[v]=b),delete d.s[b.last]),b.met||(l.near++,b.met=+new Date,c.on("hi",b)),v=b.queue,b.queue=[],setTimeout.each(v||[],function(A){_(A,b)},0,9)},l.bye=function(b){b.met&&--l.near,delete b.met,c.on("bye",b);var w=+new Date;w=w-(b.met||w),l.bye.time=((l.bye.time||w)+w)/2},l.hear["!"]=function(b,w){f.log("Error:",b.err)},l.hear["?"]=function(b,w){b.pid&&(w.pid||(w.pid=b.pid),b["@"])||(l.say({dam:"?",pid:f.pid,"@":b["#"]},w),delete d.s[w.last])},l.hear.mob=function(b,w){if(b.peers){var v=Object.keys(b.peers),A=v[Math.random()*v.length>>0];A&&(l.bye(w),l.hi(A))}},c.on("create",function(b){b.opt.pid=b.opt.pid||String.random(9),this.to.next(b),b.on("out",l.say)}),c.on("bye",function(b,w){b=f.peers[b.id||b]||b,this.to.next(b),b.bye?b.bye():(w=b.wire)&&w.close&&w.close(),delete f.peers[b.id],b.wire=null}),c.on("bye",function(b,w){this.to.next(b),(w=console.STAT)&&(w.peers=l.near),(w=b.url)&&setTimeout(function(){},f.lack||9e3)}),c.on("hi",function(b,w){if(this.to.next(b),(w=console.STAT)&&(w.peers=l.near),!f.super){var v=Object.keys(c.next||"");v.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(v,function(A){var E=c.next[A];if(f.super||(E.ask||"")[""]){l.say({get:{"#":A}},b);return}setTimeout.each(Object.keys(E.ask||""),function(D){D&&l.say({"##":String.hash((c.graph[A]||"")[D]),get:{"#":A,".":D}},b)})})}}),l}var u;try{r.exports=a}catch{}})(e,"./mesh"),e(function(r){var i=e("./index");i.Mesh=e("./mesh"),i.on("opt",function(o){if(this.to.next(o),o.once)return;var a=o.opt;if(a.WebSocket===!1)return;var u=i.window||{},c=a.WebSocket||u.WebSocket||u.webkitWebSocket||u.mozWebSocket;if(!c)return;a.WebSocket=c;var l=a.mesh=a.mesh||i.Mesh(o);l.wire||a.wire,l.wire=a.wire=f;function f(m){try{if(!m||!m.url)return y&&y(m);var g=m.url.replace(/^http/,"ws"),y=m.wire=new a.WebSocket(g);return y.onclose=function(){d(m),a.mesh.bye(m)},y.onerror=function(_){d(m)},y.onopen=function(){a.mesh.hi(m)},y.onmessage=function(_){_&&a.mesh.hear(_.data||_,m)},y}catch{a.mesh.bye(m)}}setTimeout(function(){!a.super&&o.on("out",{dam:"hi"})},1);var h=2*999;function d(m){clearTimeout(m.defer),a.peers[m.url]&&(p&&m.retry<=0||(m.retry=(m.retry||a.retry+1||60)-(-m.tried+(m.tried=+new Date)<h*4?1:0),m.defer=setTimeout(function g(){if(p&&p.hidden)return setTimeout(g,h);f(m)},h)))}var p=""+s!=typeof document&&document});var s})(e,"./websocket"),e(function(r){if(!(typeof Gun>"u")){var i=function(){},s;try{s=(Gun.window||i).localStorage}catch{}s||(Gun.log("Warning: No localStorage exists to persist data to!"),s={setItem:function(a,u){this[a]=u},removeItem:function(a){delete this[a]},getItem:function(a){return this[a]}});var o=JSON.stringifyAsync||function(a,u,c,l){var f;try{u(f,JSON.stringify(a,c,l))}catch(h){u(h)}};Gun.on("create",function a(u){this.to.next(u);var c=u.opt;u.graph;var l=[],f,h,d,p;if(c.localStorage===!1)return;c.prefix=c.file||"gun/";try{f=a[c.prefix]=a[c.prefix]||JSON.parse(d=s.getItem(c.prefix))||{}}catch{f=a[c.prefix]={}}d=(d||"").length,u.on("get",function(g){this.to.next(g);var y=g.get,_,b,w,v;!y||!(_=y["#"])||(b=f[_]||v,b&&(w=y["."])&&!Object.plain(w)&&(b=Gun.state.ify({},w,Gun.state.is(b,w),b[w],_)),Gun.on.get.ack(g,b))}),u.on("put",function(g){this.to.next(g);var y=g.put,_=y["#"],b=y["."],w=g["#"],v=g.ok||"";if(f[_]=Gun.state.ify(f[_],b,y[">"],y[":"],_),p&&d>4999880){u.on("in",{"@":w,err:"localStorage max!"});return}!g["@"]&&(!g._.via||Math.random()<v["@"]/v["/"])&&l.push(w),!h&&(h=setTimeout(m,9+d/333))});function m(){if(!l.length&&((setTimeout.turn||"").s||"").length){setTimeout(m,99);return}var g=l;clearTimeout(h),h=!1,l=[],o(f,function(y,_){try{!y&&s.setItem(c.prefix,_)}catch(b){y=p=b||"localStorage failure"}y&&(Gun.log(y+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),u.on("localStorage:error",{err:y,get:c.prefix,put:f})),d=_.length,setTimeout.each(g,function(b){u.on("in",{"@":b,err:y,ok:0})},0,99)})}})}})(e,"./localStorage")})(),function(){var e;if(""+e!=typeof Gun){var n=function(k){console.warn("Warning! Deprecated internal utility will break in next version:",k)},r=Gun;r.fn=r.fn||{is:function(k){return n("fn"),!!k&&typeof k=="function"}},r.bi=r.bi||{is:function(k){return n("bi"),k instanceof Boolean||typeof k=="boolean"}},r.num=r.num||{is:function(k){return n("num"),!i(k)&&(k-parseFloat(k)+1>=0||k===1/0||k===-1/0)}},r.text=r.text||{is:function(k){return n("text"),typeof k=="string"}},r.text.ify=r.text.ify||function(k){return n("text.ify"),r.text.is(k)?k:typeof JSON<"u"?JSON.stringify(k):k&&k.toString?k.toString():k},r.text.random=r.text.random||function(k,x){n("text.random");var F="";for(k=k||24,x=x||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";k>0;)F+=x.charAt(Math.floor(Math.random()*x.length)),k--;return F},r.text.match=r.text.match||function(k,x){var F,S;return n("text.match"),typeof k!="string"?!1:(typeof x=="string"&&(x={"=":x}),x=x||{},F=x["="]||x["*"]||x[">"]||x["<"],k===F?!0:S!==x["="]?!1:(F=x["*"]||x[">"]||x["<"],k.slice(0,(F||"").length)===F?!0:S!==x["*"]?!1:S!==x[">"]&&S!==x["<"]?k>=x[">"]&&k<=x["<"]:S!==x[">"]&&k>=x[">"]||S!==x["<"]&&k<=x["<"]))},r.text.hash=r.text.hash||function(k,x){if(n("text.hash"),typeof k=="string"){if(x=x||0,!k.length)return x;for(var F=0,S=k.length,T;F<S;++F)T=k.charCodeAt(F),x=(x<<5)-x+T,x|=0;return x}},r.list=r.list||{is:function(k){return n("list"),k instanceof Array}},r.list.slit=r.list.slit||Array.prototype.slice,r.list.sort=r.list.sort||function(k){return n("list.sort"),function(x,F){return!x||!F?0:(x=x[k],F=F[k],x<F?-1:x>F?1:0)}},r.list.map=r.list.map||function(k,x,F){return n("list.map"),P(k,x,F)},r.list.index=1,r.obj=r.boj||{is:function(k){return n("obj"),k?k instanceof Object&&k.constructor===Object||Object.prototype.toString.call(k).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},r.obj.put=r.obj.put||function(k,x,F){return n("obj.put"),(k||{})[x]=F,k},r.obj.has=r.obj.has||function(k,x){return n("obj.has"),k&&Object.prototype.hasOwnProperty.call(k,x)},r.obj.del=r.obj.del||function(k,x){if(n("obj.del"),!!k)return k[x]=null,delete k[x],k},r.obj.as=r.obj.as||function(k,x,F,S){return n("obj.as"),k[x]=k[x]||(S===F?{}:F)},r.obj.ify=r.obj.ify||function(k){if(n("obj.ify"),v(k))return k;try{k=JSON.parse(k)}catch{k={}}return k},function(){var k;function x(F,S){E(this,S)&&k!==this[S]||(this[S]=F)}r.obj.to=r.obj.to||function(F,S){return n("obj.to"),S=S||{},P(F,x,S),S}}(),r.obj.copy=r.obj.copy||function(k){return n("obj.copy"),k&&JSON.parse(JSON.stringify(k))},function(){function k(x,F){var S=this.n,T;if(!(S&&(F===S||v(S)&&E(S,F)))&&T!==F)return!0}r.obj.empty=r.obj.empty||function(x,F){return n("obj.empty"),x?!P(x,k,{n:F}):!0}}(),function(){function k(S,T){if(arguments.length===2){k.r=k.r||{},k.r[S]=T;return}k.r=k.r||[],k.r.push(S)}var x=Object.keys,F;Object.keys=Object.keys||function(S){return F(S,function(T,R,B){B(R)})},r.obj.map=F=r.obj.map||function(S,T,R){n("obj.map");var B,U=0,N,z,Y,G,K=typeof T=="function";if(k.r=B,x&&v(S)&&(Y=x(S),G=!0),R=R||{},i(S)||Y)for(N=(Y||S).length;U<N;U++){var ue=U+r.list.index;if(K){if(z=G?T.call(R,S[Y[U]],Y[U],k):T.call(R,S[U],ue,k),z!==B)return z}else if(T===S[G?Y[U]:U])return Y?Y[U]:ue}else for(U in S)if(K){if(E(S,U)&&(z=R?T.call(R,S[U],U,k):T(S[U],U,k),z!==B))return z}else if(T===S[U])return U;return K?k.r:r.list.index?0:-1}}(),r.time=r.time||{},r.time.is=r.time.is||function(k){return n("time"),k?k instanceof Date:+new Date().getTime()};var b=r.fn.is,i=r.list.is,w=r.obj,v=w.is,E=w.has,P=w.map,s={};s.is=function(k){return n("val.is"),k===e?!1:k===null?!0:k===1/0?!1:u(k)||a(k)||m(k)?!0:s.link.is(k)||!1},s.link=s.rel={_:"#"},function(){s.link.is=function(x){if(n("val.link.is"),x&&x[o]&&!x._&&v(x)){var F={};if(P(x,k,F),F.id)return F.id}return!1};function k(x,F){var S=this;if(S.id)return S.id=!1;if(F==o&&u(x))S.id=x;else return S.id=!1}}(),s.link.ify=function(k){return n("val.link.ify"),I({},o,k)},r.obj.has._=".";var o=s.link._,e,a=r.bi.is,m=r.num.is,u=r.text.is,w=r.obj,v=w.is,I=w.put,P=w.map;r.val=r.val||s;var c={_:"_"};c.soul=function(k,x){return n("node.soul"),k&&k._&&k._[x||h]},c.soul.ify=function(k,x){return n("node.soul.ify"),x=typeof x=="string"?{soul:x}:x||{},k=k||{},k._=k._||{},k._[h]=x.soul||k._[h]||f(),k},c.soul._=s.link._,function(){c.is=function(x,F,S){n("node.is");var T;return v(x)&&(T=c.soul(x))?!P(x,k,{as:S,cb:F,s:T,n:x}):!1};function k(x,F){if(F!==c._){if(!s.is(x))return!0;this.cb&&this.cb.call(this.as,x,F,this.n,this.s)}}}(),function(){c.ify=function(x,F,S){return n("node.ify"),F?typeof F=="string"?F={soul:F}:typeof F=="function"&&(F={map:F}):F={},F.map&&(F.node=F.map.call(S,x,e,F.node||{})),(F.node=c.soul.ify(F.node||{},F))&&P(x,k,{o:F,as:S}),F.node};function k(x,F){var S=this.o,T,R;if(S.map){T=S.map.call(this.as,x,""+F,S.node),R===T?A(S.node,F):S.node&&(S.node[F]=T);return}s.is(x)&&(S.node[F]=x)}}();var w=r.obj,v=w.is,A=w.del,P=w.map,l=r.text,f=l.random,h=c.soul._,e;r.node=r.node||c;var d=r.state;d.lex=function(){return n("state.lex"),d().toString(36).replace(".","")},d.to=function(k,x,F){n("state.to");var S=(k||{})[x];return v(S)&&(S=L(S)),d.ify(F,x,d.is(k,x),S,c.soul(k))},function(){d.map=function(x,F,S){n("state.map");var T,R=v(R=x||F)?R:null;return x=b(x=x||F)?x:null,R&&!x?(F=m(F)?F:d(),R[y]=R[y]||{},P(R,k,{o:R,s:F}),R):(S=S||v(F)?F:T,F=m(F)?F:d(),function(B,U,N,z){if(!x)return k.call({o:N,s:F},B,U),B;x.call(S||this||{},B,U,N,z),!(E(N,U)&&T===N[U])&&k.call({o:N,s:F},B,U)})};function k(x,F){y!==F&&d.ify(this.o,F,this.s)}}();var w=r.obj;w.as;var E=w.has,v=w.is,P=w.map,L=w.copy,p=r.num,m=p.is,g=r.fn,b=g.is,y=c._,e,_={};(function(){_.is=function(F,S,T,R){return n("graph.is"),!F||!v(F)||D(F)?!1:!P(F,k,{cb:S,fn:T,as:R})};function k(F,S){if(!F||S!==c.soul(F)||!c.is(F,this.fn,this.as))return!0;this.cb&&(x.n=F,x.as=this.as,this.cb.call(x.as,F,S,x))}function x(F){F&&c.is(x.n,F,x.as)}})(),function(){_.ify=function(R,B,U){n("graph.ify");var N={path:[],obj:R};return B?typeof B=="string"?B={soul:B}:typeof B=="function"&&(B.map=B):B={},typeof U=="string"&&(B.soul=B.soul||U,U=e),B.soul&&(N.link=s.link.ify(B.soul)),B.shell=(U||{}).shell,B.graph=B.graph||{},B.seen=B.seen||[],B.as=B.as||U,k(B,N),B.root=N.node,B.graph};function k(R,B){var U;return(U=T(R,B))?U:(B.env=R,B.soul=F,c.ify(B.obj,x,B)&&(B.link=B.link||s.link.ify(c.soul(B.node)),B.obj!==R.shell&&(R.graph[s.link.is(B.link)]=B.node)),B)}function x(R,B,U){var N=this,z=N.env,Y,G;if(c._===B&&E(R,s.link._))return U._;if(Y=S(R,B,U,N,z)){if(B||(N.node=N.node||U||{},E(R,c._)&&c.soul(R)&&(N.node._=L(R._)),N.node=c.soul.ify(N.node,s.link.is(N.link)),N.link=N.link||s.link.ify(c.soul(N.node))),(G=z.map)&&(G.call(z.as||{},R,B,U,N),E(U,B))){if(R=U[B],e===R){A(U,B);return}if(!(Y=S(R,B,U,N,z)))return}if(!B)return N.node;if(Y===!0)return R;if(G=k(z,{obj:R,path:N.path.concat(B)}),!!G.node)return G.link}}function F(R){var B=this,U=s.link.is(B.link),N=B.env.graph;B.link=B.link||s.link.ify(R),B.link[s.link._]=R,B.node&&B.node[c._]&&(B.node[c._][s.link._]=R),E(N,U)&&(N[R]=N[U],A(N,U))}function S(R,B,U,N,z){var Y;if(s.is(R))return!0;if(v(R))return 1;if(Y=z.invalid)return R=Y.call(z.as||{},R,B,U),S(R,B,U,N,z);z.err="Invalid value at '"+N.path.concat(B).join(".")+"'!",r.list.is(R)&&(z.err+=" Use `.set(item)` instead of an Array.")}function T(R,B){for(var U=R.seen,N=U.length,z;N--;)if(z=U[N],B.obj===z.obj)return z;U.push(B)}}(),_.node=function(k){n("graph.node");var x=c.soul(k);if(x)return I({},x,k)},function(){_.to=function(x,F,S){if(n("graph.to"),!!x){var T={};return S=S||{seen:{}},P(x[F],k,{obj:T,graph:x,opt:S}),T}};function k(x,F){var S,T;if(c._===F){if(D(x,s.link._))return;this.obj[F]=L(x);return}if(!(S=s.link.is(x))){this.obj[F]=x;return}if(T=this.opt.seen[S]){this.obj[F]=T;return}this.obj[F]=this.opt.seen[S]=_.to(this.graph,S,this.opt)}}();var b=r.fn.is,w=r.obj,v=w.is,A=w.del,E=w.has,D=w.empty,I=w.put,P=w.map,L=w.copy,e;r.graph=r.graph||_}}()}(sa)),sa.exports}var Jp=Jn();const rn=Jh(Jp);var aa={},ua;function Yp(){if(ua)return aa;ua=1;var t=typeof window<"u"?window.Gun:Jn();return t.chain.promise=function(r){var n=this,r=r||function(i){return i};return new Promise(function(i,s){n.once(function(o,a){i({put:o,get:a,gun:this})})}).then(r)},t.chain.then=function(e){var n=this,r=new Promise((i,s)=>{n.once(function(o,a){i(o,a)})});return e?r.then(e):r},aa}Yp();var ca={exports:{}},la;function lo(){return la||(la=1,function(){function t(){var s=function(o,a,u){if(s.unit=0,!u&&r!==a&&(s.last=""+o<s.last?s.last:""+o,delete(s.$||{})[i]),u=u||s.$||(s.$={}),!o&&Object.keys(u).length)return u;o=""+o;for(var c=0,l=o.length-1,f=o[c],h,d;!(h=u[f])&&c<l;)f+=o[++c];if(h)if(c==l){if(r===a)return r===(d=h[""])?h:(s.unit=1)&&d;h[""]=a}else return r!==a&&delete h[i],s(o.slice(++c),a,h||(h={}));else{if(!e(u,function(p,m){var g=0,y="";if((m||"").length)for(;m[g]==o[g];)y+=m[g++];if(y){if(r===a)return g<=l?void 0:((d||(d={}))[m.slice(g)]=p,p);var _={};if(_[m.slice(g)]=p,g=o.slice(g),g===""?_[""]=a:(_[g]={})[""]=a,u[y]=_,t.debug&&""+y=="undefined"){console.log(0,y);debugger}return delete u[m],!0}})){if(r===a)return;if((u[f]||(u[f]={}))[""]=a,t.debug&&""+f=="undefined"){console.log(1,f);debugger}}if(r===a)return d}};return s}if(t.map=function s(o,a,u,c){try{c=c||[];var l=typeof o=="function"?o.$||{}:o;//!opt && console.log("WHAT IS T?", JSON.stringify(t).length);
if(!l)return;if(typeof l=="string"){if(t.debug)throw["BUG:",o,a,u,c];return}var f=(l[i]||n).sort||(l[i]=function D(){return D.sort=Object.keys(l).sort(),D}()).sort,h;u=u===!0?{branch:!0}:u||{},(h=u.reverse)&&(f=f.slice(0).reverse());for(var d=u.start,p=u.end,m="￿",g=0,y=f.length;g<y;g++){var _=f[g],b=l[_],w,v,A;if(!(!b||_===""||i===_||_==="undefined")&&(v=c.slice(0),v.push(_),A=v.join(""),!(r!==d&&A<(d||"").slice(0,A.length))&&!(r!==p&&(p||m)<A))){if(h&&(w=s(b,a,u,v),r!==w))return w;if(r!==(w=b[""])){var E=1;if(r!==d&&A<(d||"")&&(E=0),r!==p&&A>(p||m)&&(E=0),E&&(w=a(w,A,_,c),r!==w))return w}else if(u.branch&&(w=a(r,A,_,c),r!==w))return w;if(c=v,!h&&(w=s(b,a,u,c),r!==w))return w;c.pop()}}}catch(D){console.error(D)}},typeof window<"u")window.Radix=t;else try{ca.exports=t}catch{}var e=t.object=function(s,o,a){for(var u in s)if(s.hasOwnProperty(u)&&(a=o(s[u],u))!==r)return a},n={},r,i=""}()),ca.exports}lo();var ha={exports:{}},fa={exports:{}},da;function Xp(){return da||(da=1,function(t){(function(){var e={},n,r=setTimeout.turn||typeof setImmediate!=""+n&&setImmediate||setTimeout;e.parseAsync=function(s,o,a,u){if(typeof s!="string"){try{o(n,JSON.parse(s))}catch(f){o(f)}return}var c={i:0,text:s,done:o,l:s.length,up:[]};u=u||1024*32,l();function l(){for(var f=c.text,h=c.i,d=c.l,p=0,m=c.w,g,y;p++<u;){var _=f[h++];if(h>d){c.end=!0;break}if(m){for(h=f.indexOf('"',h-1),_=f[h],y=0;f[h-++y]=="\\";);y=!(y%2),g=g||y,_=='"'&&!y&&(m=n,y=c.s,c.a?(y=f.slice(c.sl,h),(g||1+y.indexOf("\\"))&&(y=JSON.parse('"'+y+'"')),c.at instanceof Array?c.at.push(c.s=y):(c.at||(c.end=p=u,y=n),(c.at||{})[c.s]=c.s=y),c.s=n):(c.s=f.slice(c.sl,h),(g||1+c.s.indexOf("\\"))&&(c.s=JSON.parse('"'+c.s+'"'))),c.a=g=n),++h}else switch(_){case'"':c.sl=h,m=!0;break;case":":c.ai=h,c.a=!0;break;case",":(c.a||c.at instanceof Array)&&(y=f.slice(c.ai,h-1))&&n!==(y=i(y))&&(c.at instanceof Array?c.at.push(y):c.at[c.s]=y),c.a=n,c.at instanceof Array&&(c.a=!0,c.ai=h);break;case"{":c.up.push(c.at||(c.at={})),c.at instanceof Array?c.at.push(c.at={}):n!==(y=c.s)&&(c.at[y]=c.at={}),c.a=n;break;case"}":c.a&&(y=f.slice(c.ai,h-1))&&n!==(y=i(y))&&(c.at instanceof Array?c.at.push(y):(c.at||(c.end=p=u,y=n),(c.at||{})[c.s]=y)),c.a=n,c.at=c.up.pop();break;case"[":n!==(y=c.s)?(c.up.push(c.at),c.at[y]=c.at=[]):c.at||c.up.push(c.at=[]),c.a=!0,c.ai=h;break;case"]":c.a&&(y=f.slice(c.ai,h-1))&&n!==(y=i(y))&&(c.at instanceof Array?c.at.push(y):c.at[c.s]=y),c.a=n,c.at=c.up.pop();break}}if(c.s=n,c.i=h,c.w=m,c.end){if(y=c.at,n===y)try{y=JSON.parse(s)}catch(b){return c.done(b)}c.done(n,y)}else r(l)}};function i(s){var o=parseFloat(s);if(!isNaN(o))return o;if(s=s.trim(),s=="true")return!0;if(s=="false")return!1;if(s=="null")return null}e.stringifyAsync=function(s,o,a,u,c){c=c||{},c.text=c.text||"",c.up=[c.at={d:s}],c.done=o,c.i=0;var l=0;f();function f(){var h=c.at,d=h.d,p="",m;switch(h.i&&h.i-h.j>0&&(p+=","),n!==(m=h.k)&&(p+=JSON.stringify(m)+":"),typeof d){case"boolean":p+=""+d;break;case"string":p+=JSON.stringify(d);break;case"number":p+=isNaN(d)?"null":d;break;case"object":if(!d){p+="null";break}if(d instanceof Array){p+="[",h={i:-1,as:d,up:h,j:0},h.l=d.length,c.up.push(c.at=h);break}if(typeof(d||"").toJSON!="function"){p+="{",h={i:-1,ok:Object.keys(d).sort(),as:d,up:h,j:0},h.l=h.ok.length,c.up.push(c.at=h);break}if(m=d.toJSON()){p+=m;break}case"function":if(h.as instanceof Array){p+="null";break}default:p="",h.j++}for(c.text+=p;1+h.i>=h.l;)c.text+=h.ok?"}":"]",h=c.at=h.up;if(++h.i<h.l){if((m=h.ok)?h.d=h.as[h.k=m[h.i]]:h.d=h.as[h.i],++l<9)return f();l=0,r(f);return}c.done(n,c.text)}},typeof window!=""+n&&(window.YSON=e);try{""+n!="object"&&(t.exports=e)}catch{}typeof JSON!=""+n&&(JSON.parseAsync=e.parseAsync,JSON.stringifyAsync=e.stringifyAsync)})()}(fa)),fa.exports}var pa,ma;function Qp(){return ma||(ma=1,pa=function(t){var e=lo();t.find("a",function(){var n=[];e.map(t.list,function(s,o){o.indexOf("%1B")+1&&s&&n.push([o,s])}),n.length&&console.log(`
! ! ! WARNING ! ! !
RAD v0.2020.x has detected OLD v0.2019.x data & automatically migrating. Automatic migration will be turned OFF in future versions! If you are just developing/testing, we recommend you reset your data. Please contact us if you have any concerns.
This message should only log once.`);var r,i;n.forEach(function(s){r=s[0],i=s[1],t.list(decodeURIComponent(r),i),t.list(r,0)}),r&&t.find.bad(r)})}),pa}var ga;function Yh(){return ga||(ga=1,function(){function t(r){r=r||{},r.log=r.log||console.log,r.file=String(r.file||"radata");var i=(t.has||(t.has={}))[r.file];if(i)return i;r.max=r.max||(r.memory?r.memory*999*999:3e8)*.3,r.until=r.until||r.wait||250,r.batch=r.batch||10*1e3,r.chunk=r.chunk||1024*1024*1,r.code=r.code||{},r.code.from=r.code.from||"!",r.jsonify=!0;function s(g){return encodeURIComponent(g).replace(/\*/g,"%2A")}function o(g){return m!==g&&(!g||typeof g!="object")}var a=""+m==typeof setImmediate?setTimeout:setImmediate,u=setTimeout.turn||a,m,c=n.object,l=0;if(!r.store)return r.log("ERROR: Radisk needs `opt.store` interface with `{get: fn, put: fn (, list: fn)}`!");if(!r.store.put)return r.log("ERROR: Radisk needs `store.put` interface with `(file, data, cb)`!");if(!r.store.get)return r.log("ERROR: Radisk needs `store.get` interface with `(file, cb)`!");r.store.list,""+m!=typeof co&&Xp();var f=JSON.parseAsync||function(g,y,_){var b;try{y(b,JSON.parse(g,_))}catch(w){y(w)}},h=function(g,y,_,b,w){if(typeof y=="function"){var v=_||{};_=y,h.read(g,_,v,w||b);return}h.save(g,y,_,b,w)};h.save=function(g,y,_,b,w){var v={key:g},A,E;v.find=function(D){var I;if(v.file=D||(D=r.code.from),w&&(w=w[D]=w[D]||{}),w&&(w.sf=w.sf||+new Date),I=h.disk[D]){v.mix(m,I);return}h.parse(D,v.mix,m,w)},v.mix=function(D,I){if(w&&(w.sml=+new Date),w&&(w.sm=w.sm||+new Date),v.err=D||v.err){_(D);return}var P=v.file=(I||"").file||v.file,L;if(!I&&P!==r.code.from){h.find.bad(P),h.save(g,y,_,b);return}if((I=h.disk[P]||(h.disk[P]=I||n())).file||(I.file=P),r.compare&&(y=r.compare(I(g),y,g,P),m===y)){_(D,-1);return}if((v.disk=I)(g,y),b&&((L=(L=I.tags||(I.tags={}))[b]||(L[b]=h.tags[b]||(h.tags[b]={})))[P]||(L[P]=h.one[b]||(h.one[b]=_)),_=null),w&&(w.st=w.st||+new Date),I.Q){_&&I.Q.push(_);return}I.Q=_?[_]:[],I.to=setTimeout(v.write,r.until)},v.write=function(){w&&(w.sto=w.sto||+new Date);var D=A=v.file,I=v.disk;E=v.q=I.Q,v.tags=I.tags,delete I.Q,delete h.disk[D],delete I.tags,h.write(D,I,v.ack,m,w)},v.ack=function(D,I){w&&(w.sa=w.sa||+new Date),w&&(w.sal=E.length);var P,L;for(var C in h.tags)if(h.tags.hasOwnProperty(C)){var k=h.tags[C];if(!((L=h.disk[A])&&(L=L.tags)&&L[k])){P=k[A],delete k[A];var x;for(var F in k)if(k.hasOwnProperty(F)){x=!0;break}x||(delete h.tags[k],P&&P(D,I))}}!E&&(E="");for(var S=E.length,T=0,R=+new Date;T<S;T++)(P=E[T])&&P(D,I);console.STAT&&console.STAT(R,+new Date-R,"rad acks",s(v.file)),console.STAT&&console.STAT(R,E.length,"rad acks #",s(v.file))},_||(_=function(D,I){}),h.find(g,v.find)},h.disk={},h.one={},h.tags={};var d=0;h.write=function(g,y,_,b,w){if(!y){_("No radix!");return}b=typeof b=="object"?b:{force:b};var v=function(){},A,E;if(v.text="",v.file=g=y.file||(y.file=g),!g){_("What file?");return}if(v.write=function(){var D=y.raw=v.text;h.disk[g=y.file||v.file||g]=y;var I=+new Date;w&&(w.wd=I),h.find.add(g,function(P){if(w&&(w.wa=+new Date),P){_(P);return}r.store.put(s(g),D,function(L,C){w&&(w.wp=+new Date),console.STAT&&console.STAT(I,l=+new Date-I,"wrote disk",JSON.stringify(g),++d,"total all writes."),_(L,C||1),y.Q||delete h.disk[g]})})},v.split=function(){var D=+new Date;w&&(w.wf=D),v.text="",v.count||(v.count=0,n.map(y,function(){v.count++})),w&&(w.wfc=v.count),v.limit=Math.ceil(v.count/2);var I=v.count;return v.count=0,w&&(w.wf1=+new Date),v.sub=n(),n.map(y,v.slice,{reverse:1}),w&&(w.wf2=+new Date),h.write(v.end,v.sub,v.both,b),w&&(w.wf3=+new Date),v.hub=n(),n.map(y,v.stop),w&&(w.wf4=+new Date),h.write(y.file,v.hub,v.both,b),w&&(w.wf5=+new Date),console.STAT&&console.STAT(D,+new Date-D,"rad split",s(y.file),I),!0},v.slice=function(D,I){if(v.sub(v.end=I,D),v.limit<=++v.count)return!0},v.stop=function(D,I){if(I>=v.end)return!0;v.hub(I,D)},v.both=function(D,I){if(w&&(w.wfd=+new Date),E){_(D||E);return}if(A){_(D,I);return}A=!0,E=D},v.each=function(D,I,P,L){if(m!==D&&v.count++,r.max<=(D||"").length)return _("Data too big!"),!0;var C=t.encode(L.length)+"#"+t.encode(P)+(m===D?"":":"+t.encode(D))+`
`;if(r.chunk<v.text.length+C.length&&1<v.count&&!b.force)return v.split();v.text+=C},r.jsonify){h.write.jsonify(v,y,_,b,w);return}n.map(y,v.each,!0)||v.write()},h.write.jsonify=function(g,y,_,b,w){var v,A=+new Date;w&&(w.w=A);try{v=JSON.stringify(y.$)}catch{_("Cannot radisk!");return}if(w&&(w.ws=+new Date),console.STAT&&console.STAT(A,+new Date-A,"rad stringified JSON"),r.chunk<v.length&&!b.force){var E=0;if(n.map(y,function(){if(E++)return!0}),E>1)return g.split()}g.text=v,g.write()},h.range=function(g,y){if(!(!g||!y)){if(m===y.start&&m===y.end||o(g))return g;var _=n();return n.map(g,function(b,w){_(w,b)},y),_("")}},function(){h.read=function(g,y,_,b){_=_||{};var w={key:g};w.find=function(v){var A;if(w.file=v||(v=r.code.from),b&&(b=b[v]=b[v]||{}),b&&(b.rf=b.rf||+new Date),A=h.disk[w.file=v]){w.check(m,A);return}h.parse(v,w.check,m,b)},w.get=function(v,A,E){if(b&&(b.rgl=+new Date),b&&(b.rg=b.rg||+new Date),w.err=v||w.err){y(v);return}var D=w.file=(A||"").file||w.file;if(!A&&D!==r.code.from){h.find.bad(D),h.read(g,y,_);return}if(A=h.disk[D]||(h.disk[D]=A),!A){y(D===r.code.from?m:"No file!");return}A.file||(A.file=D);var I=h.range(A(g),_);if(b&&(b.rr=+new Date),_.unit=A.unit,_.chunks=(_.chunks||0)+1,_.parsed=(_.parsed||0)+((E||"").parsed||_.chunks*r.chunk),_.more=1,_.next=m,n.map(h.list,function(C,k){if(!(!C||D===k))return _.next=k,1},_.reverse?{reverse:1,end:D}:{start:D}),b&&(b.rl=+new Date),_.next||(_.more=0),_.next&&(!_.reverse&&(g<_.next&&_.next.indexOf(g)!=0||m!==_.end&&(_.end||"￿")<_.next)&&(_.more=0),_.reverse&&(g>_.next&&g.indexOf(_.next)!=0||m!==_.start&&(_.start||"")>_.next&&D<=_.start)&&(_.more=0)),!_.more){y(w.err,I,_);return}if(I&&y(w.err,I,_),!(_.parsed>=_.limit)){var P=+new Date;b&&(b.rm=P);var L=_.next;a(function(){console.STAT&&console.STAT(P,+new Date-P,"rad more"),h.parse(L,w.check)},0)}},w.check=function(v,A,E){if(w.get(v,A,E),!(!A||A.check)){A.check=1;var D=+new Date;(E||(E={})).file||(E.file=w.file),n.map(A,function(I,P){h.find(P,function(L){if((L||(L=r.code.from))!==E.file){var C=(""+Math.random()).slice(-3);u(function(){h.save(P,I,function k(x,F){if(x){h.save(P,I,k);return}console.STAT&&console.STAT("MISLOCATED DATA CORRECTED",C,s(P),s(E.file),s(L))})},0)}})}),console.STAT&&console.STAT(D,+new Date-D,"rad check")}},h.find(g||(_.reverse?_.end||"":_.start||""),w.find)}}(),function(){var g=0,y={},_="";h.parse=function(b,w,v,A){var E;if(!b)return w();if(E=y[b]){E.push(w);return}E=y[b]=[w];var D=function(){},I={file:b};(D.disk=n()).file=b,D.read=function(L,C){if(A&&(A.rpg=+new Date),console.STAT&&console.STAT(P,+new Date-P,"read disk",JSON.stringify(b),++g,"total all parses."),(D.err=L)||(D.not=!C)){delete y[b],D.map(E,D.ack);return}if(typeof C!="string"){try{r.max<=C.length?D.err="Chunk too big!":C=C.toString()}catch(k){D.err=k}if(D.err){delete y[b],D.map(E,D.ack);return}}if(I.parsed=C.length,A&&(A.rpl=I.parsed),A&&(A.rpa=E.length),P=+new Date,!(r.jsonify||C[0]==="{")){D.radec(L,C);return}f(C,function(k,x){if(!k){delete y[b],D.disk.$=x,console.STAT&&(l=+new Date-P)>9&&console.STAT(P,l,"rad parsed JSON"),A&&(A.rpd=+new Date),D.map(E,D.ack);return}if(C[0]==="{"){delete y[b],D.err="JSON error!",D.map(E,D.ack);return}D.radec(k,C)})},D.map=function(){if(!(!E||!E.length)){for(var L=+new Date,C=D.err,k=D.not?m:D.disk,x=0,F;x<9&&(F=E[x++]);)F(C,k,I);console.STAT&&console.STAT(L,+new Date-L,"rad packs",s(b)),console.STAT&&console.STAT(L,x,"rad packs #",s(b)),(E=E.slice(x)).length&&u(D.map,0)}},D.ack=function(L){if(L){if(D.err||D.not){L(D.err,m,I);return}L(m,D.disk,I)}},D.radec=function(L,C){delete y[b],P=+new Date;var k=D.split(C),x=[],F,S,T;if(!k||k[1]!==0){D.err="File '"+b+"' does not have root radix! ",D.map(E,D.ack);return}for(;k;)S=T=m,F=k[1],k=D.split(k[2])||"",k[0]=="#"&&(S=k[1],x=x.slice(0,F),F<=x.length&&x.push(S)),k=D.split(k[2])||"",k[0]!=`
`&&((k[0]=="="||k[0]==":")&&(T=k[1]),m!==S&&m!==T&&D.disk(x.join(""),T),k=D.split(k[2]));console.STAT&&console.STAT(P,+new Date-P,"parsed RAD"),D.map(E,D.ack)},D.split=function(L){if(L){var C=[],k={},x=-1,F="";if(x=L.indexOf(_),!!L[x])return F=L.slice(0,x),C[0]=F,C[1]=t.decode(L.slice(x),k),C[2]=L.slice(x+k.i),C}},h.disk&&(v||(v=(h.disk[b]||"").raw));var P=+new Date;if(A&&(A.rp=P),v)return u(function(){D.read(m,v)},0);r.store.get(s(b),D.read)}}(),function(){var g,y="",_;h.find=function(v,A){if(!g){if(_){_.push([v,A]);return}_=[[v,A]],h.parse(y,b);return}n.map(h.list=g,function(E,D){if(E)return A(D)||!0},{reverse:1,end:v})||A(r.code.from)},h.find.add=function(v,A){var E=g(v);if(E||v===y){A(m,1);return}g(v,1),A.found=(A.found||0)+1,h.write(y,g,function(D,I){if(D){A(D);return}A.found=(A.found||0)-1,A.found===0&&A(m,1)},!0)},h.find.bad=function(v,A){g(v,0),h.write(y,g,A||p)};function b(v,A){if(v){r.log("list",v),setTimeout(function(){h.parse(y,b)},1e3);return}if(A){w(A);return}if(g=g||A||n(),!r.store.list){w(g);return}r.store.list(function(E){if(!E){w(g);return}h.find.add(E,p)})}function w(v,A){g=g||v,g.file=y,A=_,_=null,c(A,function(E){h.find(E[0],E[1])})}}();try{!e.window&&Qp()(h)}catch{}var p=function(){},m;return t.has[r.file]=h,h}if(function(){var r="";t.encode=function(i,s,o){o=o||r;var a=o,u;if(typeof i=="string"){for(var c=i.indexOf(o);c!=-1;)a+=o,c=i.indexOf(o,c+1);return a+'"'+i+o}else{if(i&&i["#"]&&Object.keys(i).length==1)return a+"#"+u+a;if(typeof i=="number")return a+"+"+(i||0)+a;if(i===null)return a+" "+a;if(i===!0)return a+"+"+a;if(i===!1)return a+"-"+a}},t.decode=function(i,s,o){o=o||r;var a="",u=-1,c=0,l,f;if(o===i[0]){for(;o===i[++u];)++c;for(f=i[l=c]||!0;--c>=0;)u=i.indexOf(o,u+1);if(u==-1&&(u=i.length),a=i.slice(l+1,u),s&&(s.i=u+1),f==='"')return a;if(f==="#")return{"#":a};if(f==="+")return a.length===0?!0:parseFloat(a);if(f===" ")return null;if(f==="-")return!1}}}(),typeof window<"u"){var e=window.Gun,n=window.Radix;window.Radisk=t}else{var e=Jn(),n=lo();try{ha.exports=t}catch{}}t.Radix=n}()),ha.exports}Yh();var ba={},_a;function em(){if(_a)return ba;_a=1;var t=typeof window<"u"?window.Gun:Jn();return t.on("create",function(e){t.TESTING&&(e.opt.file="radatatest"),this.to.next(e);var n=e.opt,r;if(!(n.rad===!1||n.radisk===!1)&&!(r+""!=typeof process&&""+(Kp||"").RAD=="false")){var i=t.window&&t.window.Radisk||Yh(),s=i.Radix,o=i(n),a="\x1B",u=0;e.on("put",function(l){if(this.to.next(l),!(l._||"").rad){var f=l["#"],h=l.put,d=h["#"],p=h["."],m=h[":"],g=h[">"],y=(l._||"").DBG;y&&(y.sp=y.sp||+new Date);var _=(l._||"").RPS||((l._||"").RPS=+new Date);o(d+a+p,{":":m,">":g},function(b,w){if(y&&(y.spd=y.spd||+new Date),console.STAT&&console.STAT(_,+new Date-_,"put"),b){e.on("in",{"@":f,err:b,DBG:y});return}e.on("in",{"@":f,ok:w,DBG:y})},!1,y&&(y.r=y.r||{})),y&&(y.sps=y.sps||+new Date)}}),e.on("get",function(l){this.to.next(l);var f=l._||"",h=f.DBG=l.DBG;h&&(h.sg=+new Date);var d=l["#"],p=l.get,m=l.get["#"],g=l.get["."]||"",y={},_,b,w,v;if(typeof m=="string"?b=m:m&&(r!==(w=m["*"])&&(y.limit=v=1),r!==m[">"]&&(y.start=m[">"]),r!==m["<"]&&(y.end=m["<"]),b=v?""+w:w||m["="],v=null),b&&!y.limit&&(typeof g=="string"?b=b+a+(y.atom=g):g&&(r!==g[">"]&&(y.start=g[">"],y.limit=1),r!==g["<"]&&(y.end=g["<"],y.limit=1),r!==(w=g["*"])&&(y.limit=v=1),b&&(b=b+a+(v?""+(w||""):w||(y.atom=g["="]||""))))),((w=p["%"])||y.limit)&&(y.limit=w<=(y.pack||1e3*100)?w:1),(g["-"]||(m||{})["-"]||p["-"])&&(y.reverse=!0),(w=(e.next||"")[m])&&w.put){if(y.atom){if(w=(w.next||"")[y.atom],w&&w.root&&w.root.graph&&w.root.graph[m]&&w.root.graph[m][y.atom])return}else if(w&&w.rad)return}var A=t.state(),E=+new Date,D=0;h&&(h.sgm=E),o(b||"",function(P,L,C){h&&(h.sgr=+new Date),h&&(h.sgi=C);try{n.store.stats.get.time[c%50]=+new Date-E,++c,n.store.stats.get.count++,P&&(n.store.stats.get.err=P)}catch{}console.STAT&&console.STAT(E,+new Date-E,"got",JSON.stringify(b)),E=+new Date,C=C||"";var k,x;if(C.unit&&L&&r!==(k=L[":"])&&r!==(x=L[">"])){var F=b.split(a),S=F[0],T=F[1];(_=_||{})[S]=t.state.ify(_[S],T,x,k,S),e.$.get(S).get(T)._.rad=A}else L&&(typeof L!="string"&&(y.atom?L=r:s.map(L,I,y)),!_&&L&&I(L,""),!y.atom&&!g&typeof m=="string"&&!y.limit&&!y.more&&(e.$.get(m)._.rad=A));h&&(h.sgp=+new Date),console.STAT&&(u=+new Date-E)>9&&(console.STAT(E,u,"got prep time"),console.STAT(E,D,"got prep #")),D=0,E=+new Date;var R=function(){};R.faith=!0,R.rad=p,e.on("in",{"@":d,put:_,"%":C.more?1:r,err:P||r,_:R,DBG:h}),console.STAT&&(u=+new Date-E)>9&&console.STAT(E,u,"got emit",Object.keys(_||{}).length),_=r},y,h&&(h.r=h.r||{})),h&&(h.sgd=+new Date),console.STAT&&(u=+new Date-E)>9&&console.STAT(E,u,"get call");function I(P,L,C,k){if(D++,!!P){L=(b+L).split(a);var x=L.slice(0,1)[0];if(L=L.slice(-1)[0],y.limit&&y.limit<=y.count)return!0;var F,S,T=x,R=L;if(typeof P!="string"){F=P[":"],S=P[">"],(_=_||{})[T]=t.state.ify(_[T],R,S,F,T),y.count=(y.count||0)+((F||"").length||9);return}y.count=(y.count||0)+P.length;var B=P.lastIndexOf(">"),U=i.decode(P.slice(B+1),null,a);P=i.decode(P.slice(0,B),null,a),(_=_||{})[x]=t.state.ify(_[x],L,U,P,x)}}}),t.valid,(n.store||{}).stats={get:{time:{},count:0},put:{time:{},count:0}};var c=0}}),ba}em();var ya={exports:{}},wa;function tm(){return wa||(wa=1,function(){function t(n){n=n||{},n.file=String(n.file||"radata");var r=t[n.file],i=null,s;if(r)return console.log("Warning: reusing same IndexedDB store and options as 1st."),t[n.file];r=t[n.file]=function(){};try{n.indexedDB=n.indexedDB||t.indexedDB||indexedDB}catch{}try{if(!n.indexedDB||location.protocol=="file:"){var o=r.d||(r.d={});return r.put=function(a,u,c){o[a]=u,setTimeout(function(){c(null,1)},250)},r.get=function(a,u){setTimeout(function(){u(null,o[a]||s)},5)},console.log("Warning: No indexedDB exists to persist data to!"),r}}catch{}return r.start=function(){var a=indexedDB.open(n.file,1);a.onupgradeneeded=function(u){u.target.result.createObjectStore(n.file)},a.onsuccess=function(){i=a.result},a.onerror=function(u){console.log(u||1)}},r.start(),r.put=function(a,u,c){if(!i){setTimeout(function(){r.put(a,u,c)},1);return}var l=i.transaction([n.file],"readwrite"),f=l.objectStore(n.file),h=f.put(u,""+a);h.onsuccess=f.onsuccess=l.onsuccess=function(){c(null,1)},h.onabort=f.onabort=l.onabort=function(d){c(d||"put.tx.abort")},h.onerror=f.onerror=l.onerror=function(d){c(d||"put.tx.error")}},r.get=function(a,u){if(!i){setTimeout(function(){r.get(a,u)},9);return}var c=i.transaction([n.file],"readonly"),l=c.objectStore(n.file),f=l.get(""+a);f.onsuccess=function(){u(null,f.result)},f.onabort=function(h){u(h||4)},f.onerror=function(h){u(h||5)}},setInterval(function(){i&&i.close(),i=null,r.start()},1e3*15),r}if(typeof window<"u")(t.window=window).RindexedDB=t,t.indexedDB=window.indexedDB;else try{ya.exports=t}catch{}try{var e=t.window.Gun||Jn();e.on("create",function(n){this.to.next(n),n.opt.store=n.opt.store||t(n.opt)})}catch{}}()),ya.exports}tm();var nm={},va;function rm(){return va||(va=1,function(){var t=typeof window<"u"?window.Gun:Jn();t.on("opt",function(e){this.to.next(e);var n=e.opt;if(e.once||!t.Mesh||n.RTCPeerConnection===!1)return;var r;typeof window<"u"&&(r=window),typeof fr<"u"&&(r=fr),r=r||{};var i=n.RTCPeerConnection||r.RTCPeerConnection||r.webkitRTCPeerConnection||r.mozRTCPeerConnection,s=n.RTCSessionDescription||r.RTCSessionDescription||r.webkitRTCSessionDescription||r.mozRTCSessionDescription,o=n.RTCIceCandidate||r.RTCIceCandidate||r.webkitRTCIceCandidate||r.mozRTCIceCandidate;if(!i||!s||!o)return;n.RTCPeerConnection=i,n.RTCSessionDescription=s,n.RTCIceCandidate=o,n.rtc=n.rtc||{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun.sipgate.net:3478"}]},n.rtc.dataChannel=n.rtc.dataChannel||{ordered:!1,maxRetransmits:2},n.rtc.sdp=n.rtc.sdp||{mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},n.rtc.max=n.rtc.max||55,n.rtc.room=n.rtc.room||t.window&&(location.hash.slice(1)||location.pathname.slice(1)),n.announce=function(c){n.rtc.start=+new Date,e.$.get("/RTC/"+n.rtc.room+"<?99").get("+").put(n.pid,function(l){!l.ok||!l.ok.rtc||u(l)},{acks:n.rtc.max}).on(function(l,f,h){l===n.pid||n.rtc.start>h.put[">"]||u({"#":""+h["#"],ok:{rtc:{id:l}}})})};var a=n.mesh=n.mesh||t.Mesh(e);e.on("create",function(c){this.to.next(c),setTimeout(n.announce,1)});function u(c){if(this&&this.off&&this.off(),!!c.ok){var l=c.ok.rtc,f,h;if(!(!l||!l.id||l.id===n.pid)){if(h=l.answer)return!(f=n.peers[l.id]||u[l.id])||f.remoteSet?void 0:(h.sdp=h.sdp.replace(/\\r\\n/g,`\r
`),f.setRemoteDescription(f.remoteSet=new n.RTCSessionDescription(h)));if(h=l.candidate)return f=n.peers[l.id]||u[l.id]||u({ok:{rtc:{id:l.id}}}),f.addIceCandidate(new n.RTCIceCandidate(h));if(!u[l.id]){(f=new n.RTCPeerConnection(n.rtc)).id=l.id;var d=f.wire=f.createDataChannel("dc",n.rtc.dataChannel);if(u[l.id]=f,d.to=setTimeout(function(){delete u[l.id]},1e3*60),d.onclose=function(){a.bye(f)},d.onerror=function(p){},d.onopen=function(p){delete u[l.id],a.hi(f)},d.onmessage=function(p){p&&a.hear(p.data||p,f)},f.onicecandidate=function(p){p.candidate&&e.on("out",{"@":c["#"],ok:{rtc:{candidate:p.candidate,id:n.pid}}})},f.ondatachannel=function(p){var m=p.channel;m.onmessage=d.onmessage,m.onopen=d.onopen,m.onclose=d.onclose},h=l.offer){l.offer.sdp=l.offer.sdp.replace(/\\r\\n/g,`\r
`),f.setRemoteDescription(new n.RTCSessionDescription(h)),f.createAnswer(function(p){f.setLocalDescription(p),e.on("out",{"@":c["#"],ok:{rtc:{answer:p,id:n.pid}}})},function(){},n.rtc.sdp);return}return f.createOffer(function(p){f.setLocalDescription(p),e.on("out",{"@":c["#"],"#":e.ask(u),ok:{rtc:{offer:p,id:n.pid}}})},function(){},n.rtc.sdp),f}}}}})}()),nm}rm();var xa={exports:{}},ka;function im(){return ka||(ka=1,function(t){(function(){function e(r,i){return i?co(r):r.slice?e[s(r)]:function(o,a){r(o={exports:{}}),e[s(a)]=o.exports};function s(o){return o.split("/").slice(-1).toString().replace(".js","")}}var n=t;e(function(r){typeof self<"u"&&(r.window=self),typeof window<"u"&&(r.window=window);var i=r.window||r,s,o=i.SEA||{};(o.window=r.window)&&(o.window.SEA=o);try{s+""!=typeof n&&(n.exports=o)}catch{}r.exports=o})(e,"./root"),e(function(r){var i=e("./root");try{i.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch{}})(e,"./https"),e(function(r){var i;if(i+""==typeof btoa){if(i+""==typeof Buffer)try{fr.Buffer=e("buffer",1).Buffer}catch{console.log("Please `npm install buffer` or add it to your package.json !")}fr.btoa=function(s){return Buffer.from(s,"binary").toString("base64")},fr.atob=function(s){return Buffer.from(s,"base64").toString("binary")}}})(e,"./base64"),e(function(r){e("./base64");function i(){}Object.assign(i,{from:Array.from}),i.prototype=Object.create(Array.prototype),i.prototype.toString=function(s,o,a){s=s||"utf8",o=o||0;const u=this.length;if(s==="hex"){const c=new Uint8Array(this);return[...Array((a&&a+1||u)-o).keys()].map(l=>c[l+o].toString(16).padStart(2,"0")).join("")}if(s==="utf8")return Array.from({length:(a||u)-o},(c,l)=>String.fromCharCode(this[l+o])).join("");if(s==="base64")return btoa(this)},r.exports=i})(e,"./array"),e(function(r){e("./base64");var i=e("./array");function s(...o){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),s.from(...o)}s.prototype=Object.create(Array.prototype),Object.assign(s,{from(){if(!Object.keys(arguments).length||arguments[0]==null)throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const o=arguments[0];let a;if(typeof o=="string"){const u=arguments[1]||"utf8";if(u==="hex"){const c=o.match(/([\da-fA-F]{2})/g).map(l=>parseInt(l,16));if(!c||!c.length)throw new TypeError("Invalid first argument for type 'hex'.");a=i.from(c)}else if(u==="utf8"||u==="binary"){const c=o.length,l=new Uint16Array(c);Array.from({length:c},(f,h)=>l[h]=o.charCodeAt(h)),a=i.from(l)}else if(u==="base64"){const c=atob(o),l=c.length,f=new Uint8Array(l);Array.from({length:l},(h,d)=>f[d]=c.charCodeAt(d)),a=i.from(f)}else u==="binary"?a=i.from(o):console.info("SafeBuffer.from unknown encoding: "+u);return a}if(o.byteLength,o.byteLength?o.byteLength:o.length){let u;return o instanceof ArrayBuffer&&(u=new Uint8Array(o)),i.from(u||o)}},alloc(o,a=0){return i.from(new Uint8Array(Array.from({length:o},()=>a)))},allocUnsafe(o){return i.from(new Uint8Array(Array.from({length:o})))},concat(o){if(!Array.isArray(o))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return i.from(o.reduce((a,u)=>a.concat(Array.from(u)),[]))}}),s.prototype.from=s.from,s.prototype.toString=i.prototype.toString,r.exports=s})(e,"./buffer"),e(function(r){const i=e("./root"),s={Buffer:e("./buffer")};var o={},a;if(JSON.parseAsync=JSON.parseAsync||function(c,l,f){var h;try{l(h,JSON.parse(c,f))}catch(d){l(d)}},JSON.stringifyAsync=JSON.stringifyAsync||function(c,l,f,h){var d;try{l(d,JSON.stringify(c,f,h))}catch(p){l(p)}},s.parse=function(c,l){return new Promise(function(f,h){JSON.parseAsync(c,function(d,p){d?h(d):f(p)},l)})},s.stringify=function(c,l,f){return new Promise(function(h,d){JSON.stringifyAsync(c,function(p,m){p?d(p):h(m)},l,f)})},i.window&&(s.crypto=i.window.crypto||i.window.msCrypto,s.subtle=(s.crypto||o).subtle||(s.crypto||o).webkitSubtle,s.TextEncoder=i.window.TextEncoder,s.TextDecoder=i.window.TextDecoder,s.random=c=>s.Buffer.from(s.crypto.getRandomValues(new Uint8Array(s.Buffer.alloc(c))))),!s.TextDecoder){const{TextEncoder:c,TextDecoder:l}=e((a+""==typeof n?".":"")+"./lib/text-encoding",1);s.TextDecoder=l,s.TextEncoder=c}if(!s.crypto)try{var u=e("crypto",1);Object.assign(s,{crypto:u,random:l=>s.Buffer.from(u.randomBytes(l))});const{Crypto:c}=e("@peculiar/webcrypto",1);s.ossl=s.subtle=new c({directory:"ossl"}).subtle}catch{console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}r.exports=s})(e,"./shim"),e(function(r){var i=e("./root"),s=e("./shim"),o={};o.pbkdf2={hash:{name:"SHA-256"},iter:1e5,ks:64},o.ecdsa={pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},o.ecdh={name:"ECDH",namedCurve:"P-256"},o.jwk=function(a,u){a=a.split(".");var c=a[0],l=a[1],f={kty:"EC",crv:"P-256",x:c,y:l,ext:!0};return f.key_ops=u?["sign"]:["verify"],u&&(f.d=u),f},o.keyToJwk=function(a){return{kty:"oct",k:a.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},o.recall={validity:12*60*60,hook:function(a){return a}},o.check=function(a){return typeof a=="string"&&a.slice(0,4)==="SEA{"},o.parse=async function(a){try{var u=typeof a=="string";return u&&a.slice(0,4)==="SEA{"&&(a=a.slice(3)),u?await s.parse(a):a}catch{}return a},i.opt=o,r.exports=o})(e,"./settings"),e(function(r){var i=e("./shim");r.exports=async function(s,o){var a=typeof s=="string"?s:await i.stringify(s),u=await i.subtle.digest({name:o||"SHA-256"},new i.TextEncoder().encode(a));return i.Buffer.from(u)}})(e,"./sha256"),e(function(r){const i=e("./shim"),s=i.subtle,o=i.ossl?i.ossl:s,a=u=>o.digest({name:"SHA-1"},new ArrayBuffer(u));r.exports=a})(e,"./sha1"),e(function(r){var i=e("./root"),s=e("./shim"),o=e("./settings"),a=e("./sha256"),u;i.work=i.work||(async(c,l,f,h)=>{try{var d=(l||{}).epub||l;if(h=h||{},d instanceof Function&&(f=d,d=u),c=typeof c=="string"?c:await s.stringify(c),(h.name||"").toLowerCase().slice(0,3)==="sha"){var p=s.Buffer.from(await a(c,h.name),"binary").toString(h.encode||"base64");if(f)try{f(p)}catch(_){console.log(_)}return p}d=d||s.random(9);var m=await(s.ossl||s.subtle).importKey("raw",new s.TextEncoder().encode(c),{name:h.name||"PBKDF2"},!1,["deriveBits"]),g=await(s.ossl||s.subtle).deriveBits({name:h.name||"PBKDF2",iterations:h.iterations||o.pbkdf2.iter,salt:new s.TextEncoder().encode(h.salt||d),hash:h.hash||o.pbkdf2.hash},m,h.length||o.pbkdf2.ks*8);c=s.random(c.length);var y=s.Buffer.from(g,"binary").toString(h.encode||"base64");if(f)try{f(y)}catch(_){console.log(_)}return y}catch(_){if(console.log(_),i.err=_,i.throw)throw _;f&&f();return}}),r.exports=i.work})(e,"./work"),e(function(r){var i=e("./root"),s=e("./shim");e("./settings"),i.name=i.name||(async(o,a)=>{try{if(o)try{o()}catch(u){console.log(u)}return}catch(u){if(console.log(u),i.err=u,i.throw)throw u;o&&o();return}}),i.pair=i.pair||(async(o,a)=>{try{var u=s.ossl||s.subtle,c=await s.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then(async h=>{var d={};d.priv=(await s.subtle.exportKey("jwk",h.privateKey)).d;var p=await s.subtle.exportKey("jwk",h.publicKey);return d.pub=p.x+"."+p.y,d});try{var l=await u.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then(async h=>{var d={};d.epriv=(await u.exportKey("jwk",h.privateKey)).d;var p=await u.exportKey("jwk",h.publicKey);return d.epub=p.x+"."+p.y,d})}catch(h){if(i.window)throw h;if(h=="Error: ECDH is not a supported algorithm")console.log("Ignoring ECDH...");else throw h}l=l||{};var f={pub:c.pub,priv:c.priv,epub:l.epub,epriv:l.epriv};if(o)try{o(f)}catch(h){console.log(h)}return f}catch(h){if(console.log(h),i.err=h,i.throw)throw h;o&&o();return}}),r.exports=i.pair})(e,"./pair"),e(function(r){var i=e("./root"),s=e("./shim"),o=e("./settings"),a=e("./sha256"),u;i.sign=i.sign||(async(c,l,f,h)=>{try{if(h=h||{},!(l||h).priv){if(!i.I)throw"No signing key.";l=await i.I(null,{what:c,how:"sign",why:h.why})}if(u===c)throw"`undefined` not allowed.";var d=await o.parse(c),p=h.check=h.check||d;if(i.verify&&(i.opt.check(p)||p&&p.s&&p.m)&&u!==await i.verify(p,l)){var w=await o.parse(p);if(h.raw||(w="SEA"+await s.stringify(w)),f)try{f(w)}catch(A){console.log(A)}return w}var m=l.pub,g=l.priv,y=o.jwk(m,g),_=await a(d),b=await(s.ossl||s.subtle).importKey("jwk",y,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then(v=>(s.ossl||s.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},v,new Uint8Array(_))),w={m:d,s:s.Buffer.from(b,"binary").toString(h.encode||"base64")};if(h.raw||(w="SEA"+await s.stringify(w)),f)try{f(w)}catch(v){console.log(v)}return w}catch(v){if(console.log(v),i.err=v,i.throw)throw v;f&&f();return}}),r.exports=i.sign})(e,"./sign"),e(function(r){var i=e("./root"),s=e("./shim"),o=e("./settings"),a=e("./sha256"),u;i.verify=i.verify||(async(f,h,d,p)=>{try{var m=await o.parse(f);if(h===!1){var g=await o.parse(m.m);if(d)try{d(g)}catch(I){console.log(I)}return g}p=p||{};var y=h.pub||h,_=i.opt.slow_leak?await i.opt.slow_leak(y):await(s.ossl||s.subtle).importKey("jwk",o.jwk(y),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),b=await a(m.m),w,v,A,E;try{if(w=s.Buffer.from(m.s,p.encode||"base64"),v=new Uint8Array(w),A=await(s.ossl||s.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},_,v,new Uint8Array(b)),!A)throw"Signature did not match."}catch{if(i.opt.fallback)return await i.opt.fall_verify(f,h,d,p)}var D=A?await o.parse(m.m):u;if(d)try{d(D)}catch(I){console.log(I)}return D}catch(I){if(console.log(I),i.err=I,i.throw)throw I;d&&d();return}}),r.exports=i.verify;var c={};i.opt.slow_leak=f=>{if(c[f])return c[f];var h=o.jwk(f);return c[f]=(s.ossl||s.subtle).importKey("jwk",h,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),c[f]};var l=i.opt;i.opt.fall_verify=async function(f,h,d,p,m){if(m===i.opt.fallback)throw"Signature did not match";m=m||1;var g=f||"";f=i.opt.unpack(f)||f;var y=await o.parse(f),_=h.pub||h,b=await i.opt.slow_leak(_),w=m<=i.opt.fallback?s.Buffer.from(await s.subtle.digest({name:"SHA-256"},new s.TextEncoder().encode(await o.parse(y.m)))):await a(y.m),v,A,E;try{if(v=s.Buffer.from(y.s,p.encode||"base64"),A=new Uint8Array(v),E=await(s.ossl||s.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},b,A,new Uint8Array(w)),!E)throw"Signature did not match."}catch{try{v=s.Buffer.from(y.s,"utf8"),A=new Uint8Array(v),E=await(s.ossl||s.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},b,A,new Uint8Array(w))}catch{if(!E)throw"Signature did not match."}}var D=E?await o.parse(y.m):u;if(l.fall_soul=g["#"],l.fall_key=g["."],l.fall_val=f,l.fall_state=g[">"],d)try{d(D)}catch(I){console.log(I)}return D},i.opt.fallback=2})(e,"./verify"),e(function(r){var i=e("./shim"),s=e("./settings"),o=e("./sha256");const a=async(u,c,l)=>{const f=u+(c||i.random(8)).toString("utf8"),h=i.Buffer.from(await o(f),"binary"),d=s.keyToJwk(h);return await i.subtle.importKey("jwk",d,{name:"AES-GCM"},!1,["encrypt","decrypt"])};r.exports=a})(e,"./aeskey"),e(function(r){var i=e("./root"),s=e("./shim");e("./settings");var o=e("./aeskey"),a;i.encrypt=i.encrypt||(async(u,c,l,f)=>{try{f=f||{};var h=(c||f).epriv||c;if(a===u)throw"`undefined` not allowed.";if(!h){if(!i.I)throw"No encryption key.";c=await i.I(null,{what:u,how:"encrypt",why:f.why}),h=c.epriv||c}var d=typeof u=="string"?u:await s.stringify(u),p={s:s.random(9),iv:s.random(15)},m=await o(h,p.s,f).then(y=>s.subtle.encrypt({name:f.name||"AES-GCM",iv:new Uint8Array(p.iv)},y,new s.TextEncoder().encode(d))),g={ct:s.Buffer.from(m,"binary").toString(f.encode||"base64"),iv:p.iv.toString(f.encode||"base64"),s:p.s.toString(f.encode||"base64")};if(f.raw||(g="SEA"+await s.stringify(g)),l)try{l(g)}catch(y){console.log(y)}return g}catch(y){if(console.log(y),i.err=y,i.throw)throw y;l&&l();return}}),r.exports=i.encrypt})(e,"./encrypt"),e(function(r){var i=e("./root"),s=e("./shim"),o=e("./settings"),a=e("./aeskey");i.decrypt=i.decrypt||(async(u,c,l,f)=>{try{f=f||{};var h=(c||f).epriv||c;if(!h){if(!i.I)throw"No decryption key.";c=await i.I(null,{what:u,how:"decrypt",why:f.why}),h=c.epriv||c}var d=await o.parse(u),p,m,g;try{p=s.Buffer.from(d.s,f.encode||"base64"),m=s.Buffer.from(d.iv,f.encode||"base64"),g=s.Buffer.from(d.ct,f.encode||"base64");var y=await a(h,p,f).then(b=>s.subtle.decrypt({name:f.name||"AES-GCM",iv:new Uint8Array(m),tagLength:128},b,new Uint8Array(g)))}catch{if(f.encode==="utf8")throw"Could not decrypt";if(i.opt.fallback)return f.encode="utf8",await i.decrypt(u,c,l,f)}var _=await o.parse(new s.TextDecoder("utf8").decode(y));if(l)try{l(_)}catch(b){console.log(b)}return _}catch(b){if(console.log(b),i.err=b,i.throw)throw b;l&&l();return}}),r.exports=i.decrypt})(e,"./decrypt"),e(function(r){var i=e("./root"),s=e("./shim");e("./settings"),i.secret=i.secret||(async(a,u,c,l)=>{try{if(l=l||{},!u||!u.epriv||!u.epub){if(!i.I)throw"No secret mix.";u=await i.I(null,{what:a,how:"secret",why:l.why})}var f=a.epub||a,h=u.epub,d=u.epriv,p=s.ossl||s.subtle,m=o(f),g=Object.assign({public:await p.importKey(...m,!0,[])},{name:"ECDH",namedCurve:"P-256"}),y=o(h,d),_=await p.importKey(...y,!1,["deriveBits"]).then(async w=>{var v=await p.deriveBits(g,w,256),A=new Uint8Array(v),E=await p.importKey("raw",A,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return p.exportKey("jwk",E).then(({k:D})=>D)}),b=_;if(c)try{c(b)}catch(w){console.log(w)}return b}catch(w){if(console.log(w),i.err=w,i.throw)throw w;c&&c();return}});var o=(a,u)=>{var[c,l]=a.split("."),f=u?{d:u}:{};return["jwk",Object.assign(f,{x:c,y:l,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};r.exports=i.secret})(e,"./secret"),e(function(r){var i=e("./root");i.certify=i.certify||(async(s,o={},a,u,c={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),s=(()=>{var _=[];if(s){if((typeof s=="string"||Array.isArray(s))&&s.indexOf("*")>-1)return"*";if(typeof s=="string")return s;if(Array.isArray(s)){if(s.length===1&&s[0])return typeof s[0]=="object"&&s[0].pub?s[0].pub:typeof s[0]=="string"?s[0]:null;s.map(b=>{typeof b=="string"?_.push(b):typeof b=="object"&&b.pub&&_.push(b.pub)})}return typeof s=="object"&&s.pub?s.pub:_.length>0?_:null}})(),!s)return console.log("No certificant found.");const f=c.expiry&&(typeof c.expiry=="number"||typeof c.expiry=="string")?parseFloat(c.expiry):null,h=(o||{}).read?o.read:null,d=(o||{}).write?o.write:typeof o=="string"||Array.isArray(o)||o["+"]||o["#"]||o["."]||o["="]||o["*"]||o[">"]||o["<"]?o:null,p=(c||{}).block||(c||{}).blacklist||(c||{}).ban||{},m=p.read&&(typeof p.read=="string"||(p.read||{})["#"])?p.read:null,g=typeof p=="string"?p:p.write&&(typeof p.write=="string"||p.write["#"])?p.write:null;if(!h&&!d)return console.log("No policy found.");const y=JSON.stringify({c:s,...f?{e:f}:{},...h?{r:h}:{},...d?{w:d}:{},...m?{rb:m}:{},...g?{wb:g}:{}});var l=await i.sign(y,a,null,{raw:1});if(c.raw||(l="SEA"+JSON.stringify(l)),u)try{u(l)}catch(_){console.log(_)}return l}catch(f){if(i.err=f,i.throw)throw f;u&&u();return}}),r.exports=i.certify})(e,"./certify"),e(function(r){var i=e("./shim"),s=e("./root");s.work=e("./work"),s.sign=e("./sign"),s.verify=e("./verify"),s.encrypt=e("./encrypt"),s.decrypt=e("./decrypt"),s.certify=e("./certify"),s.random=s.random||i.random,s.Buffer=s.Buffer||e("./buffer"),s.keyid=s.keyid||(async o=>{try{const a=i.Buffer.concat(o.replace(/-/g,"+").replace(/_/g,"/").split(".").map(f=>i.Buffer.from(f,"base64"))),u=i.Buffer.concat([i.Buffer.from([153,a.length/256,a.length%256]),a]),c=await sha1hash(u),l=i.Buffer.from(c,"binary");return l.toString("hex",l.length-8)}catch(a){throw console.log(a),a}}),((s.window||{}).GUN||{}).SEA=s,r.exports=s})(e,"./sea"),e(function(r){var i=e("./sea"),s,o;i.window?s=i.window.GUN||{chain:{}}:s=e((o+""==typeof n?".":"")+"./gun",1),i.GUN=s;function a(c){this._={$:this}}a.prototype=function(){function c(){}return c.prototype=s.chain,new c}(),a.prototype.constructor=a,s.chain.user=function(c){var l=this,h=l.back(-1),f;if(c)return c=i.opt.pub((c._||"")["#"])||c,h.get("~"+c);if(f=h.back("user"))return f;var h=h._,d=h,p=d.opt.uuid||u;return(d=(f=d.user=l.chain(new a))._).opt={},d.opt.uuid=function(m){var g=p(),y=h.user;return!y||!(y=y.is)||!(y=y.pub)||(g="~"+y+"/"+g,m&&m.call&&m(null,g)),g},f};function u(){return s.state().toString(36).replace(".","")}s.User=a,a.GUN=s,a.SEA=s.SEA=i,r.exports=a})(e,"./user"),e(function(r){var i,s=""+i!=typeof GUN?GUN||{chain:{}}:e((""+i==typeof n?".":"")+"./gun",1);s.chain.then=function(o,a){var u=this,c=new Promise(function(l,f){u.once(l,a)});return o?c.then(o):c}})(e,"./then"),e(function(r){var i=e("./user"),s=i.SEA,o=i.GUN,a=function(){};i.prototype.create=function(...u){var c=typeof u[0]=="object"&&(u[0].pub||u[0].epub)?u[0]:typeof u[1]=="object"&&(u[1].pub||u[1].epub)?u[1]:null,l=c&&(c.pub||c.epub)?c.pub:typeof u[0]=="string"?u[0]:null,f=c&&(c.pub||c.epub)?c:l&&typeof u[1]=="string"?u[1]:null,h=u.filter(b=>typeof b=="function")[0]||null,d=u&&u.length>1&&typeof u[u.length-1]=="object"?u[u.length-1]:{},p=this,m=p._,g=p.back(-1);if(h=h||a,d=d||{},d.check!==!1){var y;if(l||(y="No user."),(f||"").length<8&&(y="Password too short!"),y)return h({err:o.log(y)}),p}if(m.ing)return(h||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),p;m.ing=!0;var _={};return _.a=function(b){if(_.pubs=b,b&&!d.already){var w={err:o.log("User already created!")};m.ing=!1,(h||a)(w),p.leave();return}_.salt=String.random(64),s.work(f,_.salt,_.b)},_.b=function(b){_.proof=b,c?_.c(c):s.pair(_.c)},_.c=function(b){var w;_.pair=b||{},(w=m.root.user)&&(w._.sea=b,w.is={pub:b.pub,epub:b.epub,alias:l}),_.data={pub:b.pub},_.d()},_.d=function(){_.data.alias=l,_.e()},_.e=function(){_.data.epub=_.pair.epub,s.encrypt({priv:_.pair.priv,epriv:_.pair.epriv},_.proof,_.f,{raw:1})},_.f=function(b){_.data.auth=JSON.stringify({ek:b,s:_.salt}),_.g(_.data.auth)},_.g=function(b){var w;_.data.auth=_.data.auth||b,g.get(w="~"+_.pair.pub).put(_.data).on(_.h);var v={};v[w]={"#":w},g.get("~@"+l).put(v).get(w).on(_.i)},_.h=function(b,w,v,A){A.off(),_.h.ok=1,_.i()},_.i=function(b,w,v,A){A&&(_.i.ok=1,A.off()),!(!_.h.ok||!_.i.ok)&&(m.ing=!1,h({ok:0,pub:_.pair.pub}),a===h&&(c?p.auth(c):p.auth(l,f)))},g.get("~@"+l).once(_.a),p},i.prototype.leave=function(u,c){var l=this,f=l.back(-1)._.user;if(f&&(delete f.is,delete f._.is,delete f._.sea),s.window)try{var h={};h=s.window.sessionStorage,delete h.recall,delete h.pair}catch{}return l}})(e,"./create"),e(function(r){var i=e("./user"),s=i.SEA,o=i.GUN,a=function(){};i.prototype.auth=function(...c){var l=typeof c[0]=="object"&&(c[0].pub||c[0].epub)?c[0]:typeof c[1]=="object"&&(c[1].pub||c[1].epub)?c[1]:null,f=!l&&typeof c[0]=="string"?c[0]:null,h=(f||l&&!(l.priv&&l.epriv))&&typeof c[1]=="string"?c[1]:null,d=c.filter(v=>typeof v=="function")[0]||null,p=c&&c.length>1&&typeof c[c.length-1]=="object"?c[c.length-1]:{},m=this,g=m._,y=m.back(-1);if(g.ing)return(d||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),m;g.ing=!0;var _={},b,w=9;return _.a=function(v){if(!v)return _.b();if(!v.pub){var A=[];return Object.keys(v).forEach(function(E){E!="_"&&A.push(v[E])}),_.b(A)}if(_.name)return _.f(v);_.c((_.data=v).auth)},_.b=function(v){var A=(_.list=(_.list||[]).concat(v||[])).shift();if(b===A){if(_.name)return _.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer.");if(f&&w--){y.get("~@"+f).once(_.a);return}return _.err("Wrong user or password.")}y.get(A).once(_.a)},_.c=function(v){if(b===v)return _.b();if(typeof v=="string")return _.c(u(v));s.work(h,(_.auth=v).s,_.d,_.enc)},_.d=function(v){s.decrypt(_.auth.ek,v,_.e,_.enc)},_.e=function(v){if(b===v)return _.enc?(_.enc=null,_.b()):(_.enc={encode:"utf8"},_.c(_.auth));_.half=v,_.f(_.data)},_.f=function(v){var A=_.half||{},E=_.data||{};_.g(_.lol={pub:v.pub||E.pub,epub:v.epub||E.epub,priv:v.priv||A.priv,epriv:v.epriv||A.epriv})},_.g=function(v){if(!v||!v.pub||!v.epub)return _.b();_.pair=v;var A=y._.user,E=A._;E.tag;var D=E.opt;E=A._=y.get("~"+v.pub)._,E.opt=D,A.is={pub:v.pub,epub:v.epub,alias:f||v.pub},E.sea=_.pair,g.ing=!1;try{h&&b==(u(g.root.graph["~"+v.pub].auth)||"")[":"]&&(p.shuffle=p.change=h)}catch{}if(p.change?_.z():(d||a)(E),s.window&&(m.back("user")._.opt||p).remember)try{var I={};I=s.window.sessionStorage,I.recall=!0,I.pair=JSON.stringify(v)}catch{}try{y._.tag.auth?y._.on("auth",E):setTimeout(function(){y._.on("auth",E)},1)}catch(P){o.log("Your 'auth' callback crashed with:",P)}},_.h=function(v){if(!v)return _.b();if(f=v.alias,f||(f=v.alias="~"+l.pub),!v.auth)return _.g(l);l=null,_.c((_.data=v).auth)},_.z=function(){_.salt=String.random(64),s.work(p.change,_.salt,_.y)},_.y=function(v){s.encrypt({priv:_.pair.priv,epriv:_.pair.epriv},v,_.x,{raw:1})},_.x=function(v){_.w(JSON.stringify({ek:v,s:_.salt}))},_.w=function(v){if(p.shuffle){console.log("migrate core account from UTF8 & shuffle");var A={};Object.keys(_.data).forEach(function(E){A[E]=_.data[E]}),delete A._,A.auth=v,y.get("~"+_.pair.pub).put(A)}y.get("~"+_.pair.pub).get("auth").put(v,d||a)},_.err=function(v){var A={err:o.log(v||"User cannot be found!")};g.ing=!1,(d||a)(A)},_.plugin=function(v){if(!(_.name=v))return _.err();var A=[v];v[0]!=="~"&&(A[1]="~"+v,A[2]="~@"+v),_.b(A)},l?l.priv&&l.epriv?_.g(l):y.get("~"+l.pub).once(_.h):f?y.get("~@"+f).once(_.a):!f&&!h&&s.name(_.plugin),m};function u(c){if(typeof c!="string")return c;try{c=JSON.parse(c)}catch{c={}}return c}})(e,"./auth"),e(function(r){var i=e("./user"),s=i.SEA;i.GUN,i.prototype.recall=function(o,a){var u=this,c=u.back(-1);if(o=o||{},o&&o.sessionStorage){if(s.window)try{var l={};l=s.window.sessionStorage,l&&(c._.opt.remember=!0,(u.back("user")._.opt||o).remember=!0,(l.recall||l.pair)&&c.user().auth(JSON.parse(l.pair),a))}catch{}return u}return u}})(e,"./recall"),e(function(r){var i=e("./user"),s=i.SEA,o=i.GUN,a=function(){};i.prototype.pair=function(){var u=this,c;try{c=new Proxy({DANGER:"☠"},{get:function(l,f,h){if(!(!u.is||!(u._||"").sea))return u._.sea[f]}})}catch{}return c},i.prototype.delete=async function(u,c,l){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var f=this;f.back(-1);var h=f.back("user");try{h.auth(u,c,function(d){var p=(h.is||{}).pub;h.map().once(function(){this.put(null)}),h.leave(),(l||a)({ok:0})})}catch(d){o.log("User.delete failed! Error:",d)}return f},i.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const u=this.back(-1);try{return await authRecall(u),u._.user._}catch{const c="No session!";throw o.log(c),{err:c}}},i.prototype.trust=async function(u){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),o.is(u)&&u.get("pub").get((c,l)=>{console.log(c,l)}),u.get("trust").get(path).put(theirPubkey)},i.prototype.grant=function(u,c){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var l=this,f=l.back(-1).user(),h=f._.sea,d="";return l.back(function(p){p.is||(d+=p.get||"")}),async function(){var p,m=await f.get("grant").get(h.pub).get(d).then();m=await s.decrypt(m,h),m||(m=s.random(16).toString(),p=await s.encrypt(m,h),f.get("grant").get(h.pub).get(d).put(p));var g=u.get("pub").then(),y=u.get("epub").then();g=await g,y=await y;var _=await s.secret(y,h);p=await s.encrypt(m,_),f.get("grant").get(g).get(d).put(p,c)}(),l},i.prototype.secret=function(u,c){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var l=this,f=l.back(-1).user(),h=f.pair(),d="";return l.back(function(p){p.is||(d+=p.get||"")}),async function(){var p,m=await f.get("trust").get(h.pub).get(d).then();m=await s.decrypt(m,h),m||(m=s.random(16).toString(),p=await s.encrypt(m,h),f.get("trust").get(h.pub).get(d).put(p)),p=await s.encrypt(u,m),l.put(p,c)}(),l},r.exports=i})(e,"./share"),e(function(r){var i=e("./sea"),s=e("./settings"),o,a=(i.window||"").GUN||e((""+o==typeof n?".":"")+"./gun",1);a.on("opt",function(p){p.sea||(p.sea={own:{}},p.on("put",u,p)),this.to.next(p)});function u(p){var m=this,g=m.as,y=p.put,_=y["#"],b=y["."],w=y[":"],v=y[">"],A=p["#"],E;if(!(!_||!b)){if((p._||"").faith&&(g.opt||"").faith&&typeof p._=="function"){i.opt.pack(y,function(I){i.verify(I,!1,function(P){y["="]=i.opt.unpack(P),m.to.next(p)})});return}var D=function(I){g.on("in",{"@":A,err:p.err=I})};if((p._||"").DBG&&((p._||"").DBG.c=+new Date),0<=_.indexOf("<?")&&(E=parseFloat(_.split("<?")[1]||""),E&&v<a.state()-E*1e3)){(E=p._)&&E.stun&&E.stun--;return}if(_==="~@"){u.alias(m,p,w,b,_,g,D);return}if(_.slice(0,2)==="~@"){u.pubs(m,p,w,b,_,g,D);return}if(E=i.opt.pub(_)){u.pub(m,p,w,b,_,g,D,g.user||"",E);return}if(0<=_.indexOf("#")){u.hash(m,p,w,b,_,g,D);return}u.any(m,p,w,b,_,g,D,g.user||"")}}u.hash=function(p,m,g,y,_,b,w){i.work(g,null,function(v){function A(E){let D="";for(let I=0;I<E.length;I++)D+=I-1&1?"":String.fromCharCode(parseInt(E.substring(I-1,I+1),16));return btoa(D)}if(v&&v===y.split("#").slice(-1)[0]||v&&v===A(y.split("#").slice(-1)[0]))return p.to.next(m);w("Data hash not same as hash!")},{name:"SHA-256"})},u.alias=function(p,m,g,y,_,b,w){if(!g)return w("Data must exist!");if("~@"+y===l(g))return p.to.next(m);w("Alias not same!")},u.pubs=function(p,m,g,y,_,b,w){if(!g)return w("Alias must exist!");if(y===l(g))return p.to.next(m);w("Alias not same!")},u.pub=async function(p,m,g,y,_,b,w,v,A){var E;const D=await s.parse(g)||{},I=(P,L,C)=>{if(P.m&&P.s&&L&&A)return i.verify(P,A,k=>{if(o!==k&&o!==k.e&&m.put[">"]&&m.put[">"]>parseFloat(k.e))return w("Certificate expired.");if(o!==k&&k.c&&k.w&&(k.c===L||k.c.indexOf("*")>-1)){let F=_.indexOf("/")>-1?_.replace(_.substring(0,_.indexOf("/")+1),""):"";String.match=String.match||a.text.match;const S=Array.isArray(k.w)?k.w:typeof k.w=="object"||typeof k.w=="string"?[k.w]:[];for(const T of S)if(String.match(F,T["#"])&&String.match(y,T["."])||!T["."]&&String.match(F,T["#"])||!T["#"]&&String.match(y,T["."])||String.match(F?F+"/"+y:y,T["#"]||T)){if(T["+"]&&T["+"].indexOf("*")>-1&&F&&F.indexOf(L)==-1&&y.indexOf(L)==-1)return w(`Path "${F}" or key "${y}" must contain string "${L}".`);if(k.wb&&(typeof k.wb=="string"||(k.wb||{})["#"])){var x=p.as.root.$.back(-1);return typeof k.wb=="string"&&k.wb.slice(0,1)!=="~"&&(x=x.get("~"+A)),x.get(k.wb).get(L).once(R=>R&&(R===1||R===!0)?w(`Certificant ${L} blocked.`):C(k))}return C(k)}return w("Certificate verification fail.")}})};if(y==="pub"&&"~"+A===_)return g===A?p.to.next(m):w("Account not same!");if((E=v.is)&&E.pub&&!D["*"]&&!D["+"]&&(A===E.pub||A!==E.pub&&((m._.msg||{}).opt||{}).cert)){i.opt.pack(m.put,P=>{i.sign(P,v._.sea,async function(L){if(o===L)return w(i.err||"Signature fail.");if(m.put[":"]={":":E=i.opt.unpack(L.m),"~":L.s},m.put["="]=E,A===v.is.pub){(E=l(g))&&((b.sea.own[E]=b.sea.own[E]||{})[A]=1),JSON.stringifyAsync(m.put[":"],function(C,k){return C?w(C||"Stringify error."):(m.put[":"]=k,p.to.next(m))});return}if(A!==v.is.pub&&((m._.msg||{}).opt||{}).cert){const C=await s.parse(m._.msg.opt.cert);C&&C.m&&C.s&&I(C,v.is.pub,k=>{m.put[":"]["+"]=C,m.put[":"]["*"]=v.is.pub,JSON.stringifyAsync(m.put[":"],function(x,F){return x?w(x||"Stringify error."):(m.put[":"]=F,p.to.next(m))})})}},{raw:1})});return}i.opt.pack(m.put,P=>{i.verify(P,D["*"]||A,function(L){var C;if(L=i.opt.unpack(L),o===L)return w("Unverified data.");if((C=l(L))&&A===i.opt.pub(C)&&((b.sea.own[C]=b.sea.own[C]||{})[A]=1),D["+"]&&D["+"].m&&D["+"].s&&D["*"])I(D["+"],D["*"],k=>(m.put["="]=L,p.to.next(m)));else return m.put["="]=L,p.to.next(m)})})},u.any=function(p,m,g,y,_,b,w,v){if(b.opt.secure)return w("Soul missing public key at '"+y+"'.");b.on("secure",function(A){if(this.off(),!b.opt.secure)return p.to.next(A);w("Data cannot be changed.")}).on.on("secure",m)};var c=a.valid,l=function(p,m){return typeof(m=c(p))=="string"&&m};(a.state||"").ify;var f=/[^\w_-]/;i.opt.pub=function(p){if(p&&(p=p.split("~"),!(!p||!(p=p[1]))&&(p=p.split(f).slice(0,2),!(!p||p.length!=2)&&(p[0]||"")[0]!=="@")))return p=p.slice(0,2).join("."),p},i.opt.stringy=function(p){},i.opt.pack=function(p,m,g,y,_){var b,w;if(i.opt.check(p))return m(p);p&&p["#"]&&p["."]&&p[">"]&&(b=p[":"],w=1),JSON.parseAsync(w?b:p,function(v,A){var E=o!==(A||"")[":"]&&(A||"")["~"];if(!E){m(p);return}m({m:{"#":_||p["#"],".":g||p["."],":":(A||"")[":"],">":p[">"]||a.state.is(y,g)},s:E})})};var h=i.opt;i.opt.unpack=function(p,m,g){var y;if(o!==p){if(p&&o!==(y=p[":"]))return y;if(m=m||h.fall_key,!g&&h.fall_val&&(g={},g[m]=h.fall_val),!(!m||!g)){if(p===g[m]||!i.opt.check(g[m]))return p;var _=g&&g._&&g._["#"]||h.fall_soul,b=a.state.is(g,m)||h.fall_state;if(p&&p.length===4&&_===p[0]&&m===p[1]&&d(b)===d(p[3]))return p[2];if(b<i.opt.shuffle_attack)return p}}},i.opt.shuffle_attack=15463296e5;var d=Math.floor})(e,"./index")})()}(xa)),xa.exports}var sm=im();const zn=Jh(sm),om="https://peer.wallie.io/gun",am={space:"Space",chat:"Chat",posts:"Posts",rooms:"Rooms",files:"Files"},um={pub:"McUmKdO7NtwX1vUrZiNvzgnPVPwgqKGV1PNATxIxTuM.iXExKjIByXeVGosHHeUzaJyrcthdc83O9HuX6rYX0gs",hosts:{"TjJboYZipmwZ59ebrbIfL34nh1TJcOUU8-0XYCZjLbk.5ULMwx29866hdlG-3xM-g-m33QtcZopGOzA85mDDiPo":{enc:'SEA{"ct":"169OGBU2H9XKmaZLO+s8Pc5+fSaTrrSB4OVFm33CGh+VwxhEu0x9U7ir8m0LxXbcBEVt6MZ7CEPYtIL12Stwi0LCG6a139JEDSWwUZFxE/b/y6HZtn/V2gr9G4xL/TcdWHF2D+r+bBMHqJMBXKoIofz3DH/eArW8IgAIWm+VBmJYkejZ1w8WW9/1qx3RFVIITXeMB5FI8VzY7y9DGCyIDwMNVSeHDbjenK3oDz2qS48Gem13lHv/behM+vZNug7eL7WaF07sf962p0oX9mF0Y0fMLossIFOT8QPjeV9ZcdkMl4ngc+W2HN+WvxldE5dy2yock/15N77X6VQ5111ITDwJHkhXjp4Ro94NeKujb3yh4H8vXbQOeJPPJyQTZ3G4yF4Nw65PKIghIwdBNdsiRQ1QtjxQvaetaK5j5+0=","iv":"dc92+kgMorDWh4I0ntGb","s":"MV6T397GhmNe"}',profile:'SEA{"m":{"c":"TjJboYZipmwZ59ebrbIfL34nh1TJcOUU8-0XYCZjLbk.5ULMwx29866hdlG-3xM-g-m33QtcZopGOzA85mDDiPo","w":{"*":"profile"}},"s":"j5LkQNRO7KX/PAwK4vvg/SGg2zHp6np2Bq6Ge9RgJrkSBmXPMxRJbsZncBqrlwWYbaUFtb4vcUlzDq9onzVSLA=="}',features:'SEA{"m":{"c":"TjJboYZipmwZ59ebrbIfL34nh1TJcOUU8-0XYCZjLbk.5ULMwx29866hdlG-3xM-g-m33QtcZopGOzA85mDDiPo","w":{"*":"features"}},"s":"lUXJ84tvirAhnSwWgZGg2QfT0S8D7Xe7D0Bbae24pcX6D/GZuiq/lYPFnr+4ym/6bteJgdWV2U+E2q/1AMblsA=="}',hosts:'SEA{"m":{"c":"TjJboYZipmwZ59ebrbIfL34nh1TJcOUU8-0XYCZjLbk.5ULMwx29866hdlG-3xM-g-m33QtcZopGOzA85mDDiPo","w":{"*":"hosts"}},"s":"Aq15hOjPHe2Q73pPa3OasqzflU1b41tmVC7mZwX2GQJujI7VYLR85W4zszeu9oEnLfcRf5bgu0aOngJrvLT9KA=="}'}},features:{space:'SEA{"m":{"c":"*","w":{"*":"space","+":"*"}},"s":"7N0iKUMsr2LMVyu7WWBknTDUZSTJjsz9vFFkUwNpjdhiAWfga/GIL2HJg6YfbAnCcWKdZCi4fQYLPsoR9LILIg=="}',chat:'SEA{"m":{"c":"*","w":{"*":"chat","+":"*"}},"s":"2Nv9jI4I1ixSuGZnLFesGoveoioftd2yjIDOLwCGTmqAoX5KJs9f8REj1lAvYwZqm8jX6v36wew7XOwlBG1/IA=="}',posts:'SEA{"m":{"c":"*","w":{"*":"posts","+":"*"}},"s":"iDKLG8/PkTrhb4uO+aMA5SB6kt/GdOnrnlbEG79OL66v+miHo/Pa1YO+/4yF5f5Y5YSJcskTnoNqi3KW0pFJuA=="}',rooms:'SEA{"m":{"c":"*","w":{"*":"rooms","+":"*"}},"s":"wIwGepdJmjNOZHA4ujL624PLGu+hLRjgkg2vSm5mRCqN208sKWRqEsMrM44TFfVz6p0wNkmQvdH6kb2037zRwg=="}',files:'SEA{"m":{"c":"*","w":{"*":"files","+":"*"}},"s":"rni6jM8eMk9lSDmNtroe4pqknBaXTUGHRR/9tEf2nnyx/v+qO465qk+pJJdeKlul0hanLujtL3TH+AE3e5W03A=="}'}},Nn={relay:om,features:am,room:um},Xh=Nn.relay,Ie=xe({list:[],peer:Dt("peer",Xh),hostname:pe(()=>{var t;return((t=new URL(Ie.peer))==null?void 0:t.hostname)||""}),status:"offline",started:0,pulse:0,lag:0,diff:pe(()=>Ie.pulse-Ie.started),age:pe(()=>Ed(Ie.diff)),delay:pe(()=>Date.now()-Ie.pulse),blink:!1});je(()=>Ie.pulse,(t,e)=>{Ie.blink=!Ie.blink,Ie.lag=t-e-500});function cm(t){Ie.peer=t,setTimeout(()=>{window.location.reload()})}function lm(){Ie.peer=Xh,setTimeout(()=>{window.location.reload()})}function Uy(){const t=Le();return Ie.pulse==0&&(Ie!=null&&Ie.hostname)&&t.get(Ie==null?void 0:Ie.hostname).map().on((e,n)=>{try{Ie[n]=e}catch(r){console.log(r)}}),{relay:Ie,setPeer:cm,resetPeer:lm}}let $i;function Le({localStorage:t=!1,peers:e=[Ie.peer]}={}){return $i||($i=rn({localStorage:t,peers:e})),$i}function Hy({localStorage:t=!1,peers:e=[Ie.peer]}={}){return rn({peers:e,localStorage:t})}var ec;(ec=rn==null?void 0:rn.node)==null||ec.soul;var tc;const qy=(tc=rn==null?void 0:rn.text)==null?void 0:tc.random;var zi,Ea;function hm(){if(Ea)return zi;Ea=1;const t="[a-fA-F\\d:]",e=c=>c&&c.includeBoundaries?`(?:(?<=\\s|^)(?=${t})|(?<=${t})(?=\\s|$))`:"",n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=`
(?:
(?:${r}:){7}(?:${r}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${r}:){6}(?:${n}|:${r}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${r}:){5}(?::${n}|(?::${r}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${r}:){4}(?:(?::${r}){0,1}:${n}|(?::${r}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${r}:){3}(?:(?::${r}){0,2}:${n}|(?::${r}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${r}:){2}(?:(?::${r}){0,3}:${n}|(?::${r}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${r}:){1}(?:(?::${r}){0,4}:${n}|(?::${r}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${r}){0,5}:${n}|(?::${r}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp(`(?:^${n}$)|(?:^${i}$)`),o=new RegExp(`^${n}$`),a=new RegExp(`^${i}$`),u=c=>c&&c.exact?s:new RegExp(`(?:${e(c)}${n}${e(c)})|(?:${e(c)}${i}${e(c)})`,"g");return u.v4=c=>c&&c.exact?o:new RegExp(`${e(c)}${n}${e(c)}`,"g"),u.v6=c=>c&&c.exact?a:new RegExp(`${e(c)}${i}${e(c)}`,"g"),zi=u,zi}const fm=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermögensberater","vermögensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","ελ","ευ","бг","бел","дети","ею","католик","ком","мкд","мон","москва","онлайн","орг","рус","рф","сайт","срб","укр","қаз","հայ","ישראל","קום","ابوظبي","اتصالات","ارامكو","الاردن","البحرين","الجزائر","السعودية","العليان","المغرب","امارات","ایران","بارت","بازار","بيتك","بھارت","تونس","سودان","سورية","شبكة","عراق","عرب","عمان","فلسطين","قطر","كاثوليك","كوم","مصر","مليسيا","موريتانيا","موقع","همراه","پاکستان","ڀارت","कॉम","नेट","भारत","भारतम्","भारोत","संगठन","বাংলা","ভারত","ভাৰত","ਭਾਰਤ","ભારત","ଭାରତ","இந்தியா","இலங்கை","சிங்கப்பூர்","భారత్","ಭಾರತ","ഭാരതം","ලංකා","คอม","ไทย","ລາວ","გე","みんな","アマゾン","クラウド","グーグル","コム","ストア","セール","ファッション","ポイント","世界","中信","中国","中國","中文网","亚马逊","企业","佛山","信息","健康","八卦","公司","公益","台湾","台灣","商城","商店","商标","嘉里","嘉里大酒店","在线","大拿","天主教","娱乐","家電","广东","微博","慈善","我爱你","手机","招聘","政务","政府","新加坡","新闻","时尚","書籍","机构","淡马锡","游戏","澳門","点看","移动","组织机构","网址","网店","网站","网络","联通","诺基亚","谷歌","购物","通販","集团","電訊盈科","飞利浦","食品","餐厅","香格里拉","香港","닷넷","닷컴","삼성","한국"]');var Ui,Aa;function dm(){if(Aa)return Ui;Aa=1;const t=hm(),e=fm;return Ui=n=>{n={strict:!0,...n};const r=`(?:(?:[a-z]+:)?//)${n.strict?"":"?"}`,i="(?:\\S+(?::\\S*)?@)?",s=t.v4().source,o="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",a="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",u=`(?:\\.${n.strict?"(?:[a-z\\u00a1-\\uffff]{2,})":`(?:${e.sort((h,d)=>d.length-h.length).join("|")})`})\\.?`,f=`(?:${r}|www\\.)${i}(?:localhost|${s}|${o}${a}${u})(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return n.exact?new RegExp(`(?:^${f}$)`,"i"):new RegExp(f,"ig")},Ui}var pm=dm();const mm=Kn(pm),As=xe({}),Ss=xe({});function Wy(){return{relays:As,errors:Ss,loadRelays:gm}}async function gm({source:t="https://raw.githubusercontent.com/wiki/amark/gun/volunteer.dht.md"}={}){const r=(await(await fetch(t)).text()).match(mm());return r.push(Ie.peer),Array.from(r).forEach(s=>{let o=new URL(s);if(o.pathname==="/gun"&&o.pathname.indexOf("~~")===-1){let a=performance.now();fetch(o.href,{method:"HEAD",mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"}).then(u=>{let c=performance.now();if(u.ok){const l={host:o.hostname,ping:(c-a).toFixed(),url:o.href};As[o.hostname]=l}else Ss[o.hostname]=u}).catch(u=>{Ss[o.hostname]=u})}}),As}function Vy(t){return typeof t=="string"&&t.length===44&&t.charAt(43)==="="}async function Qh(t){return await zn.work(t,null,null,{name:"SHA-256"})}async function bm(t){let e=typeof t=="string"?t:JSON.stringify(t);return{hash:await Qh(e),hashed:e}}function Gy(t){if(!t)return;const e=/[+=/]/g;return t.replace(e,_m)}function _m(t){switch(t){case"+":return"-";case"=":return".";case"/":return"_"}}async function ym({pair:t,tag:e="word",dot:n="",users:r="*",personal:i=!1}){let s={"*":`${e}`};n&&(s["."]=n),i&&(s["+"]="*");try{return await zn.certify(r,s,t,null)}catch(o){return console.log("cert error: ",o),""}}async function Sa({pair:t,list:e=[]}){const n={};for(let r of e)n[r.tag]=await ym({...r,pair:t});return n}function Ut(t){return Array.isArray?Array.isArray(t):nf(t)==="[object Array]"}function wm(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function vm(t){return t==null?"":wm(t)}function At(t){return typeof t=="string"}function ef(t){return typeof t=="number"}function xm(t){return t===!0||t===!1||km(t)&&nf(t)=="[object Boolean]"}function tf(t){return typeof t=="object"}function km(t){return tf(t)&&t!==null}function nt(t){return t!=null}function Hi(t){return!t.trim().length}function nf(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Em="Incorrect 'index' type",Am=t=>`Invalid value for key ${t}`,Sm=t=>`Pattern length exceeds max of ${t}.`,Cm=t=>`Missing ${t} property in key`,Dm=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ca=Object.prototype.hasOwnProperty;class Tm{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=rf(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function rf(t){let e=null,n=null,r=null,i=1,s=null;if(At(t)||Ut(t))r=t,e=Da(t),n=Cs(t);else{if(!Ca.call(t,"name"))throw new Error(Cm("name"));const o=t.name;if(r=o,Ca.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Dm(o));e=Da(o),n=Cs(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function Da(t){return Ut(t)?t:t.split(".")}function Cs(t){return Ut(t)?t.join("."):t}function Om(t,e){let n=[],r=!1;const i=(s,o,a)=>{if(nt(s))if(!o[a])n.push(s);else{let u=o[a];const c=s[u];if(!nt(c))return;if(a===o.length-1&&(At(c)||ef(c)||xm(c)))n.push(vm(c));else if(Ut(c)){r=!0;for(let l=0,f=c.length;l<f;l+=1)i(c[l],o,a+1)}else o.length&&i(c,o,a+1)}};return i(t,At(e)?e.split("."):e,0),r?n:n[0]}const Fm={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Im={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Pm={location:0,threshold:.6,distance:100},Lm={useExtendedSearch:!1,getFn:Om,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var de={...Im,...Fm,...Pm,...Lm};const Rm=/[^ ]+/g;function Bm(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(Rm).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(s,a),a},clear(){n.clear()}}}class ho{constructor({getFn:e=de.getFn,fieldNormWeight:n=de.fieldNormWeight}={}){this.norm=Bm(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,At(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();At(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!nt(e)||Hi(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(nt(o)){if(Ut(o)){let a=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:c,value:l}=u.pop();if(nt(l))if(At(l)&&!Hi(l)){let f={v:l,i:c,n:this.norm.get(l)};a.push(f)}else Ut(l)&&l.forEach((f,h)=>{u.push({nestedArrIndex:h,value:f})})}r.$[s]=a}else if(At(o)&&!Hi(o)){let a={v:o,n:this.norm.get(o)};r.$[s]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function sf(t,e,{getFn:n=de.getFn,fieldNormWeight:r=de.fieldNormWeight}={}){const i=new ho({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(rf)),i.setSources(e),i.create(),i}function Mm(t,{getFn:e=de.getFn,fieldNormWeight:n=de.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new ho({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function jr(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=de.distance,ignoreLocation:s=de.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(r-n);return i?o+a/i:a?1:o}function Nm(t=[],e=de.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&r===-1?r=s:!a&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}const gn=32;function jm(t,e,n,{location:r=de.location,distance:i=de.distance,threshold:s=de.threshold,findAllMatches:o=de.findAllMatches,minMatchCharLength:a=de.minMatchCharLength,includeMatches:u=de.includeMatches,ignoreLocation:c=de.ignoreLocation}={}){if(e.length>gn)throw new Error(Sm(gn));const l=e.length,f=t.length,h=Math.max(0,Math.min(r,f));let d=s,p=h;const m=a>1||u,g=m?Array(f):[];let y;for(;(y=t.indexOf(e,p))>-1;){let E=jr(e,{currentLocation:y,expectedLocation:h,distance:i,ignoreLocation:c});if(d=Math.min(E,d),p=y+l,m){let D=0;for(;D<l;)g[y+D]=1,D+=1}}p=-1;let _=[],b=1,w=l+f;const v=1<<l-1;for(let E=0;E<l;E+=1){let D=0,I=w;for(;D<I;)jr(e,{errors:E,currentLocation:h+I,expectedLocation:h,distance:i,ignoreLocation:c})<=d?D=I:w=I,I=Math.floor((w-D)/2+D);w=I;let P=Math.max(1,h-I+1),L=o?f:Math.min(h+I,f)+l,C=Array(L+2);C[L+1]=(1<<E)-1;for(let x=L;x>=P;x-=1){let F=x-1,S=n[t.charAt(F)];if(m&&(g[F]=+!!S),C[x]=(C[x+1]<<1|1)&S,E&&(C[x]|=(_[x+1]|_[x])<<1|1|_[x+1]),C[x]&v&&(b=jr(e,{errors:E,currentLocation:F,expectedLocation:h,distance:i,ignoreLocation:c}),b<=d)){if(d=b,p=F,p<=h)break;P=Math.max(1,2*h-p)}}if(jr(e,{errors:E+1,currentLocation:h,expectedLocation:h,distance:i,ignoreLocation:c})>d)break;_=C}const A={isMatch:p>=0,score:Math.max(.001,b)};if(m){const E=Nm(g,a);E.length?u&&(A.indices=E):A.isMatch=!1}return A}function $m(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const ai=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class of{constructor(e,{location:n=de.location,threshold:r=de.threshold,distance:i=de.distance,includeMatches:s=de.includeMatches,findAllMatches:o=de.findAllMatches,minMatchCharLength:a=de.minMatchCharLength,isCaseSensitive:u=de.isCaseSensitive,ignoreDiacritics:c=de.ignoreDiacritics,ignoreLocation:l=de.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:l},e=u?e:e.toLowerCase(),e=c?ai(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(d,p)=>{this.chunks.push({pattern:d,alphabet:$m(d),startIndex:p})},h=this.pattern.length;if(h>gn){let d=0;const p=h%gn,m=h-p;for(;d<m;)f(this.pattern.substr(d,gn),d),d+=gn;if(p){const g=h-gn;f(this.pattern.substr(g),g)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?ai(e):e,this.pattern===e){let m={isMatch:!0,score:0};return i&&(m.indices=[[0,e.length-1]]),m}const{location:s,distance:o,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:l}=this.options;let f=[],h=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:g,startIndex:y})=>{const{isMatch:_,score:b,indices:w}=jm(e,m,g,{location:s+y,distance:o,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:i,ignoreLocation:l});_&&(d=!0),h+=b,_&&w&&(f=[...f,...w])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&i&&(p.indices=f),p}}class un{constructor(e){this.pattern=e}static isMultiMatch(e){return Ta(e,this.multiRegex)}static isSingleMatch(e){return Ta(e,this.singleRegex)}search(){}}function Ta(t,e){const n=t.match(e);return n?n[1]:null}class zm extends un{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Um extends un{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Hm extends un{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class qm extends un{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Wm extends un{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Vm extends un{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class af extends un{constructor(e,{location:n=de.location,threshold:r=de.threshold,distance:i=de.distance,includeMatches:s=de.includeMatches,findAllMatches:o=de.findAllMatches,minMatchCharLength:a=de.minMatchCharLength,isCaseSensitive:u=de.isCaseSensitive,ignoreDiacritics:c=de.ignoreDiacritics,ignoreLocation:l=de.ignoreLocation}={}){super(e),this._bitapSearch=new of(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class uf extends un{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Ds=[zm,uf,Hm,qm,Vm,Wm,Um,af],Oa=Ds.length,Gm=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Zm="|";function Km(t,e={}){return t.split(Zm).map(n=>{let r=n.trim().split(Gm).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=r.length;s<o;s+=1){const a=r[s];let u=!1,c=-1;for(;!u&&++c<Oa;){const l=Ds[c];let f=l.isMultiMatch(a);f&&(i.push(new l(f,e)),u=!0)}if(!u)for(c=-1;++c<Oa;){const l=Ds[c];let f=l.isSingleMatch(a);if(f){i.push(new l(f,e));break}}}return i})}const Jm=new Set([af.type,uf.type]);class Ym{constructor(e,{isCaseSensitive:n=de.isCaseSensitive,ignoreDiacritics:r=de.ignoreDiacritics,includeMatches:i=de.includeMatches,minMatchCharLength:s=de.minMatchCharLength,ignoreLocation:o=de.ignoreLocation,findAllMatches:a=de.findAllMatches,location:u=de.location,threshold:c=de.threshold,distance:l=de.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:u,threshold:c,distance:l},e=n?e:e.toLowerCase(),e=r?ai(e):e,this.pattern=e,this.query=Km(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;e=i?e:e.toLowerCase(),e=s?ai(e):e;let o=0,a=[],u=0;for(let c=0,l=n.length;c<l;c+=1){const f=n[c];a.length=0,o=0;for(let h=0,d=f.length;h<d;h+=1){const p=f[h],{isMatch:m,indices:g,score:y}=p.search(e);if(m){if(o+=1,u+=y,r){const _=p.constructor.type;Jm.has(_)?a=[...a,...g]:a.push(g)}}else{u=0,o=0,a.length=0;break}}if(o){let h={isMatch:!0,score:u/o};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const Ts=[];function Xm(...t){Ts.push(...t)}function Os(t,e){for(let n=0,r=Ts.length;n<r;n+=1){let i=Ts[n];if(i.condition(t,e))return new i(t,e)}return new of(t,e)}const ui={AND:"$and",OR:"$or"},Fs={PATH:"$path",PATTERN:"$val"},Is=t=>!!(t[ui.AND]||t[ui.OR]),Qm=t=>!!t[Fs.PATH],e1=t=>!Ut(t)&&tf(t)&&!Is(t),Fa=t=>({[ui.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function cf(t,e,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const o=Qm(i);if(!o&&s.length>1&&!Is(i))return r(Fa(i));if(e1(i)){const u=o?i[Fs.PATH]:s[0],c=o?i[Fs.PATTERN]:i[u];if(!At(c))throw new Error(Am(u));const l={keyId:Cs(u),pattern:c};return n&&(l.searcher=Os(c,e)),l}let a={children:[],operator:s[0]};return s.forEach(u=>{const c=i[u];Ut(c)&&c.forEach(l=>{a.children.push(r(l))})}),a};return Is(t)||(t=Fa(t)),r(t)}function t1(t,{ignoreFieldNorm:e=de.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:o})=>{const a=i?i.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),n.score=r})}function n1(t,e){const n=t.matches;e.matches=[],nt(n)&&n.forEach(r=>{if(!nt(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let o={indices:i,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function r1(t,e){e.score=t.score}function i1(t,e,{includeMatches:n=de.includeMatches,includeScore:r=de.includeScore}={}){const i=[];return n&&i.push(n1),r&&i.push(r1),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return i.length&&i.forEach(u=>{u(s,a)}),a})}class Cn{constructor(e,n={},r){this.options={...de,...n},this.options.useExtendedSearch,this._keyStore=new Tm(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof ho))throw new Error(Em);this._myIndex=n||sf(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){nt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let u=At(e)?At(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return t1(u,{ignoreFieldNorm:a}),s&&u.sort(o),ef(n)&&n>-1&&(u=u.slice(0,n)),i1(u,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=Os(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:o,n:a})=>{if(!nt(s))return;const{isMatch:u,score:c,indices:l}=n.searchIn(s);u&&i.push({item:s,idx:o,matches:[{score:c,value:s,norm:a,indices:l}]})}),i}_searchLogical(e){const n=cf(e,this.options),r=(a,u,c)=>{if(!a.children){const{keyId:f,searcher:h}=a,d=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:h});return d&&d.length?[{idx:c,item:u,matches:d}]:[]}const l=[];for(let f=0,h=a.children.length;f<h;f+=1){const d=a.children[f],p=r(d,u,c);if(p.length)l.push(...p);else if(a.operator===ui.AND)return[]}return l},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:u})=>{if(nt(a)){let c=r(n,a,u);c.length&&(s[u]||(s[u]={idx:u,item:a,matches:[]},o.push(s[u])),c.forEach(({matches:l})=>{s[u].matches.push(...l)}))}}),o}_searchObjectList(e){const n=Os(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!nt(o))return;let u=[];r.forEach((c,l)=>{u.push(...this._findMatches({key:c,value:o[l],searcher:n}))}),u.length&&s.push({idx:a,item:o,matches:u})}),s}_findMatches({key:e,value:n,searcher:r}){if(!nt(n))return[];let i=[];if(Ut(n))n.forEach(({v:s,i:o,n:a})=>{if(!nt(s))return;const{isMatch:u,score:c,indices:l}=r.searchIn(s);u&&i.push({score:c,key:e,value:s,idx:o,norm:a,indices:l})});else{const{v:s,n:o}=n,{isMatch:a,score:u,indices:c}=r.searchIn(s);a&&i.push({score:u,key:e,value:s,norm:o,indices:c})}return i}}Cn.version="7.1.0";Cn.createIndex=sf;Cn.parseIndex=Mm;Cn.config=de;Cn.parseQuery=cf;Xm(Ym);const tn=xe({word:null,def:null}),Ps=Dt("dict-lang","en");je(tn,()=>{tn.word&&tn.def&&s1(tn)});function Zy(){const t=Le(),e=Pe(""),n=pe(()=>lf(e.value));async function r(){const u=await Qh(n.value);t.get("dict").get("#word").get(u).put(n.value),tn.word=u,e.value=""}const i=xe({});t.user(ge.pub).get("dict").map().on(async(u,c)=>{if(!u)return;let l=c.slice(0,44),f=c.slice(45,89),h=await t.get("dict").get("#def").get(f).then();if(h){try{h=JSON.parse(h)}catch(d){console.log(d,h);return}(h==null?void 0:h.lang)==Ps.value&&(i[l]=i[l]||await t.get("dict").get("#word").get(l).then())}});const s=xe({});t.get("dict").get("#word").map().once((u,c)=>{u.includes(" ")||(s[c]=u)});const o=pe(()=>{let u=Object.entries(s).map(c=>({text:c[1],hash:c[0]}));return new Cn(u,{keys:["text"],includeScore:!0})}),a=pe(()=>o.value.search(e.value));return{input:e,found:a,words:s,linked:i,word:n,addWord:r}}function Ky(t){const e=Le(),n=Pe("");return e.get("dict").get("#word").get(t).once(r=>{n.value=lf(r)}),{word:n}}function Jy(){const t=Le(),e=xe({text:"",lang:Ps,part:"noun"});async function n(){const{hash:a,hashed:u}=await bm(e);t.get("dict").get("#def").get(a).put(u),tn.def=a,e.text="",e.part=null}const r=xe({});t.user(ge.pub).get("dict").map().on(async(a,u)=>{if(!a)return;let c=u.slice(45,89),l=await t.get("dict").get("#def").get(c).then();if(l)try{if(l=JSON.parse(l),(l==null?void 0:l.lang)!=Ps.value)return;r[c]=r[c]||l}catch(f){console.log(f,l)}});const i=xe({});t.get("dict").get("#def").map().once((a,u)=>{i[u]=JSON.parse(a)});const s=pe(()=>{let a=[];for(let u in i)a.push({hash:u,...i[u]});return new Cn(a,{keys:["text"],includeScore:!0})}),o=pe(()=>s.value.search(e.text));return{def:e,addDef:n,defs:i,found:o,linked:r}}async function s1({word:t,def:e}){var s;const n=Le(),{user:r}=Dn();let i=await n.user(ge.pub).get("dict").get(`${t}:${e}@${r.pub}`).then();n.user(ge.pub).get("dict").get(`${t}:${e}@${r.pub}`).put(!i,null,{opt:{cert:(s=ge.features)==null?void 0:s.dict}}),tn.word=null,tn.def=null}function Yy(t){const e=Le(),n=xe({});return e.user(ge.pub).get("dict").map().on((r,i)=>{var l;if(i.indexOf(t)==-1)return;const{from:o,to:a,author:u}=fo(i);let c=o==t?a:o;n[c]=n[c]||{},r?n[c][u]=r:((l=n==null?void 0:n[c])==null||delete l[u],Object.keys(n==null?void 0:n[c]).length==0&&(n==null||delete n[c]))}),n}function Xy(t){const e=Le(),n=xe({});return e.user(ge.pub).get("dict").map().on((r,i)=>{var u;const{from:s,to:o,author:a}=fo(i);a==t&&(n[s]=n[s]||{},r?n[s][o]=r:((u=n==null?void 0:n[s])==null||delete u[o],Object.keys(n[s]).length==0&&(n==null||delete n[s])))}),n}function Qy(){const t=Le(),e=xe({});return t.user(ge.pub).get("dict").map().once(async(n,r)=>{const{from:i,to:s,author:o}=fo(r);e[o]=e[o]||{},e[o][i]=e[o][i]||{},e[o][i][s]=n}),e}function ew(){const t=Le(),e=xe({});return t.user(ge.pub).get("dict").map().once(async(n,r)=>{let i=r.slice(45,89),s=await t.get("dict").get("#def").get(i).then();if(s){try{s=JSON.parse(s)}catch(o){console.log(s,o)}s!=null&&s.lang&&(e[s==null?void 0:s.lang]=e[s==null?void 0:s.lang]||0,e[s==null?void 0:s.lang]++)}}),e}function fo(t){return{from:t.slice(0,44),to:t.slice(45,89),author:t.slice(-87)}}function lf(t){if(!t)return"";let e=t.toLowerCase().matchAll(new RegExp("\\p{L}","gu"),"");return Array.from(e).map(n=>n[0]).join("")}function Ia(t,e,n,r=!0){const i=document.createElement("a");i.download=n,r?i.href=URL.createObjectURL(new Blob([t],{type:e})):i.href=`data:${e};,${t}`,i.dataset.downloadurl=[e,i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}async function tw(t){if(!t||t.length===0)return;const e=t[0],n=2e7;if(e.size>n){console.error("File is bigger than "+n+" bytes limit");return}return new Promise((r,i)=>{let s=new FileReader;s.onload=()=>{r(s.result)},s.onerror=o=>{i(o)},s.readAsText(e)})}function nw({preserveRatio:t=!1,picSize:e=100,maxSize:n=1024e4}){const r=xe({errors:[],status:"",output:{}});function i(d){const p=d.target.files;a(),p.length&&(r.status="loading",Array.from(p).map(m=>s(m)))}function s(d){return o(d).then(p=>{r.output={name:f(d.name),content:p,size:a1(Math.round(p.length*3/4))},r.status="success"}),null}function o(d){return new Promise((p,m)=>{const g=new FileReader,y=new FileReader,_=d.slice(0,4);g.readAsArrayBuffer(_),g.onloadend=b=>{const w=b.target.result;let v=c(l(w));if(u(d.size)>u(n)&&r.errors.push({message:"File size is too large!"}),v===!1&&r.errors.push({message:"File type is not supported!"}),r.errors.length>0){h(r.errors),a();return}else y.readAsDataURL(d)},y.onloadend=()=>{const b=new Image,w=y.result;typeof w=="string"&&(b.src=w,b.onload=()=>{const v=t?b.naturalWidth/b.naturalHeight:1,A=document.createElement("canvas");A.width=e,A.height=e/v,A.getContext("2d").drawImage(b,0,0,A.width,A.height),p(A.toDataURL())})},g.onerror=b=>m(b),y.onerror=b=>m(b)})}function a(){r.status="",r.errors=[],r.output={}}function u(d){return d*Math.pow(10,-6)}function c(d){return["89504E47","47494638","FFD8FFDB","FFD8FFE0","FFD8FFE1","FFD8FFE2","FFD8FFE3","FFD8FFE8","FFD8FFED","3C3F786D","3C737667"].includes(d)}function l(d){const p=new Uint8Array(d);let m=[];return p.forEach(g=>{m.push(g.toString(16))}),m.join("").toUpperCase()}function f(d){return d.replace(/\.[^/.]+$/,"").toLowerCase()}function h(d){d.length===2?console.error("File upload failed due to size and type!"):console.error(d[0].message+d[0].type)}return{state:r,handleChange:i}}const o1=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function a1(t){let e=0,n=parseInt(t+"",10)||0;for(;n>=1024&&++e;)n=n/1024;return n.toFixed(n<10&&e>0?1:0)+" "+o1[e]}function rw(t){var e;return(e=t.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/))==null?void 0:e[0]}function iw(t){return t.substring(t.indexOf("/")+1,t.indexOf(";base64"))}var Pa={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};function sw(t){for(var e in Pa)if(t.indexOf(e)===0)return Pa[e]}function $r(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qi={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var La;function u1(){return La||(La=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,l){if(!i[c]){if(!r[c]){var f=typeof $r=="function"&&$r;if(!l&&f)return f(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[c]={exports:{}};r[c][0].call(d.exports,function(p){var m=r[c][1][p];return o(m||p)},d,d.exports,n,r,i,s)}return i[c].exports}for(var a=typeof $r=="function"&&$r,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var c,l,f,h,d,p,m,g=[],y=0,_=u.length,b=_,w=s.getTypeOf(u)!=="string";y<u.length;)b=_-y,f=w?(c=u[y++],l=y<_?u[y++]:0,y<_?u[y++]:0):(c=u.charCodeAt(y++),l=y<_?u.charCodeAt(y++):0,y<_?u.charCodeAt(y++):0),h=c>>2,d=(3&c)<<4|l>>4,p=1<b?(15&l)<<2|f>>6:64,m=2<b?63&f:64,g.push(a.charAt(h)+a.charAt(d)+a.charAt(p)+a.charAt(m));return g.join("")},i.decode=function(u){var c,l,f,h,d,p,m=0,g=0,y="data:";if(u.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var _,b=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&b--,u.charAt(u.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=o.uint8array?new Uint8Array(0|b):new Array(0|b);m<u.length;)c=a.indexOf(u.charAt(m++))<<2|(h=a.indexOf(u.charAt(m++)))>>4,l=(15&h)<<4|(d=a.indexOf(u.charAt(m++)))>>2,f=(3&d)<<6|(p=a.indexOf(u.charAt(m++))),_[g++]=c,d!==64&&(_[g++]=l),p!==64&&(_[g++]=f);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function c(l,f,h,d,p){this.compressedSize=l,this.uncompressedSize=f,this.crc32=h,this.compression=d,this.compressedContent=p}c.prototype={getContentWorker:function(){var l=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return l.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(l,f,h){return l.pipe(new a).pipe(new u("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,u=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;u[c]=a}return u}();r.exports=function(a,u){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,l,f,h){var d=o,p=h+f;c^=-1;for(var m=h;m<p;m++)c=c>>>8^d[255&(c^l[m])];return-1^c}(0|u,a,a.length,0):function(c,l,f,h){var d=o,p=h+f;c^=-1;for(var m=h;m<p;m++)c=c>>>8^d[255&(c^l.charCodeAt(m))];return-1^c}(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),u=n("./stream/GenericWorker"),c=s?"uint8array":"array";function l(f,h){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(l,u),l.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,f.data),!1)},l.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new l("Deflate",f)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(d,p){var m,g="";for(m=0;m<p;m++)g+=String.fromCharCode(255&d),d>>>=8;return g}function o(d,p,m,g,y,_){var b,w,v=d.file,A=d.compression,E=_!==c.utf8encode,D=a.transformTo("string",_(v.name)),I=a.transformTo("string",c.utf8encode(v.name)),P=v.comment,L=a.transformTo("string",_(P)),C=a.transformTo("string",c.utf8encode(P)),k=I.length!==v.name.length,x=C.length!==P.length,F="",S="",T="",R=v.dir,B=v.date,U={crc32:0,compressedSize:0,uncompressedSize:0};p&&!m||(U.crc32=d.crc32,U.compressedSize=d.compressedSize,U.uncompressedSize=d.uncompressedSize);var N=0;p&&(N|=8),E||!k&&!x||(N|=2048);var z=0,Y=0;R&&(z|=16),y==="UNIX"?(Y=798,z|=function(K,ue){var ke=K;return K||(ke=ue?16893:33204),(65535&ke)<<16}(v.unixPermissions,R)):(Y=20,z|=function(K){return 63&(K||0)}(v.dosPermissions)),b=B.getUTCHours(),b<<=6,b|=B.getUTCMinutes(),b<<=5,b|=B.getUTCSeconds()/2,w=B.getUTCFullYear()-1980,w<<=4,w|=B.getUTCMonth()+1,w<<=5,w|=B.getUTCDate(),k&&(S=s(1,1)+s(l(D),4)+I,F+="up"+s(S.length,2)+S),x&&(T=s(1,1)+s(l(L),4)+C,F+="uc"+s(T.length,2)+T);var G="";return G+=`
\0`,G+=s(N,2),G+=A.magic,G+=s(b,2),G+=s(w,2),G+=s(U.crc32,4),G+=s(U.compressedSize,4),G+=s(U.uncompressedSize,4),G+=s(D.length,2),G+=s(F.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+D+F,dirRecord:f.CENTRAL_FILE_HEADER+s(Y,2)+G+s(L.length,2)+"\0\0\0\0"+s(z,4)+s(g,4)+D+F+L}}var a=n("../utils"),u=n("../stream/GenericWorker"),c=n("../utf8"),l=n("../crc32"),f=n("../signature");function h(d,p,m,g){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,u),h.prototype.push=function(d){var p=d.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,u.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:m?(p+100*(m-g-1))/m:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var m=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,m=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),p)this.push({data:function(g){return f.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var m=this.bytesWritten-d,g=function(y,_,b,w,v){var A=a.transformTo("string",v(w));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(_,4)+s(b,4)+s(A.length,2)+A}(this.dirRecords.length,m,d,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(m){p.processChunk(m)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(m){p.error(m)}),this},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(d){var p=this._sources;if(!u.prototype.error.call(this,d))return!1;for(var m=0;m<p.length;m++)try{p[m].error(d)}catch{}return!0},h.prototype.lock=function(){u.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,u,c){var l=new o(u.streamFiles,c,u.platform,u.encodeFileName),f=0;try{a.forEach(function(h,d){f++;var p=function(_,b){var w=_||b,v=s[w];if(!v)throw new Error(w+" is not a valid compression method !");return v}(d.options.compression,u.compression),m=d.options.compressionOptions||u.compressionOptions||{},g=d.dir,y=d.date;d._compressWorker(p,m).withStreamInfo("file",{name:h,dir:g,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(l)}),l.entriesCount=f}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),u=n("./zipEntries"),c=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function f(h){return new o.Promise(function(d,p){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){p(g)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}r.exports=function(h,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,d.optimizedBinaryString,d.base64).then(function(m){var g=new u(d);return g.load(m),g}).then(function(m){var g=[o.Promise.resolve(m)],y=m.files;if(d.checkCRC32)for(var _=0;_<y.length;_++)g.push(f(y[_]));return o.Promise.all(g)}).then(function(m){for(var g=m.shift(),y=g.files,_=0;_<y.length;_++){var b=y[_],w=b.fileNameStr,v=s.resolve(b.fileNameStr);p.file(v,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:d.createFolders}),b.dir||(p.file(v).unsafeOriginalName=w)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(u,c){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(l){c.push({data:l,meta:{percent:0}})}).on("error",function(l){c.isPaused?this.generatedError=l:c.error(l)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,u,c){s.call(this,u),this._helper=a;var l=this;a.on("data",function(f,h){l.push(f)||l._helper.pause(),c&&c(h)}).on("error",function(f){l.emit("error",f)}).on("end",function(){l.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(v,A,E){var D,I=a.getTypeOf(A),P=a.extend(E||{},l);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(v=y(v)),P.createFolders&&(D=g(v))&&_.call(this,D,!0);var L=I==="string"&&P.binary===!1&&P.base64===!1;E&&E.binary!==void 0||(P.binary=!L),(A instanceof f&&A.uncompressedSize===0||P.dir||!A||A.length===0)&&(P.base64=!1,P.binary=!0,A="",P.compression="STORE",I="string");var C=null;C=A instanceof f||A instanceof u?A:p.isNode&&p.isStream(A)?new m(v,A):a.prepareContent(v,A,P.binary,P.optimizedBinaryString,P.base64);var k=new h(v,C,P);this.files[v]=k}var o=n("./utf8"),a=n("./utils"),u=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),l=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),d=n("./generate"),p=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),g=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var A=v.lastIndexOf("/");return 0<A?v.substring(0,A):""},y=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},_=function(v,A){return A=A!==void 0?A:l.createFolders,v=y(v),this.files[v]||s.call(this,v,null,{dir:!0,createFolders:A}),this.files[v]};function b(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var A,E,D;for(A in this.files)D=this.files[A],(E=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&v(E,D)},filter:function(v){var A=[];return this.forEach(function(E,D){v(E,D)&&A.push(D)}),A},file:function(v,A,E){if(arguments.length!==1)return v=this.root+v,s.call(this,v,A,E),this;if(b(v)){var D=v;return this.filter(function(P,L){return!L.dir&&D.test(P)})}var I=this.files[this.root+v];return I&&!I.dir?I:null},folder:function(v){if(!v)return this;if(b(v))return this.filter(function(I,P){return P.dir&&v.test(I)});var A=this.root+v,E=_.call(this,A),D=this.clone();return D.root=E.name,D},remove:function(v){v=this.root+v;var A=this.files[v];if(A||(v.slice(-1)!=="/"&&(v+="/"),A=this.files[v]),A&&!A.dir)delete this.files[v];else for(var E=this.filter(function(I,P){return P.name.slice(0,v.length)===v}),D=0;D<E.length;D++)delete this.files[E[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var A,E={};try{if((E=a.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var D=E.comment||this.comment||"";A=d.generateWorker(this,E,D)}catch(I){(A=new u("error")).error(I)}return new c(A,E.type||"string",E.mimeType)},generateAsync:function(v,A){return this.generateInternalStream(v).accumulate(A)},generateNodeStream:function(v,A){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(A)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),c=a.charCodeAt(1),l=a.charCodeAt(2),f=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===u&&this.data[h+1]===c&&this.data[h+2]===l&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),c=a.charCodeAt(1),l=a.charCodeAt(2),f=a.charCodeAt(3),h=this.readData(4);return u===h[0]&&c===h[1]&&l===h[2]&&f===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,c=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),u=n("./StringReader"),c=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");r.exports=function(f){var h=s.getTypeOf(f);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new c(f):o.uint8array?new l(s.transformTo("uint8array",f)):new a(s.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,s),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(a,o),a.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}o.prototype.processChunk.call(this,u)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(u){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(l){c.dataIsReady=!0,c.data=l,c.max=l&&l.length||0,c.type=s.getTypeOf(l),c.isPaused||c._tickAndRepeat()},function(l){c.error(l)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),u=n("../base64"),c=n("../support"),l=n("../external"),f=null;if(c.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,m){return new l.Promise(function(g,y){var _=[],b=p._internalType,w=p._outputType,v=p._mimeType;p.on("data",function(A,E){_.push(A),m&&m(E)}).on("error",function(A){_=[],y(A)}).on("end",function(){try{var A=function(E,D,I){switch(E){case"blob":return s.newBlob(s.transformTo("arraybuffer",D),I);case"base64":return u.encode(D);default:return s.transformTo(E,D)}}(w,function(E,D){var I,P=0,L=null,C=0;for(I=0;I<D.length;I++)C+=D[I].length;switch(E){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(L=new Uint8Array(C),I=0;I<D.length;I++)L.set(D[I],P),P+=D[I].length;return L;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+E+"'")}}(b,_),v);g(A)}catch(E){y(E)}_=[]}).resume()})}function d(p,m,g){var y=m;switch(m){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=m,this._mimeType=g,s.checkSupport(y),this._worker=p.pipe(new o(y)),p.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}d.prototype={accumulate:function(p){return h(this,p)},on:function(p,m){var g=this;return p==="data"?this._worker.on(p,function(y){m.call(g,y.data,y.meta)}):this._worker.on(p,function(){s.delay(m,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),u=n("./stream/GenericWorker"),c=new Array(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;c[254]=c[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function h(){u.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var m,g,y,_,b,w=p.length,v=0;for(_=0;_<w;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<w&&(64512&(y=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),v+=g<128?1:g<2048?2:g<65536?3:4;for(m=o.uint8array?new Uint8Array(v):new Array(v),_=b=0;b<v;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<w&&(64512&(y=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),_++),g<128?m[b++]=g:(g<2048?m[b++]=192|g>>>6:(g<65536?m[b++]=224|g>>>12:(m[b++]=240|g>>>18,m[b++]=128|g>>>12&63),m[b++]=128|g>>>6&63),m[b++]=128|63&g);return m}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var m,g,y,_,b=p.length,w=new Array(2*b);for(m=g=0;m<b;)if((y=p[m++])<128)w[g++]=y;else if(4<(_=c[y]))w[g++]=65533,m+=_-1;else{for(y&=_===2?31:_===3?15:7;1<_&&m<b;)y=y<<6|63&p[m++],_--;1<_?w[g++]=65533:y<65536?w[g++]=y:(y-=65536,w[g++]=55296|y>>10&1023,w[g++]=56320|1023&y)}return w.length!==g&&(w.subarray?w=w.subarray(0,g):w.length=g),s.applyFromCharCode(w)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(f,u),f.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var m=p;(p=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),p.set(m,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(_,b){var w;for((b=b||_.length)>_.length&&(b=_.length),w=b-1;0<=w&&(192&_[w])==128;)w--;return w<0||w===0?b:w+c[_[w]]>b?w:b}(p),y=p;g!==p.length&&(o.uint8array?(y=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(y=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(y),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(h,u),h.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),u=n("./external");function c(m){return m}function l(m,g){for(var y=0;y<m.length;++y)g[y]=255&m.charCodeAt(y);return g}n("setimmediate"),i.newBlob=function(m,g){i.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(m),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,g,y){var _=[],b=0,w=m.length;if(w<=y)return String.fromCharCode.apply(null,m);for(;b<w;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,m.slice(b,Math.min(b+y,w)))):_.push(String.fromCharCode.apply(null,m.subarray(b,Math.min(b+y,w)))),b+=y;return _.join("")},stringifyByChar:function(m){for(var g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(m){var g=65536,y=i.getTypeOf(m),_=!0;if(y==="uint8array"?_=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(_=f.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return f.stringifyByChunk(m,y,g)}catch{g=Math.floor(g/2)}return f.stringifyByChar(m)}function d(m,g){for(var y=0;y<m.length;y++)g[y]=m[y];return g}i.applyFromCharCode=h;var p={};p.string={string:c,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return p.string.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:function(m){return l(m,a.allocBuffer(m.length))}},p.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},p.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return d(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},p.uint8array={string:h,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return a.newBufferFrom(m)}},p.nodebuffer={string:h,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return p.nodebuffer.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:c},i.transformTo=function(m,g){if(g=g||"",!m)return g;i.checkSupport(m);var y=i.getTypeOf(g);return p[y][m](g)},i.resolve=function(m){for(var g=m.split("/"),y=[],_=0;_<g.length;_++){var b=g[_];b==="."||b===""&&_!==0&&_!==g.length-1||(b===".."?y.pop():y.push(b))}return y.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var g,y,_="";for(y=0;y<(m||"").length;y++)_+="\\x"+((g=m.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return _},i.delay=function(m,g,y){setImmediate(function(){m.apply(y||null,g||[])})},i.inherits=function(m,g){function y(){}y.prototype=g.prototype,m.prototype=new y},i.extend=function(){var m,g,y={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&y[g]===void 0&&(y[g]=arguments[m][g]);return y},i.prepareContent=function(m,g,y,_,b){return u.Promise.resolve(g).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new u.Promise(function(v,A){var E=new FileReader;E.onload=function(D){v(D.target.result)},E.onerror=function(D){A(D.target.error)},E.readAsArrayBuffer(w)}):w}).then(function(w){var v=i.getTypeOf(w);return v?(v==="arraybuffer"?w=i.transformTo("uint8array",w):v==="string"&&(b?w=o.decode(w):y&&_!==!0&&(w=function(A){return l(A,s.uint8array?new Uint8Array(A.length):new Array(A.length))}(w))),w):u.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),u=n("./zipEntry"),c=n("./support");function l(f){this.files=[],this.loadOptions=f}l.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var d=this.reader.index;this.reader.setIndex(f);var p=this.reader.readString(4)===h;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",d=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,d,p=this.zip64EndOfCentralSize-44;0<p;)f=this.reader.readInt(2),h=this.reader.readInt(4),d=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=h-d;if(0<p)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),u=n("./crc32"),c=n("./utf8"),l=n("./compressions"),f=n("./support");function h(d,p){this.options=d,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,m;if(d.skip(22),this.fileNameLength=d.readInt(2),m=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var y in l)if(Object.prototype.hasOwnProperty.call(l,y)&&l[y].magic===g)return l[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,m,g,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)p=d.readInt(2),m=d.readInt(2),g=d.readData(m),this.extraFields[p]={id:p,length:m,value:g};d.setIndex(y)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var m=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||u(this.fileName)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||u(this.fileComment)!==p.readInt(4)?null:c.utf8decode(p.readData(d.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(p,m,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),u=n("./utf8"),c=n("./compressedObject"),l=n("./stream/GenericWorker");s.prototype={internalStream:function(p){var m=null,g="string";try{if(!p)throw new Error("No output type specified.");var y=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var _=!this._dataBinary;_&&!y&&(m=m.pipe(new u.Utf8EncodeWorker)),!_&&y&&(m=m.pipe(new u.Utf8DecodeWorker))}catch(b){(m=new l("error")).error(b)}return new o(m,g,"")},async:function(p,m){return this.internalStream(p).accumulate(m)},nodeStream:function(p,m){return this.internalStream(p||"nodebuffer").toNodejsStream(m)},_compressWorker:function(p,m){if(this._data instanceof c&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(g,p,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)s.prototype[f[d]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var c=0,l=new u(p),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),o=function(){f.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){p(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(p,0)};else{var h=new s.MessageChannel;h.port1.onmessage=p,o=function(){h.port2.postMessage(0)}}var d=[];function p(){var m,g;a=!0;for(var y=d.length;y;){for(g=d,d=[],m=-1;++m<y;)g[m]();y=d.length}a=!1}r.exports=function(m){d.push(m)!==1||a||o()}}).call(this,typeof Or<"u"?Or:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},u=["REJECTED"],c=["FULFILLED"],l=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,y!==o&&m(this,y)}function h(y,_,b){this.promise=y,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(y,_,b){s(function(){var w;try{w=_(b)}catch(v){return a.reject(y,v)}w===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,w)})}function p(y){var _=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof _=="function")return function(){_.apply(y,arguments)}}function m(y,_){var b=!1;function w(E){b||(b=!0,a.reject(y,E))}function v(E){b||(b=!0,a.resolve(y,E))}var A=g(function(){_(v,w)});A.status==="error"&&w(A.value)}function g(y,_){var b={};try{b.value=y(_),b.status="success"}catch(w){b.status="error",b.value=w}return b}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var _=this.constructor;return this.then(function(b){return _.resolve(y()).then(function(){return b})},function(b){return _.resolve(y()).then(function(){throw b})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,_){if(typeof y!="function"&&this.state===c||typeof _!="function"&&this.state===u)return this;var b=new this.constructor(o);return this.state!==l?d(b,this.state===c?y:_,this.outcome):this.queue.push(new h(b,y,_)),b},h.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){a.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},a.resolve=function(y,_){var b=g(p,_);if(b.status==="error")return a.reject(y,b.value);var w=b.value;if(w)m(y,w);else{y.state=c,y.outcome=_;for(var v=-1,A=y.queue.length;++v<A;)y.queue[v].callFulfilled(_)}return y},a.reject=function(y,_){y.state=u,y.outcome=_;for(var b=-1,w=y.queue.length;++b<w;)y.queue[b].callRejected(_);return y},f.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},f.reject=function(y){var _=new this(o);return a.reject(_,y)},f.all=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,w=!1;if(!b)return this.resolve([]);for(var v=new Array(b),A=0,E=-1,D=new this(o);++E<b;)I(y[E],E);return D;function I(P,L){_.resolve(P).then(function(C){v[L]=C,++A!==b||w||(w=!0,a.resolve(D,v))},function(C){w||(w=!0,a.reject(D,C))})}},f.race=function(y){var _=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=y.length,w=!1;if(!b)return this.resolve([]);for(var v=-1,A=new this(o);++v<b;)E=y[v],_.resolve(E).then(function(D){w||(w=!0,a.resolve(A,D))},function(D){w||(w=!0,a.reject(A,D))});var E;return A}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/messages"),c=n("./zlib/zstream"),l=Object.prototype.toString,f=0,h=-1,d=0,p=8;function m(y){if(!(this instanceof m))return new m(y);this.options=o.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(b!==f)throw new Error(u[b]);if(_.header&&s.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?a.string2buf(_.dictionary):l.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(b=s.deflateSetDictionary(this.strm,w))!==f)throw new Error(u[b]);this._dict_set=!0}}function g(y,_){var b=new m(_);if(b.push(y,!0),b.err)throw b.msg||u[b.err];return b.result}m.prototype.push=function(y,_){var b,w,v=this.strm,A=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof y=="string"?v.input=a.string2buf(y):l.call(y)==="[object ArrayBuffer]"?v.input=new Uint8Array(y):v.input=y,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new o.Buf8(A),v.next_out=0,v.avail_out=A),(b=s.deflate(v,w))!==1&&b!==f)return this.onEnd(b),!(this.ended=!0);v.avail_out!==0&&(v.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(v.output,v.next_out))):this.onData(o.shrinkBuf(v.output,v.next_out)))}while((0<v.avail_in||v.avail_out===0)&&b!==1);return w===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===f):w!==2||(this.onEnd(f),!(v.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=m,i.deflate=g,i.deflateRaw=function(y,_){return(_=_||{}).raw=!0,g(y,_)},i.gzip=function(y,_){return(_=_||{}).gzip=!0,g(y,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),u=n("./zlib/constants"),c=n("./zlib/messages"),l=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function d(m){if(!(this instanceof d))return new d(m);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,g.windowBits);if(y!==u.Z_OK)throw new Error(c[y]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function p(m,g){var y=new d(g);if(y.push(m,!0),y.err)throw y.msg||c[y.err];return y.result}d.prototype.push=function(m,g){var y,_,b,w,v,A,E=this.strm,D=this.options.chunkSize,I=this.options.dictionary,P=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof m=="string"?E.input=a.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(D),E.next_out=0,E.avail_out=D),(y=s.inflate(E,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&I&&(A=typeof I=="string"?a.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=s.inflateSetDictionary(this.strm,A)),y===u.Z_BUF_ERROR&&P===!0&&(y=u.Z_OK,P=!1),y!==u.Z_STREAM_END&&y!==u.Z_OK)return this.onEnd(y),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&y!==u.Z_STREAM_END&&(E.avail_in!==0||_!==u.Z_FINISH&&_!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=a.utf8border(E.output,E.next_out),w=E.next_out-b,v=a.buf2string(E.output,b),E.next_out=w,E.avail_out=D-w,w&&o.arraySet(E.output,E.output,b,w,0),this.onData(v)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(P=!0)}while((0<E.avail_in||E.avail_out===0)&&y!==u.Z_STREAM_END);return y===u.Z_STREAM_END&&(_=u.Z_FINISH),_===u.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===u.Z_OK):_!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(E.avail_out=0))},d.prototype.onData=function(m){this.chunks.push(m)},d.prototype.onEnd=function(m){m===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var l=c.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var f in l)l.hasOwnProperty(f)&&(u[f]=l[f])}}return u},i.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var o={arraySet:function(u,c,l,f,h){if(c.subarray&&u.subarray)u.set(c.subarray(l,l+f),h);else for(var d=0;d<f;d++)u[h+d]=c[l+d]},flattenChunks:function(u){var c,l,f,h,d,p;for(c=f=0,l=u.length;c<l;c++)f+=u[c].length;for(p=new Uint8Array(f),c=h=0,l=u.length;c<l;c++)d=u[c],p.set(d,h),h+=d.length;return p}},a={arraySet:function(u,c,l,f,h){for(var d=0;d<f;d++)u[h+d]=c[l+d]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new s.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(f,h){if(h<65537&&(f.subarray&&a||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,h));for(var d="",p=0;p<h;p++)d+=String.fromCharCode(f[p]);return d}u[254]=u[254]=1,i.string2buf=function(f){var h,d,p,m,g,y=f.length,_=0;for(m=0;m<y;m++)(64512&(d=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=f.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),m++),_+=d<128?1:d<2048?2:d<65536?3:4;for(h=new s.Buf8(_),m=g=0;g<_;m++)(64512&(d=f.charCodeAt(m)))==55296&&m+1<y&&(64512&(p=f.charCodeAt(m+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),m++),d<128?h[g++]=d:(d<2048?h[g++]=192|d>>>6:(d<65536?h[g++]=224|d>>>12:(h[g++]=240|d>>>18,h[g++]=128|d>>>12&63),h[g++]=128|d>>>6&63),h[g++]=128|63&d);return h},i.buf2binstring=function(f){return l(f,f.length)},i.binstring2buf=function(f){for(var h=new s.Buf8(f.length),d=0,p=h.length;d<p;d++)h[d]=f.charCodeAt(d);return h},i.buf2string=function(f,h){var d,p,m,g,y=h||f.length,_=new Array(2*y);for(d=p=0;d<y;)if((m=f[d++])<128)_[p++]=m;else if(4<(g=u[m]))_[p++]=65533,d+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&d<y;)m=m<<6|63&f[d++],g--;1<g?_[p++]=65533:m<65536?_[p++]=m:(m-=65536,_[p++]=55296|m>>10&1023,_[p++]=56320|1023&m)}return l(_,p)},i.utf8border=function(f,h){var d;for((h=h||f.length)>f.length&&(h=f.length),d=h-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?h:d+u[f[d]]>h?d:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,u){for(var c=65535&s|0,l=s>>>16&65535|0,f=0;a!==0;){for(a-=f=2e3<a?2e3:a;l=l+(c=c+o[u++]|0)|0,--f;);c%=65521,l%=65521}return c|l<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[u]=o}return a}();r.exports=function(o,a,u,c){var l=s,f=c+u;o^=-1;for(var h=c;h<f;h++)o=o>>>8^l[255&(o^a[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),u=n("./adler32"),c=n("./crc32"),l=n("./messages"),f=0,h=4,d=0,p=-2,m=-1,g=4,y=2,_=8,b=9,w=286,v=30,A=19,E=2*w+1,D=15,I=3,P=258,L=P+I+1,C=42,k=113,x=1,F=2,S=3,T=4;function R(O,V){return O.msg=l[V],V}function B(O){return(O<<1)-(4<O?9:0)}function U(O){for(var V=O.length;0<=--V;)O[V]=0}function N(O){var V=O.state,W=V.pending;W>O.avail_out&&(W=O.avail_out),W!==0&&(o.arraySet(O.output,V.pending_buf,V.pending_out,W,O.next_out),O.next_out+=W,V.pending_out+=W,O.total_out+=W,O.avail_out-=W,V.pending-=W,V.pending===0&&(V.pending_out=0))}function z(O,V){a._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,V),O.block_start=O.strstart,N(O.strm)}function Y(O,V){O.pending_buf[O.pending++]=V}function G(O,V){O.pending_buf[O.pending++]=V>>>8&255,O.pending_buf[O.pending++]=255&V}function K(O,V){var W,$,j=O.max_chain_length,H=O.strstart,X=O.prev_length,Q=O.nice_match,q=O.strstart>O.w_size-L?O.strstart-(O.w_size-L):0,te=O.window,ie=O.w_mask,ne=O.prev,ce=O.strstart+P,Ae=te[H+X-1],_e=te[H+X];O.prev_length>=O.good_match&&(j>>=2),Q>O.lookahead&&(Q=O.lookahead);do if(te[(W=V)+X]===_e&&te[W+X-1]===Ae&&te[W]===te[H]&&te[++W]===te[H+1]){H+=2,W++;do;while(te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&te[++H]===te[++W]&&H<ce);if($=P-(ce-H),H=ce-P,X<$){if(O.match_start=V,Q<=(X=$))break;Ae=te[H+X-1],_e=te[H+X]}}while((V=ne[V&ie])>q&&--j!=0);return X<=O.lookahead?X:O.lookahead}function ue(O){var V,W,$,j,H,X,Q,q,te,ie,ne=O.w_size;do{if(j=O.window_size-O.lookahead-O.strstart,O.strstart>=ne+(ne-L)){for(o.arraySet(O.window,O.window,ne,ne,0),O.match_start-=ne,O.strstart-=ne,O.block_start-=ne,V=W=O.hash_size;$=O.head[--V],O.head[V]=ne<=$?$-ne:0,--W;);for(V=W=ne;$=O.prev[--V],O.prev[V]=ne<=$?$-ne:0,--W;);j+=ne}if(O.strm.avail_in===0)break;if(X=O.strm,Q=O.window,q=O.strstart+O.lookahead,te=j,ie=void 0,ie=X.avail_in,te<ie&&(ie=te),W=ie===0?0:(X.avail_in-=ie,o.arraySet(Q,X.input,X.next_in,ie,q),X.state.wrap===1?X.adler=u(X.adler,Q,ie,q):X.state.wrap===2&&(X.adler=c(X.adler,Q,ie,q)),X.next_in+=ie,X.total_in+=ie,ie),O.lookahead+=W,O.lookahead+O.insert>=I)for(H=O.strstart-O.insert,O.ins_h=O.window[H],O.ins_h=(O.ins_h<<O.hash_shift^O.window[H+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[H+I-1])&O.hash_mask,O.prev[H&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=H,H++,O.insert--,!(O.lookahead+O.insert<I)););}while(O.lookahead<L&&O.strm.avail_in!==0)}function ke(O,V){for(var W,$;;){if(O.lookahead<L){if(ue(O),O.lookahead<L&&V===f)return x;if(O.lookahead===0)break}if(W=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,W=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),W!==0&&O.strstart-W<=O.w_size-L&&(O.match_length=K(O,W)),O.match_length>=I)if($=a._tr_tally(O,O.strstart-O.match_start,O.match_length-I),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=I){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,W=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else $=a._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if($&&(z(O,!1),O.strm.avail_out===0))return x}return O.insert=O.strstart<I-1?O.strstart:I-1,V===h?(z(O,!0),O.strm.avail_out===0?S:T):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?x:F}function ae(O,V){for(var W,$,j;;){if(O.lookahead<L){if(ue(O),O.lookahead<L&&V===f)return x;if(O.lookahead===0)break}if(W=0,O.lookahead>=I&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,W=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=I-1,W!==0&&O.prev_length<O.max_lazy_match&&O.strstart-W<=O.w_size-L&&(O.match_length=K(O,W),O.match_length<=5&&(O.strategy===1||O.match_length===I&&4096<O.strstart-O.match_start)&&(O.match_length=I-1)),O.prev_length>=I&&O.match_length<=O.prev_length){for(j=O.strstart+O.lookahead-I,$=a._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-I),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=j&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+I-1])&O.hash_mask,W=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=I-1,O.strstart++,$&&(z(O,!1),O.strm.avail_out===0))return x}else if(O.match_available){if(($=a._tr_tally(O,0,O.window[O.strstart-1]))&&z(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return x}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&($=a._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<I-1?O.strstart:I-1,V===h?(z(O,!0),O.strm.avail_out===0?S:T):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?x:F}function he(O,V,W,$,j){this.good_length=O,this.max_lazy=V,this.nice_length=W,this.max_chain=$,this.func=j}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*v+1)),this.bl_tree=new o.Buf16(2*(2*A+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(D+1),this.heap=new o.Buf16(2*w+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*w+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(O){var V;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=y,(V=O.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?C:k,O.adler=V.wrap===2?0:1,V.last_flush=f,a._tr_init(V),d):R(O,p)}function ve(O){var V=me(O);return V===d&&function(W){W.window_size=2*W.w_size,U(W.head),W.max_lazy_match=s[W.level].max_lazy,W.good_match=s[W.level].good_length,W.nice_match=s[W.level].nice_length,W.max_chain_length=s[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=I-1,W.match_available=0,W.ins_h=0}(O.state),V}function Te(O,V,W,$,j,H){if(!O)return p;var X=1;if(V===m&&(V=6),$<0?(X=0,$=-$):15<$&&(X=2,$-=16),j<1||b<j||W!==_||$<8||15<$||V<0||9<V||H<0||g<H)return R(O,p);$===8&&($=9);var Q=new ye;return(O.state=Q).strm=O,Q.wrap=X,Q.gzhead=null,Q.w_bits=$,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=j+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+I-1)/I),Q.window=new o.Buf8(2*Q.w_size),Q.head=new o.Buf16(Q.hash_size),Q.prev=new o.Buf16(Q.w_size),Q.lit_bufsize=1<<j+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new o.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=V,Q.strategy=H,Q.method=W,ve(O)}s=[new he(0,0,0,0,function(O,V){var W=65535;for(W>O.pending_buf_size-5&&(W=O.pending_buf_size-5);;){if(O.lookahead<=1){if(ue(O),O.lookahead===0&&V===f)return x;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var $=O.block_start+W;if((O.strstart===0||O.strstart>=$)&&(O.lookahead=O.strstart-$,O.strstart=$,z(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-L&&(z(O,!1),O.strm.avail_out===0))return x}return O.insert=0,V===h?(z(O,!0),O.strm.avail_out===0?S:T):(O.strstart>O.block_start&&(z(O,!1),O.strm.avail_out),x)}),new he(4,4,8,4,ke),new he(4,5,16,8,ke),new he(4,6,32,32,ke),new he(4,4,16,16,ae),new he(8,16,32,32,ae),new he(8,16,128,128,ae),new he(8,32,128,256,ae),new he(32,128,258,1024,ae),new he(32,258,258,4096,ae)],i.deflateInit=function(O,V){return Te(O,V,_,15,8,0)},i.deflateInit2=Te,i.deflateReset=ve,i.deflateResetKeep=me,i.deflateSetHeader=function(O,V){return O&&O.state?O.state.wrap!==2?p:(O.state.gzhead=V,d):p},i.deflate=function(O,V){var W,$,j,H;if(!O||!O.state||5<V||V<0)return O?R(O,p):p;if($=O.state,!O.output||!O.input&&O.avail_in!==0||$.status===666&&V!==h)return R(O,O.avail_out===0?-5:p);if($.strm=O,W=$.last_flush,$.last_flush=V,$.status===C)if($.wrap===2)O.adler=0,Y($,31),Y($,139),Y($,8),$.gzhead?(Y($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),Y($,255&$.gzhead.time),Y($,$.gzhead.time>>8&255),Y($,$.gzhead.time>>16&255),Y($,$.gzhead.time>>24&255),Y($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Y($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(Y($,255&$.gzhead.extra.length),Y($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(O.adler=c(O.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(Y($,0),Y($,0),Y($,0),Y($,0),Y($,0),Y($,$.level===9?2:2<=$.strategy||$.level<2?4:0),Y($,3),$.status=k);else{var X=_+($.w_bits-8<<4)<<8;X|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(X|=32),X+=31-X%31,$.status=k,G($,X),$.strstart!==0&&(G($,O.adler>>>16),G($,65535&O.adler)),O.adler=1}if($.status===69)if($.gzhead.extra){for(j=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),N(O),j=$.pending,$.pending!==$.pending_buf_size));)Y($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),N(O),j=$.pending,$.pending===$.pending_buf_size)){H=1;break}H=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,Y($,H)}while(H!==0);$.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),H===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){j=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),N(O),j=$.pending,$.pending===$.pending_buf_size)){H=1;break}H=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,Y($,H)}while(H!==0);$.gzhead.hcrc&&$.pending>j&&(O.adler=c(O.adler,$.pending_buf,$.pending-j,j)),H===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&N(O),$.pending+2<=$.pending_buf_size&&(Y($,255&O.adler),Y($,O.adler>>8&255),O.adler=0,$.status=k)):$.status=k),$.pending!==0){if(N(O),O.avail_out===0)return $.last_flush=-1,d}else if(O.avail_in===0&&B(V)<=B(W)&&V!==h)return R(O,-5);if($.status===666&&O.avail_in!==0)return R(O,-5);if(O.avail_in!==0||$.lookahead!==0||V!==f&&$.status!==666){var Q=$.strategy===2?function(q,te){for(var ie;;){if(q.lookahead===0&&(ue(q),q.lookahead===0)){if(te===f)return x;break}if(q.match_length=0,ie=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,ie&&(z(q,!1),q.strm.avail_out===0))return x}return q.insert=0,te===h?(z(q,!0),q.strm.avail_out===0?S:T):q.last_lit&&(z(q,!1),q.strm.avail_out===0)?x:F}($,V):$.strategy===3?function(q,te){for(var ie,ne,ce,Ae,_e=q.window;;){if(q.lookahead<=P){if(ue(q),q.lookahead<=P&&te===f)return x;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=I&&0<q.strstart&&(ne=_e[ce=q.strstart-1])===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]){Ae=q.strstart+P;do;while(ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ne===_e[++ce]&&ce<Ae);q.match_length=P-(Ae-ce),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=I?(ie=a._tr_tally(q,1,q.match_length-I),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(ie=a._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),ie&&(z(q,!1),q.strm.avail_out===0))return x}return q.insert=0,te===h?(z(q,!0),q.strm.avail_out===0?S:T):q.last_lit&&(z(q,!1),q.strm.avail_out===0)?x:F}($,V):s[$.level].func($,V);if(Q!==S&&Q!==T||($.status=666),Q===x||Q===S)return O.avail_out===0&&($.last_flush=-1),d;if(Q===F&&(V===1?a._tr_align($):V!==5&&(a._tr_stored_block($,0,0,!1),V===3&&(U($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),N(O),O.avail_out===0))return $.last_flush=-1,d}return V!==h?d:$.wrap<=0?1:($.wrap===2?(Y($,255&O.adler),Y($,O.adler>>8&255),Y($,O.adler>>16&255),Y($,O.adler>>24&255),Y($,255&O.total_in),Y($,O.total_in>>8&255),Y($,O.total_in>>16&255),Y($,O.total_in>>24&255)):(G($,O.adler>>>16),G($,65535&O.adler)),N(O),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?d:1)},i.deflateEnd=function(O){var V;return O&&O.state?(V=O.state.status)!==C&&V!==69&&V!==73&&V!==91&&V!==103&&V!==k&&V!==666?R(O,p):(O.state=null,V===k?R(O,-3):d):p},i.deflateSetDictionary=function(O,V){var W,$,j,H,X,Q,q,te,ie=V.length;if(!O||!O.state||(H=(W=O.state).wrap)===2||H===1&&W.status!==C||W.lookahead)return p;for(H===1&&(O.adler=u(O.adler,V,ie,0)),W.wrap=0,ie>=W.w_size&&(H===0&&(U(W.head),W.strstart=0,W.block_start=0,W.insert=0),te=new o.Buf8(W.w_size),o.arraySet(te,V,ie-W.w_size,W.w_size,0),V=te,ie=W.w_size),X=O.avail_in,Q=O.next_in,q=O.input,O.avail_in=ie,O.next_in=0,O.input=V,ue(W);W.lookahead>=I;){for($=W.strstart,j=W.lookahead-(I-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[$+I-1])&W.hash_mask,W.prev[$&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=$,$++,--j;);W.strstart=$,W.lookahead=I-1,ue(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=I-1,W.match_available=0,O.next_in=Q,O.input=q,O.avail_in=X,W.wrap=H,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,u,c,l,f,h,d,p,m,g,y,_,b,w,v,A,E,D,I,P,L,C,k,x,F;a=s.state,u=s.next_in,x=s.input,c=u+(s.avail_in-5),l=s.next_out,F=s.output,f=l-(o-s.avail_out),h=l+(s.avail_out-257),d=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,y=a.window,_=a.hold,b=a.bits,w=a.lencode,v=a.distcode,A=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{b<15&&(_+=x[u++]<<b,b+=8,_+=x[u++]<<b,b+=8),D=w[_&A];t:for(;;){if(_>>>=I=D>>>24,b-=I,(I=D>>>16&255)===0)F[l++]=65535&D;else{if(!(16&I)){if((64&I)==0){D=w[(65535&D)+(_&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}P=65535&D,(I&=15)&&(b<I&&(_+=x[u++]<<b,b+=8),P+=_&(1<<I)-1,_>>>=I,b-=I),b<15&&(_+=x[u++]<<b,b+=8,_+=x[u++]<<b,b+=8),D=v[_&E];n:for(;;){if(_>>>=I=D>>>24,b-=I,!(16&(I=D>>>16&255))){if((64&I)==0){D=v[(65535&D)+(_&(1<<I)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(L=65535&D,b<(I&=15)&&(_+=x[u++]<<b,(b+=8)<I&&(_+=x[u++]<<b,b+=8)),d<(L+=_&(1<<I)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(_>>>=I,b-=I,(I=l-f)<L){if(m<(I=L-I)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(k=y,(C=0)===g){if(C+=p-I,I<P){for(P-=I;F[l++]=y[C++],--I;);C=l-L,k=F}}else if(g<I){if(C+=p+g-I,(I-=g)<P){for(P-=I;F[l++]=y[C++],--I;);if(C=0,g<P){for(P-=I=g;F[l++]=y[C++],--I;);C=l-L,k=F}}}else if(C+=g-I,I<P){for(P-=I;F[l++]=y[C++],--I;);C=l-L,k=F}for(;2<P;)F[l++]=k[C++],F[l++]=k[C++],F[l++]=k[C++],P-=3;P&&(F[l++]=k[C++],1<P&&(F[l++]=k[C++]))}else{for(C=l-L;F[l++]=F[C++],F[l++]=F[C++],F[l++]=F[C++],2<(P-=3););P&&(F[l++]=F[C++],1<P&&(F[l++]=F[C++]))}break}}break}}while(u<c&&l<h);u-=P=b>>3,_&=(1<<(b-=P<<3))-1,s.next_in=u,s.next_out=l,s.avail_in=u<c?c-u+5:5-(u-c),s.avail_out=l<h?h-l+257:257-(l-h),a.hold=_,a.bits=b}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),u=n("./inffast"),c=n("./inftrees"),l=1,f=2,h=0,d=-2,p=1,m=852,g=592;function y(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var k;return C&&C.state?(k=C.state,C.total_in=C.total_out=k.total=0,C.msg="",k.wrap&&(C.adler=1&k.wrap),k.mode=p,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new s.Buf32(m),k.distcode=k.distdyn=new s.Buf32(g),k.sane=1,k.back=-1,h):d}function w(C){var k;return C&&C.state?((k=C.state).wsize=0,k.whave=0,k.wnext=0,b(C)):d}function v(C,k){var x,F;return C&&C.state?(F=C.state,k<0?(x=0,k=-k):(x=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?d:(F.window!==null&&F.wbits!==k&&(F.window=null),F.wrap=x,F.wbits=k,w(C))):d}function A(C,k){var x,F;return C?(F=new _,(C.state=F).window=null,(x=v(C,k))!==h&&(C.state=null),x):d}var E,D,I=!0;function P(C){if(I){var k;for(E=new s.Buf32(512),D=new s.Buf32(32),k=0;k<144;)C.lens[k++]=8;for(;k<256;)C.lens[k++]=9;for(;k<280;)C.lens[k++]=7;for(;k<288;)C.lens[k++]=8;for(c(l,C.lens,0,288,E,0,C.work,{bits:9}),k=0;k<32;)C.lens[k++]=5;c(f,C.lens,0,32,D,0,C.work,{bits:5}),I=!1}C.lencode=E,C.lenbits=9,C.distcode=D,C.distbits=5}function L(C,k,x,F){var S,T=C.state;return T.window===null&&(T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new s.Buf8(T.wsize)),F>=T.wsize?(s.arraySet(T.window,k,x-T.wsize,T.wsize,0),T.wnext=0,T.whave=T.wsize):(F<(S=T.wsize-T.wnext)&&(S=F),s.arraySet(T.window,k,x-F,S,T.wnext),(F-=S)?(s.arraySet(T.window,k,x-F,F,0),T.wnext=F,T.whave=T.wsize):(T.wnext+=S,T.wnext===T.wsize&&(T.wnext=0),T.whave<T.wsize&&(T.whave+=S))),0}i.inflateReset=w,i.inflateReset2=v,i.inflateResetKeep=b,i.inflateInit=function(C){return A(C,15)},i.inflateInit2=A,i.inflate=function(C,k){var x,F,S,T,R,B,U,N,z,Y,G,K,ue,ke,ae,he,ye,me,ve,Te,O,V,W,$,j=0,H=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return d;(x=C.state).mode===12&&(x.mode=13),R=C.next_out,S=C.output,U=C.avail_out,T=C.next_in,F=C.input,B=C.avail_in,N=x.hold,z=x.bits,Y=B,G=U,V=h;e:for(;;)switch(x.mode){case p:if(x.wrap===0){x.mode=13;break}for(;z<16;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(2&x.wrap&&N===35615){H[x.check=0]=255&N,H[1]=N>>>8&255,x.check=a(x.check,H,2,0),z=N=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&N)<<8)+(N>>8))%31){C.msg="incorrect header check",x.mode=30;break}if((15&N)!=8){C.msg="unknown compression method",x.mode=30;break}if(z-=4,O=8+(15&(N>>>=4)),x.wbits===0)x.wbits=O;else if(O>x.wbits){C.msg="invalid window size",x.mode=30;break}x.dmax=1<<O,C.adler=x.check=1,x.mode=512&N?10:12,z=N=0;break;case 2:for(;z<16;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(x.flags=N,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=N>>8&1),512&x.flags&&(H[0]=255&N,H[1]=N>>>8&255,x.check=a(x.check,H,2,0)),z=N=0,x.mode=3;case 3:for(;z<32;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.head&&(x.head.time=N),512&x.flags&&(H[0]=255&N,H[1]=N>>>8&255,H[2]=N>>>16&255,H[3]=N>>>24&255,x.check=a(x.check,H,4,0)),z=N=0,x.mode=4;case 4:for(;z<16;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.head&&(x.head.xflags=255&N,x.head.os=N>>8),512&x.flags&&(H[0]=255&N,H[1]=N>>>8&255,x.check=a(x.check,H,2,0)),z=N=0,x.mode=5;case 5:if(1024&x.flags){for(;z<16;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.length=N,x.head&&(x.head.extra_len=N),512&x.flags&&(H[0]=255&N,H[1]=N>>>8&255,x.check=a(x.check,H,2,0)),z=N=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(B<(K=x.length)&&(K=B),K&&(x.head&&(O=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),s.arraySet(x.head.extra,F,T,K,O)),512&x.flags&&(x.check=a(x.check,F,K,T)),B-=K,T+=K,x.length-=K),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(B===0)break e;for(K=0;O=F[T+K++],x.head&&O&&x.length<65536&&(x.head.name+=String.fromCharCode(O)),O&&K<B;);if(512&x.flags&&(x.check=a(x.check,F,K,T)),B-=K,T+=K,O)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(B===0)break e;for(K=0;O=F[T+K++],x.head&&O&&x.length<65536&&(x.head.comment+=String.fromCharCode(O)),O&&K<B;);if(512&x.flags&&(x.check=a(x.check,F,K,T)),B-=K,T+=K,O)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;z<16;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(N!==(65535&x.check)){C.msg="header crc mismatch",x.mode=30;break}z=N=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=12;break;case 10:for(;z<32;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}C.adler=x.check=y(N),z=N=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=R,C.avail_out=U,C.next_in=T,C.avail_in=B,x.hold=N,x.bits=z,2;C.adler=x.check=1,x.mode=12;case 12:if(k===5||k===6)break e;case 13:if(x.last){N>>>=7&z,z-=7&z,x.mode=27;break}for(;z<3;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}switch(x.last=1&N,z-=1,3&(N>>>=1)){case 0:x.mode=14;break;case 1:if(P(x),x.mode=20,k!==6)break;N>>>=2,z-=2;break e;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=30}N>>>=2,z-=2;break;case 14:for(N>>>=7&z,z-=7&z;z<32;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if((65535&N)!=(N>>>16^65535)){C.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&N,z=N=0,x.mode=15,k===6)break e;case 15:x.mode=16;case 16:if(K=x.length){if(B<K&&(K=B),U<K&&(K=U),K===0)break e;s.arraySet(S,F,T,K,R),B-=K,T+=K,U-=K,R+=K,x.length-=K;break}x.mode=12;break;case 17:for(;z<14;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(x.nlen=257+(31&N),N>>>=5,z-=5,x.ndist=1+(31&N),N>>>=5,z-=5,x.ncode=4+(15&N),N>>>=4,z-=4,286<x.nlen||30<x.ndist){C.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;z<3;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.lens[X[x.have++]]=7&N,N>>>=3,z-=3}for(;x.have<19;)x.lens[X[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,W={bits:x.lenbits},V=c(0,x.lens,0,19,x.lencode,0,x.work,W),x.lenbits=W.bits,V){C.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;he=(j=x.lencode[N&(1<<x.lenbits)-1])>>>16&255,ye=65535&j,!((ae=j>>>24)<=z);){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(ye<16)N>>>=ae,z-=ae,x.lens[x.have++]=ye;else{if(ye===16){for($=ae+2;z<$;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(N>>>=ae,z-=ae,x.have===0){C.msg="invalid bit length repeat",x.mode=30;break}O=x.lens[x.have-1],K=3+(3&N),N>>>=2,z-=2}else if(ye===17){for($=ae+3;z<$;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}z-=ae,O=0,K=3+(7&(N>>>=ae)),N>>>=3,z-=3}else{for($=ae+7;z<$;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}z-=ae,O=0,K=11+(127&(N>>>=ae)),N>>>=7,z-=7}if(x.have+K>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=30;break}for(;K--;)x.lens[x.have++]=O}}if(x.mode===30)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,W={bits:x.lenbits},V=c(l,x.lens,0,x.nlen,x.lencode,0,x.work,W),x.lenbits=W.bits,V){C.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,W={bits:x.distbits},V=c(f,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,W),x.distbits=W.bits,V){C.msg="invalid distances set",x.mode=30;break}if(x.mode=20,k===6)break e;case 20:x.mode=21;case 21:if(6<=B&&258<=U){C.next_out=R,C.avail_out=U,C.next_in=T,C.avail_in=B,x.hold=N,x.bits=z,u(C,G),R=C.next_out,S=C.output,U=C.avail_out,T=C.next_in,F=C.input,B=C.avail_in,N=x.hold,z=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;he=(j=x.lencode[N&(1<<x.lenbits)-1])>>>16&255,ye=65535&j,!((ae=j>>>24)<=z);){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(he&&(240&he)==0){for(me=ae,ve=he,Te=ye;he=(j=x.lencode[Te+((N&(1<<me+ve)-1)>>me)])>>>16&255,ye=65535&j,!(me+(ae=j>>>24)<=z);){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}N>>>=me,z-=me,x.back+=me}if(N>>>=ae,z-=ae,x.back+=ae,x.length=ye,he===0){x.mode=26;break}if(32&he){x.back=-1,x.mode=12;break}if(64&he){C.msg="invalid literal/length code",x.mode=30;break}x.extra=15&he,x.mode=22;case 22:if(x.extra){for($=x.extra;z<$;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.length+=N&(1<<x.extra)-1,N>>>=x.extra,z-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;he=(j=x.distcode[N&(1<<x.distbits)-1])>>>16&255,ye=65535&j,!((ae=j>>>24)<=z);){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if((240&he)==0){for(me=ae,ve=he,Te=ye;he=(j=x.distcode[Te+((N&(1<<me+ve)-1)>>me)])>>>16&255,ye=65535&j,!(me+(ae=j>>>24)<=z);){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}N>>>=me,z-=me,x.back+=me}if(N>>>=ae,z-=ae,x.back+=ae,64&he){C.msg="invalid distance code",x.mode=30;break}x.offset=ye,x.extra=15&he,x.mode=24;case 24:if(x.extra){for($=x.extra;z<$;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}x.offset+=N&(1<<x.extra)-1,N>>>=x.extra,z-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(U===0)break e;if(K=G-U,x.offset>K){if((K=x.offset-K)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=30;break}ue=K>x.wnext?(K-=x.wnext,x.wsize-K):x.wnext-K,K>x.length&&(K=x.length),ke=x.window}else ke=S,ue=R-x.offset,K=x.length;for(U<K&&(K=U),U-=K,x.length-=K;S[R++]=ke[ue++],--K;);x.length===0&&(x.mode=21);break;case 26:if(U===0)break e;S[R++]=x.length,U--,x.mode=21;break;case 27:if(x.wrap){for(;z<32;){if(B===0)break e;B--,N|=F[T++]<<z,z+=8}if(G-=U,C.total_out+=G,x.total+=G,G&&(C.adler=x.check=x.flags?a(x.check,S,G,R-G):o(x.check,S,G,R-G)),G=U,(x.flags?N:y(N))!==x.check){C.msg="incorrect data check",x.mode=30;break}z=N=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;z<32;){if(B===0)break e;B--,N+=F[T++]<<z,z+=8}if(N!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=30;break}z=N=0}x.mode=29;case 29:V=1;break e;case 30:V=-3;break e;case 31:return-4;case 32:default:return d}return C.next_out=R,C.avail_out=U,C.next_in=T,C.avail_in=B,x.hold=N,x.bits=z,(x.wsize||G!==C.avail_out&&x.mode<30&&(x.mode<27||k!==4))&&L(C,C.output,C.next_out,G-C.avail_out)?(x.mode=31,-4):(Y-=C.avail_in,G-=C.avail_out,C.total_in+=Y,C.total_out+=G,x.total+=G,x.wrap&&G&&(C.adler=x.check=x.flags?a(x.check,S,G,C.next_out-G):o(x.check,S,G,C.next_out-G)),C.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(Y==0&&G===0||k===4)&&V===h&&(V=-5),V)},i.inflateEnd=function(C){if(!C||!C.state)return d;var k=C.state;return k.window&&(k.window=null),C.state=null,h},i.inflateGetHeader=function(C,k){var x;return C&&C.state?(2&(x=C.state).wrap)==0?d:((x.head=k).done=!1,h):d},i.inflateSetDictionary=function(C,k){var x,F=k.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?d:x.mode===11&&o(1,k,F,0)!==x.check?-3:L(C,k,F,F)?(x.mode=31,-4):(x.havedict=1,h):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(l,f,h,d,p,m,g,y){var _,b,w,v,A,E,D,I,P,L=y.bits,C=0,k=0,x=0,F=0,S=0,T=0,R=0,B=0,U=0,N=0,z=null,Y=0,G=new s.Buf16(16),K=new s.Buf16(16),ue=null,ke=0;for(C=0;C<=15;C++)G[C]=0;for(k=0;k<d;k++)G[f[h+k]]++;for(S=L,F=15;1<=F&&G[F]===0;F--);if(F<S&&(S=F),F===0)return p[m++]=20971520,p[m++]=20971520,y.bits=1,0;for(x=1;x<F&&G[x]===0;x++);for(S<x&&(S=x),C=B=1;C<=15;C++)if(B<<=1,(B-=G[C])<0)return-1;if(0<B&&(l===0||F!==1))return-1;for(K[1]=0,C=1;C<15;C++)K[C+1]=K[C]+G[C];for(k=0;k<d;k++)f[h+k]!==0&&(g[K[f[h+k]]++]=k);if(E=l===0?(z=ue=g,19):l===1?(z=o,Y-=257,ue=a,ke-=257,256):(z=u,ue=c,-1),C=x,A=m,R=k=N=0,w=-1,v=(U=1<<(T=S))-1,l===1&&852<U||l===2&&592<U)return 1;for(;;){for(D=C-R,P=g[k]<E?(I=0,g[k]):g[k]>E?(I=ue[ke+g[k]],z[Y+g[k]]):(I=96,0),_=1<<C-R,x=b=1<<T;p[A+(N>>R)+(b-=_)]=D<<24|I<<16|P|0,b!==0;);for(_=1<<C-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,k++,--G[C]==0){if(C===F)break;C=f[h+g[k]]}if(S<C&&(N&v)!==w){for(R===0&&(R=S),A+=x,B=1<<(T=C-R);T+R<F&&!((B-=G[T+R])<=0);)T++,B<<=1;if(U+=1<<T,l===1&&852<U||l===2&&592<U)return 1;p[w=N&v]=S<<24|T<<16|A-m|0}}return N!==0&&(p[A+N]=C-R<<24|64<<16|0),y.bits=S,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function u(j){for(var H=j.length;0<=--H;)j[H]=0}var c=0,l=29,f=256,h=f+1+l,d=30,p=19,m=2*h+1,g=15,y=16,_=7,b=256,w=16,v=17,A=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(h+2));u(L);var C=new Array(2*d);u(C);var k=new Array(512);u(k);var x=new Array(256);u(x);var F=new Array(l);u(F);var S,T,R,B=new Array(d);function U(j,H,X,Q,q){this.static_tree=j,this.extra_bits=H,this.extra_base=X,this.elems=Q,this.max_length=q,this.has_stree=j&&j.length}function N(j,H){this.dyn_tree=j,this.max_code=0,this.stat_desc=H}function z(j){return j<256?k[j]:k[256+(j>>>7)]}function Y(j,H){j.pending_buf[j.pending++]=255&H,j.pending_buf[j.pending++]=H>>>8&255}function G(j,H,X){j.bi_valid>y-X?(j.bi_buf|=H<<j.bi_valid&65535,Y(j,j.bi_buf),j.bi_buf=H>>y-j.bi_valid,j.bi_valid+=X-y):(j.bi_buf|=H<<j.bi_valid&65535,j.bi_valid+=X)}function K(j,H,X){G(j,X[2*H],X[2*H+1])}function ue(j,H){for(var X=0;X|=1&j,j>>>=1,X<<=1,0<--H;);return X>>>1}function ke(j,H,X){var Q,q,te=new Array(g+1),ie=0;for(Q=1;Q<=g;Q++)te[Q]=ie=ie+X[Q-1]<<1;for(q=0;q<=H;q++){var ne=j[2*q+1];ne!==0&&(j[2*q]=ue(te[ne]++,ne))}}function ae(j){var H;for(H=0;H<h;H++)j.dyn_ltree[2*H]=0;for(H=0;H<d;H++)j.dyn_dtree[2*H]=0;for(H=0;H<p;H++)j.bl_tree[2*H]=0;j.dyn_ltree[2*b]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function he(j){8<j.bi_valid?Y(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function ye(j,H,X,Q){var q=2*H,te=2*X;return j[q]<j[te]||j[q]===j[te]&&Q[H]<=Q[X]}function me(j,H,X){for(var Q=j.heap[X],q=X<<1;q<=j.heap_len&&(q<j.heap_len&&ye(H,j.heap[q+1],j.heap[q],j.depth)&&q++,!ye(H,Q,j.heap[q],j.depth));)j.heap[X]=j.heap[q],X=q,q<<=1;j.heap[X]=Q}function ve(j,H,X){var Q,q,te,ie,ne=0;if(j.last_lit!==0)for(;Q=j.pending_buf[j.d_buf+2*ne]<<8|j.pending_buf[j.d_buf+2*ne+1],q=j.pending_buf[j.l_buf+ne],ne++,Q===0?K(j,q,H):(K(j,(te=x[q])+f+1,H),(ie=E[te])!==0&&G(j,q-=F[te],ie),K(j,te=z(--Q),X),(ie=D[te])!==0&&G(j,Q-=B[te],ie)),ne<j.last_lit;);K(j,b,H)}function Te(j,H){var X,Q,q,te=H.dyn_tree,ie=H.stat_desc.static_tree,ne=H.stat_desc.has_stree,ce=H.stat_desc.elems,Ae=-1;for(j.heap_len=0,j.heap_max=m,X=0;X<ce;X++)te[2*X]!==0?(j.heap[++j.heap_len]=Ae=X,j.depth[X]=0):te[2*X+1]=0;for(;j.heap_len<2;)te[2*(q=j.heap[++j.heap_len]=Ae<2?++Ae:0)]=1,j.depth[q]=0,j.opt_len--,ne&&(j.static_len-=ie[2*q+1]);for(H.max_code=Ae,X=j.heap_len>>1;1<=X;X--)me(j,te,X);for(q=ce;X=j.heap[1],j.heap[1]=j.heap[j.heap_len--],me(j,te,1),Q=j.heap[1],j.heap[--j.heap_max]=X,j.heap[--j.heap_max]=Q,te[2*q]=te[2*X]+te[2*Q],j.depth[q]=(j.depth[X]>=j.depth[Q]?j.depth[X]:j.depth[Q])+1,te[2*X+1]=te[2*Q+1]=q,j.heap[1]=q++,me(j,te,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],function(_e,Je){var cn,Ye,ct,Oe,qt,Tn,lt=Je.dyn_tree,Qn=Je.max_code,Di=Je.stat_desc.static_tree,Tr=Je.stat_desc.has_stree,ln=Je.stat_desc.extra_bits,er=Je.stat_desc.extra_base,Wt=Je.stat_desc.max_length,On=0;for(Oe=0;Oe<=g;Oe++)_e.bl_count[Oe]=0;for(lt[2*_e.heap[_e.heap_max]+1]=0,cn=_e.heap_max+1;cn<m;cn++)Wt<(Oe=lt[2*lt[2*(Ye=_e.heap[cn])+1]+1]+1)&&(Oe=Wt,On++),lt[2*Ye+1]=Oe,Qn<Ye||(_e.bl_count[Oe]++,qt=0,er<=Ye&&(qt=ln[Ye-er]),Tn=lt[2*Ye],_e.opt_len+=Tn*(Oe+qt),Tr&&(_e.static_len+=Tn*(Di[2*Ye+1]+qt)));if(On!==0){do{for(Oe=Wt-1;_e.bl_count[Oe]===0;)Oe--;_e.bl_count[Oe]--,_e.bl_count[Oe+1]+=2,_e.bl_count[Wt]--,On-=2}while(0<On);for(Oe=Wt;Oe!==0;Oe--)for(Ye=_e.bl_count[Oe];Ye!==0;)Qn<(ct=_e.heap[--cn])||(lt[2*ct+1]!==Oe&&(_e.opt_len+=(Oe-lt[2*ct+1])*lt[2*ct],lt[2*ct+1]=Oe),Ye--)}}(j,H),ke(te,Ae,j.bl_count)}function O(j,H,X){var Q,q,te=-1,ie=H[1],ne=0,ce=7,Ae=4;for(ie===0&&(ce=138,Ae=3),H[2*(X+1)+1]=65535,Q=0;Q<=X;Q++)q=ie,ie=H[2*(Q+1)+1],++ne<ce&&q===ie||(ne<Ae?j.bl_tree[2*q]+=ne:q!==0?(q!==te&&j.bl_tree[2*q]++,j.bl_tree[2*w]++):ne<=10?j.bl_tree[2*v]++:j.bl_tree[2*A]++,te=q,Ae=(ne=0)===ie?(ce=138,3):q===ie?(ce=6,3):(ce=7,4))}function V(j,H,X){var Q,q,te=-1,ie=H[1],ne=0,ce=7,Ae=4;for(ie===0&&(ce=138,Ae=3),Q=0;Q<=X;Q++)if(q=ie,ie=H[2*(Q+1)+1],!(++ne<ce&&q===ie)){if(ne<Ae)for(;K(j,q,j.bl_tree),--ne!=0;);else q!==0?(q!==te&&(K(j,q,j.bl_tree),ne--),K(j,w,j.bl_tree),G(j,ne-3,2)):ne<=10?(K(j,v,j.bl_tree),G(j,ne-3,3)):(K(j,A,j.bl_tree),G(j,ne-11,7));te=q,Ae=(ne=0)===ie?(ce=138,3):q===ie?(ce=6,3):(ce=7,4)}}u(B);var W=!1;function $(j,H,X,Q){G(j,(c<<1)+(Q?1:0),3),function(q,te,ie,ne){he(q),Y(q,ie),Y(q,~ie),s.arraySet(q.pending_buf,q.window,te,ie,q.pending),q.pending+=ie}(j,H,X)}i._tr_init=function(j){W||(function(){var H,X,Q,q,te,ie=new Array(g+1);for(q=Q=0;q<l-1;q++)for(F[q]=Q,H=0;H<1<<E[q];H++)x[Q++]=q;for(x[Q-1]=q,q=te=0;q<16;q++)for(B[q]=te,H=0;H<1<<D[q];H++)k[te++]=q;for(te>>=7;q<d;q++)for(B[q]=te<<7,H=0;H<1<<D[q]-7;H++)k[256+te++]=q;for(X=0;X<=g;X++)ie[X]=0;for(H=0;H<=143;)L[2*H+1]=8,H++,ie[8]++;for(;H<=255;)L[2*H+1]=9,H++,ie[9]++;for(;H<=279;)L[2*H+1]=7,H++,ie[7]++;for(;H<=287;)L[2*H+1]=8,H++,ie[8]++;for(ke(L,h+1,ie),H=0;H<d;H++)C[2*H+1]=5,C[2*H]=ue(H,5);S=new U(L,E,f+1,h,g),T=new U(C,D,0,d,g),R=new U(new Array(0),I,0,p,_)}(),W=!0),j.l_desc=new N(j.dyn_ltree,S),j.d_desc=new N(j.dyn_dtree,T),j.bl_desc=new N(j.bl_tree,R),j.bi_buf=0,j.bi_valid=0,ae(j)},i._tr_stored_block=$,i._tr_flush_block=function(j,H,X,Q){var q,te,ie=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=function(ne){var ce,Ae=4093624447;for(ce=0;ce<=31;ce++,Ae>>>=1)if(1&Ae&&ne.dyn_ltree[2*ce]!==0)return o;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return a;for(ce=32;ce<f;ce++)if(ne.dyn_ltree[2*ce]!==0)return a;return o}(j)),Te(j,j.l_desc),Te(j,j.d_desc),ie=function(ne){var ce;for(O(ne,ne.dyn_ltree,ne.l_desc.max_code),O(ne,ne.dyn_dtree,ne.d_desc.max_code),Te(ne,ne.bl_desc),ce=p-1;3<=ce&&ne.bl_tree[2*P[ce]+1]===0;ce--);return ne.opt_len+=3*(ce+1)+5+5+4,ce}(j),q=j.opt_len+3+7>>>3,(te=j.static_len+3+7>>>3)<=q&&(q=te)):q=te=X+5,X+4<=q&&H!==-1?$(j,H,X,Q):j.strategy===4||te===q?(G(j,2+(Q?1:0),3),ve(j,L,C)):(G(j,4+(Q?1:0),3),function(ne,ce,Ae,_e){var Je;for(G(ne,ce-257,5),G(ne,Ae-1,5),G(ne,_e-4,4),Je=0;Je<_e;Je++)G(ne,ne.bl_tree[2*P[Je]+1],3);V(ne,ne.dyn_ltree,ce-1),V(ne,ne.dyn_dtree,Ae-1)}(j,j.l_desc.max_code+1,j.d_desc.max_code+1,ie+1),ve(j,j.dyn_ltree,j.dyn_dtree)),ae(j),Q&&he(j)},i._tr_tally=function(j,H,X){return j.pending_buf[j.d_buf+2*j.last_lit]=H>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&H,j.pending_buf[j.l_buf+j.last_lit]=255&X,j.last_lit++,H===0?j.dyn_ltree[2*X]++:(j.matches++,H--,j.dyn_ltree[2*(x[X]+f+1)]++,j.dyn_dtree[2*z(H)]++),j.last_lit===j.lit_bufsize-1},i._tr_align=function(j){G(j,2,3),K(j,b,L),function(H){H.bi_valid===16?(Y(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(j)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var u,c,l,f,h=1,d={},p=!1,m=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,u={}.toString.call(o.process)==="[object process]"?function(w){process.nextTick(function(){_(w)})}:function(){if(o.postMessage&&!o.importScripts){var w=!0,v=o.onmessage;return o.onmessage=function(){w=!1},o.postMessage("","*"),o.onmessage=v,w}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",b,!1):o.attachEvent("onmessage",b),function(w){o.postMessage(f+w,"*")}):o.MessageChannel?((l=new MessageChannel).port1.onmessage=function(w){_(w.data)},function(w){l.port2.postMessage(w)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(w){var v=m.createElement("script");v.onreadystatechange=function(){_(w),v.onreadystatechange=null,c.removeChild(v),v=null},c.appendChild(v)}):function(w){setTimeout(_,0,w)},g.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var v=new Array(arguments.length-1),A=0;A<v.length;A++)v[A]=arguments[A+1];var E={callback:w,args:v};return d[h]=E,u(h),h++},g.clearImmediate=y}function y(w){delete d[w]}function _(w){if(p)setTimeout(_,0,w);else{var v=d[w];if(v){p=!0;try{(function(A){var E=A.callback,D=A.args;switch(D.length){case 0:E();break;case 1:E(D[0]);break;case 2:E(D[0],D[1]);break;case 3:E(D[0],D[1],D[2]);break;default:E.apply(a,D)}})(v)}finally{y(w),p=!1}}}}function b(w){w.source===o&&typeof w.data=="string"&&w.data.indexOf(f)===0&&_(+w.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Or<"u"?Or:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(qi)),qi.exports}var c1=u1();const ow=Kn(c1);var Xr={exports:{}},l1=Xr.exports,Ra;function h1(){return Ra||(Ra=1,function(t,e){(function(n,r){t.exports=r()})(l1,()=>(()=>{var n={d:(h,d)=>{for(var p in d)n.o(d,p)&&!n.o(h,p)&&Object.defineProperty(h,p,{enumerable:!0,get:d[p]})},o:(h,d)=>Object.prototype.hasOwnProperty.call(h,d)},r={};function i(h){return Array.isArray(h)?"array":h instanceof Date?"date":h instanceof Error?"error":h instanceof RegExp?"regexp":h===null?"null":typeof h=="object"&&Object.prototype.toString.call(h)==="[object Object]"?"object":typeof h}n.d(r,{default:()=>f});var s={base:o,date:o,error:o,symbol:o,string:o,number:o,boolean:o,regexp:o,null:o,undefined:o};function o(h){return h}var a={indent:" ",prefix:`
`,postfix:"",errorToString:function(h,d){return Error.prototype.toString.call(h)},dateToString:function(h){return"new Date(".concat(Date.prototype.toISOString.call(h),")")},colors:s};function u(h){return h===void 0&&(h={}),Object.assign({},a,h,{colors:Object.assign({},s,h.colors)})}function c(h,d){h===void 0&&(h=1),d===void 0&&(d="  ");for(var p="",m=0;m<h;m+=1)p+=d;return p}var l=["object","array"];function f(h,d){var p=u(d),m=p.colors,g=p.prefix,y=p.postfix,_=p.dateToString,b=p.errorToString,w=p.indent,v=new Map;function A(L,C,k){if(C===void 0&&(C=1),k===void 0&&(k=0),Object.keys(L).length===0)return" ".concat(m.base("{}"));var x=`
`,F=c(C,w);return Object.keys(L).forEach(function(S){var T=L[S],R=i(T),B=c(k,"  "),U=l.includes(R)?"":" ",N=I(T)?" ".concat(m.base("[Circular]")):D(R,T,C+1,k);x+="".concat(B).concat(F).concat(m.base("".concat(S,":"))).concat(U).concat(N,`
`)}),x.substring(0,x.length-1)}function E(L,C,k){if(C===void 0&&(C=1),k===void 0&&(k=0),L.length===0)return" ".concat(m.base("[]"));var x=`
`,F=c(C,w);return L.forEach(function(S){var T=i(S),R=c(k,"  "),B=I(S)?m.base("[Circular]"):D(T,S,C,k+1).toString().trimLeft();x+="".concat(R).concat(F).concat("".concat(m.base("-")," ")).concat(B,`
`)}),x.substring(0,x.length-1)}function D(L,C,k,x){switch(L){case"array":return E(C,k,x);case"object":return A(C,k,x);case"string":return m.string(C);case"symbol":return m.symbol(C.toString());case"number":return m.number(C);case"boolean":return m.boolean(C);case"null":return m.null("null");case"undefined":return m.undefined("undefined");case"date":return m.date(_(C));case"error":return m.error(b(C,c(k,w)));case"regexp":return m.regexp(C.toString());default:return C&&C.toString?C.toString():Object.prototype.toString.call(C)}}function I(L){return!(!["object","array"].includes(i(L))||!v.has(L)&&(v.set(L,!0),1))}var P="";return v.set(h,!0),i(h)==="object"&&Object.keys(h).length>0?P=A(h):i(h)==="array"&&h.length>0&&(P=E(h)),P.length===0?"":"".concat(g).concat(P.slice(1)).concat(y)}return r.default})())}(Xr)),Xr.exports}var f1=h1();const aw=Kn(f1),Ba={};function d1(t){let e=Ba[t];if(e)return e;e=Ba[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function Vn(t,e){typeof e!="string"&&(e=Vn.defaultChars);const n=d1(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,o=r.length;s<o;s+=3){const a=parseInt(r.slice(s+1,s+3),16);if(a<128){i+=n[a];continue}if((a&224)===192&&s+3<o){const u=parseInt(r.slice(s+4,s+6),16);if((u&192)===128){const c=a<<6&1984|u&63;c<128?i+="��":i+=String.fromCharCode(c),s+=3;continue}}if((a&240)===224&&s+6<o){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16);if((u&192)===128&&(c&192)===128){const l=a<<12&61440|u<<6&4032|c&63;l<2048||l>=55296&&l<=57343?i+="���":i+=String.fromCharCode(l),s+=6;continue}}if((a&248)===240&&s+9<o){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16),l=parseInt(r.slice(s+10,s+12),16);if((u&192)===128&&(c&192)===128&&(l&192)===128){let f=a<<18&1835008|u<<12&258048|c<<6&4032|l&63;f<65536||f>1114111?i+="����":(f-=65536,i+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),s+=9;continue}}i+="�"}return i})}Vn.defaultChars=";/?:@&=+$,#";Vn.componentChars="";const Ma={};function p1(t){let e=Ma[t];if(e)return e;e=Ma[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function Ar(t,e,n){typeof e!="string"&&(n=e,e=Ar.defaultChars),typeof n>"u"&&(n=!0);const r=p1(e);let i="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(n&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(a<128){i+=r[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const u=t.charCodeAt(s+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}Ar.defaultChars=";/?:@&=+$,-_.!~*'()#";Ar.componentChars="-_.!~*'()";function po(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function ci(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const m1=/^([a-z0-9.+-]+:)/i,g1=/:[0-9]*$/,b1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_1=["<",">",'"',"`"," ","\r",`
`,"	"],y1=["{","}","|","\\","^","`"].concat(_1),w1=["'"].concat(y1),Na=["%","/","?",";","#"].concat(w1),ja=["/","?","#"],v1=255,$a=/^[+a-z0-9A-Z_-]{0,63}$/,x1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,za={javascript:!0,"javascript:":!0},Ua={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function mo(t,e){if(t&&t instanceof ci)return t;const n=new ci;return n.parse(t,e),n}ci.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const c=b1.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let o=m1.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(o&&za[o])&&(s=s.substr(2),this.slashes=!0)),!za[o]&&(i||o&&!Ua[o])){let c=-1;for(let p=0;p<ja.length;p++)r=s.indexOf(ja[p]),r!==-1&&(c===-1||r<c)&&(c=r);let l,f;c===-1?f=s.lastIndexOf("@"):f=s.lastIndexOf("@",c),f!==-1&&(l=s.slice(0,f),s=s.slice(f+1),this.auth=l),c=-1;for(let p=0;p<Na.length;p++)r=s.indexOf(Na[p]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=s.length),s[c-1]===":"&&c--;const h=s.slice(0,c);s=s.slice(c),this.parseHost(h),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const p=this.hostname.split(/\./);for(let m=0,g=p.length;m<g;m++){const y=p[m];if(y&&!y.match($a)){let _="";for(let b=0,w=y.length;b<w;b++)y.charCodeAt(b)>127?_+="x":_+=y[b];if(!_.match($a)){const b=p.slice(0,m),w=p.slice(m+1),v=y.match(x1);v&&(b.push(v[1]),w.unshift(v[2])),w.length&&(s=w.join(".")+s),this.hostname=b.join(".");break}}}}this.hostname.length>v1&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),Ua[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};ci.prototype.parseHost=function(t){let e=g1.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const k1=Object.freeze(Object.defineProperty({__proto__:null,decode:Vn,encode:Ar,format:po,parse:mo},Symbol.toStringTag,{value:"Module"})),hf=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ff=/[\0-\x1F\x7F-\x9F]/,E1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,go=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,df=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,pf=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,A1=Object.freeze(Object.defineProperty({__proto__:null,Any:hf,Cc:ff,Cf:E1,P:go,S:df,Z:pf},Symbol.toStringTag,{value:"Module"})),S1=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(t=>t.charCodeAt(0))),C1=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(t=>t.charCodeAt(0)));var Wi;const D1=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),T1=(Wi=String.fromCodePoint)!==null&&Wi!==void 0?Wi:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function O1(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=D1.get(t))!==null&&e!==void 0?e:t}var qe;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(qe||(qe={}));const F1=32;var nn;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(nn||(nn={}));function Ls(t){return t>=qe.ZERO&&t<=qe.NINE}function I1(t){return t>=qe.UPPER_A&&t<=qe.UPPER_F||t>=qe.LOWER_A&&t<=qe.LOWER_F}function P1(t){return t>=qe.UPPER_A&&t<=qe.UPPER_Z||t>=qe.LOWER_A&&t<=qe.LOWER_Z||Ls(t)}function L1(t){return t===qe.EQUALS||P1(t)}var Ue;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ue||(Ue={}));var en;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(en||(en={}));class R1{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Ue.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=en.Strict}startEntity(e){this.decodeMode=e,this.state=Ue.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Ue.EntityStart:return e.charCodeAt(n)===qe.NUM?(this.state=Ue.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Ue.NamedEntity,this.stateNamedEntity(e,n));case Ue.NumericStart:return this.stateNumericStart(e,n);case Ue.NumericDecimal:return this.stateNumericDecimal(e,n);case Ue.NumericHex:return this.stateNumericHex(e,n);case Ue.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|F1)===qe.LOWER_X?(this.state=Ue.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Ue.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ls(i)||I1(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(Ls(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===qe.SEMI)this.consumed+=1;else if(this.decodeMode===en.Strict)return 0;return this.emitCodePoint(O1(this.result),this.consumed),this.errors&&(e!==qe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&nn.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=B1(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===en.Attribute&&(s===0||L1(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&nn.VALUE_LENGTH)>>14,s!==0){if(o===qe.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==en.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&nn.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~nn.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Ue.NamedEntity:return this.result!==0&&(this.decodeMode!==en.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ue.NumericDecimal:return this.emitNumericEntity(0,2);case Ue.NumericHex:return this.emitNumericEntity(0,3);case Ue.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ue.EntityStart:return 0}}}function mf(t){let e="";const n=new R1(t,r=>e+=T1(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(o,a),n.startEntity(s);const c=n.write(i,a+1);if(c<0){o=a+n.end();break}o=a+c,a=c===0?o+1:o}const u=e+i.slice(o);return e="",u}}function B1(t,e,n,r){const i=(e&nn.BRANCH_LENGTH)>>7,s=e&nn.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let o=n,a=o+i-1;for(;o<=a;){const u=o+a>>>1,c=t[u];if(c<r)o=u+1;else if(c>r)a=u-1;else return t[u+i]}return-1}const M1=mf(S1);mf(C1);function gf(t,e=en.Legacy){return M1(t,e)}function N1(t){return Object.prototype.toString.call(t)}function bo(t){return N1(t)==="[object String]"}const j1=Object.prototype.hasOwnProperty;function $1(t,e){return j1.call(t,e)}function ki(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function bf(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function _o(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function li(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const _f=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,z1=/&([a-z#][a-z0-9]{1,31});/gi,U1=new RegExp(_f.source+"|"+z1.source,"gi"),H1=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function q1(t,e){if(e.charCodeAt(0)===35&&H1.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return _o(r)?li(r):t}const n=gf(t);return n!==t?n:t}function W1(t){return t.indexOf("\\")<0?t:t.replace(_f,"$1")}function Gn(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(U1,function(e,n,r){return n||q1(e,r)})}const V1=/[&<>"]/,G1=/[&<>"]/g,Z1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function K1(t){return Z1[t]}function an(t){return V1.test(t)?t.replace(G1,K1):t}const J1=/[.?*+^$[\]\\(){}|-]/g;function Y1(t){return t.replace(J1,"\\$&")}function Ce(t){switch(t){case 9:case 32:return!0}return!1}function br(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function _r(t){return go.test(t)||df.test(t)}function yr(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Ei(t){return t=t.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}const X1={mdurl:k1,ucmicro:A1},Q1=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:bf,assign:ki,escapeHtml:an,escapeRE:Y1,fromCodePoint:li,has:$1,isMdAsciiPunct:yr,isPunctChar:_r,isSpace:Ce,isString:bo,isValidEntityCode:_o,isWhiteSpace:br,lib:X1,normalizeReference:Ei,unescapeAll:Gn,unescapeMd:W1},Symbol.toStringTag,{value:"Module"}));function eg(t,e,n){let r,i,s,o;const a=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}function tg(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=Gn(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let o=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(o++,o>32))return s;if(r===41){if(o===0)break;o--}i++}return e===i||o!==0||(s.str=Gn(t.slice(e,i)),s.pos=i,s.ok=!0),s}function ng(t,e,n,r){let i,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(s>=n)return o;let a=t.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return o;e++,s++,a===40&&(a=41),o.marker=a}for(;s<n;){if(i=t.charCodeAt(s),i===o.marker)return o.pos=s+1,o.str+=Gn(t.slice(e,s)),o.ok=!0,o;if(i===40&&o.marker===41)return o;i===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=Gn(t.slice(e,s)),o}const rg=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:tg,parseLinkLabel:eg,parseLinkTitle:ng},Symbol.toStringTag,{value:"Module"})),Tt={};Tt.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+an(s.content)+"</code>"};Tt.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+an(t[e].content)+`</code></pre>
`};Tt.fence=function(t,e,n,r,i){const s=t[e],o=s.info?Gn(s.info).trim():"";let a="",u="";if(o){const l=o.split(/(\s+)/g);a=l[0],u=l.slice(2).join("")}let c;if(n.highlight?c=n.highlight(s.content,a,u)||an(s.content):c=an(s.content),c.indexOf("<pre")===0)return c+`
`;if(o){const l=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[];l<0?f.push(["class",n.langPrefix+a]):(f[l]=f[l].slice(),f[l][1]+=" "+n.langPrefix+a);const h={attrs:f};return`<pre><code${i.renderAttrs(h)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${c}</code></pre>
`};Tt.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};Tt.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Tt.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Tt.text=function(t,e){return an(t[e].content)};Tt.html_block=function(t,e){return t[e].content};Tt.html_inline=function(t,e){return t[e].content};function Yn(){this.rules=ki({},Tt)}Yn.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+an(e.attrs[n][0])+'="'+an(e.attrs[n][1])+'"';return i};Yn.prototype.renderToken=function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let o=!1;if(i.block&&(o=!0,i.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(o=!1)}return s+=o?`>
`:">",s};Yn.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};Yn.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Yn.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function et(){this.__rules__=[],this.__cache__=null}et.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};et.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};et.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};et.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};et.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};et.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};et.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};et.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};et.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};et.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function bt(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}bt.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};bt.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};bt.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};bt.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};bt.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function yf(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}yf.prototype.Token=bt;const ig=/\r\n?|\n/g,sg=/\0/g;function og(t){let e;e=t.src.replace(ig,`
`),e=e.replace(sg,"�"),t.src=e}function ag(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function ug(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function cg(t){return/^<a[>\s]/i.test(t)}function lg(t){return/^<\/a\s*>/i.test(t)}function hg(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let o=i.length-1;o>=0;o--){const a=i[o];if(a.type==="link_close"){for(o--;i[o].level!==a.level&&i[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(cg(a.content)&&s>0&&s--,lg(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const u=a.content;let c=t.md.linkify.match(u);const l=[];let f=a.level,h=0;c.length>0&&c[0].index===0&&o>0&&i[o-1].type==="text_special"&&(c=c.slice(1));for(let d=0;d<c.length;d++){const p=c[d].url,m=t.md.normalizeLink(p);if(!t.md.validateLink(m))continue;let g=c[d].text;c[d].schema?c[d].schema==="mailto:"&&!/^mailto:/i.test(g)?g=t.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):g=t.md.normalizeLinkText(g):g=t.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,"");const y=c[d].index;if(y>h){const v=new t.Token("text","",0);v.content=u.slice(h,y),v.level=f,l.push(v)}const _=new t.Token("link_open","a",1);_.attrs=[["href",m]],_.level=f++,_.markup="linkify",_.info="auto",l.push(_);const b=new t.Token("text","",0);b.content=g,b.level=f,l.push(b);const w=new t.Token("link_close","a",-1);w.level=--f,w.markup="linkify",w.info="auto",l.push(w),h=c[d].lastIndex}if(h<u.length){const d=new t.Token("text","",0);d.content=u.slice(h),d.level=f,l.push(d)}e[n].children=i=bf(i,o,l)}}}}const wf=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,fg=/\((c|tm|r)\)/i,dg=/\((c|tm|r)\)/ig,pg={c:"©",r:"®",tm:"™"};function mg(t,e){return pg[e.toLowerCase()]}function gg(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(dg,mg)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function bg(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&wf.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function _g(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(fg.test(t.tokens[e].content)&&gg(t.tokens[e].children),wf.test(t.tokens[e].content)&&bg(t.tokens[e].children))}const yg=/['"]/,Ha=/['"]/g,qa="’";function zr(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function wg(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,s.type!=="text")continue;let a=s.content,u=0,c=a.length;e:for(;u<c;){Ha.lastIndex=u;const l=Ha.exec(a);if(!l)break;let f=!0,h=!0;u=l.index+1;const d=l[0]==="'";let p=32;if(l.index-1>=0)p=a.charCodeAt(l.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){p=t[n].content.charCodeAt(t[n].content.length-1);break}let m=32;if(u<c)m=a.charCodeAt(u);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){m=t[n].content.charCodeAt(0);break}const g=yr(p)||_r(String.fromCharCode(p)),y=yr(m)||_r(String.fromCharCode(m)),_=br(p),b=br(m);if(b?f=!1:y&&(_||g||(f=!1)),_?h=!1:g&&(b||y||(h=!1)),m===34&&l[0]==='"'&&p>=48&&p<=57&&(h=f=!1),f&&h&&(f=g,h=y),!f&&!h){d&&(s.content=zr(s.content,l.index,qa));continue}if(h)for(n=r.length-1;n>=0;n--){let w=r[n];if(r[n].level<o)break;if(w.single===d&&r[n].level===o){w=r[n];let v,A;d?(v=e.md.options.quotes[2],A=e.md.options.quotes[3]):(v=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=zr(s.content,l.index,A),t[w.token].content=zr(t[w.token].content,w.pos,v),u+=A.length-1,w.token===i&&(u+=v.length-1),a=s.content,c=a.length,r.length=n;continue e}}f?r.push({token:i,pos:l.index,single:d,level:o}):h&&d&&(s.content=zr(s.content,l.index,qa))}}}function vg(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!yg.test(t.tokens[e].content)||wg(t.tokens[e].children,t)}function xg(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const o=r[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const Vi=[["normalize",og],["block",ag],["inline",ug],["linkify",hg],["replacements",_g],["smartquotes",vg],["text_join",xg]];function yo(){this.ruler=new et;for(let t=0;t<Vi.length;t++)this.ruler.push(Vi[t][0],Vi[t][1])}yo.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};yo.prototype.State=yf;function Ot(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,o=0,a=0,u=0,c=i.length,l=!1;o<c;o++){const f=i.charCodeAt(o);if(!l)if(Ce(f)){a++,f===9?u+=4-u%4:u++;continue}else l=!0;(f===10||o===c-1)&&(f!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(u),this.bsCount.push(0),l=!1,a=0,u=0,s=o+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ot.prototype.push=function(t,e,n){const r=new bt(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Ot.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Ot.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Ot.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Ce(r))break}return e};Ot.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Ce(this.src.charCodeAt(--e)))return e+1;return e};Ot.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Ot.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Ot.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let u=0;const c=this.bMarks[a];let l=c,f;for(a+1<n||i?f=this.eMarks[a]+1:f=this.eMarks[a];l<f&&u<r;){const h=this.src.charCodeAt(l);if(Ce(h))h===9?u+=4-(u+this.bsCount[a])%4:u++;else if(l-c<this.tShift[a])u++;else break;l++}u>r?s[o]=new Array(u-r+1).join(" ")+this.src.slice(l,f):s[o]=this.src.slice(l,f)}return s.join("")};Ot.prototype.Token=bt;const kg=65536;function Gi(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function Wa(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,o=0,a="";for(;r<n;)i===124&&(s?(a+=t.substring(o,r-1),o=r):(e.push(a+t.substring(o,r)),a="",o=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(o)),e}function Eg(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!Ce(a)||o===45&&Ce(a))return!1;for(;s<t.eMarks[i];){const w=t.src.charCodeAt(s);if(w!==124&&w!==45&&w!==58&&!Ce(w))return!1;s++}let u=Gi(t,e+1),c=u.split("|");const l=[];for(let w=0;w<c.length;w++){const v=c[w].trim();if(!v){if(w===0||w===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;v.charCodeAt(v.length-1)===58?l.push(v.charCodeAt(0)===58?"center":"right"):v.charCodeAt(0)===58?l.push("left"):l.push("")}if(u=Gi(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=Wa(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const f=c.length;if(f===0||f!==l.length)return!1;if(r)return!0;const h=t.parentType;t.parentType="table";const d=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),m=[e,0];p.map=m;const g=t.push("thead_open","thead",1);g.map=[e,e+1];const y=t.push("tr_open","tr",1);y.map=[e,e+1];for(let w=0;w<c.length;w++){const v=t.push("th_open","th",1);l[w]&&(v.attrs=[["style","text-align:"+l[w]]]);const A=t.push("inline","",0);A.content=c[w].trim(),A.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let _,b=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let w=!1;for(let A=0,E=d.length;A<E;A++)if(d[A](t,i,n,!0)){w=!0;break}if(w||(u=Gi(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4||(c=Wa(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),b+=f-c.length,b>kg))break;if(i===e+2){const A=t.push("tbody_open","tbody",1);A.map=_=[e+2,0]}const v=t.push("tr_open","tr",1);v.map=[i,i+1];for(let A=0;A<f;A++){const E=t.push("td_open","td",1);l[A]&&(E.attrs=[["style","text-align:"+l[A]]]);const D=t.push("inline","",0);D.content=c[A]?c[A].trim():"",D.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return _&&(t.push("tbody_close","tbody",-1),_[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=h,t.line=i,!0}function Ag(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function Sg(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const o=t.src.charCodeAt(i);if(o!==126&&o!==96)return!1;let a=i;i=t.skipChars(i,o);let u=i-a;if(u<3)return!1;const c=t.src.slice(a,i),l=t.src.slice(i,s);if(o===96&&l.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let f=e,h=!1;for(;f++,!(f>=n||(i=a=t.bMarks[f]+t.tShift[f],s=t.eMarks[f],i<s&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(i)===o&&!(t.sCount[f]-t.blkIndent>=4)&&(i=t.skipChars(i,o),!(i-a<u)&&(i=t.skipSpaces(i),!(i<s)))){h=!0;break}u=t.sCount[e],t.line=f+(h?1:0);const d=t.push("fence","code",0);return d.info=l,d.content=t.getLines(e+1,f,u,!0),d.markup=c,d.map=[e,t.line],!0}function Cg(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const a=[],u=[],c=[],l=[],f=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let d=!1,p;for(p=e;p<n;p++){const b=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],s=t.eMarks[p],i>=s)break;if(t.src.charCodeAt(i++)===62&&!b){let v=t.sCount[p]+1,A,E;t.src.charCodeAt(i)===32?(i++,v++,E=!1,A=!0):t.src.charCodeAt(i)===9?(A=!0,(t.bsCount[p]+v)%4===3?(i++,v++,E=!1):E=!0):A=!1;let D=v;for(a.push(t.bMarks[p]),t.bMarks[p]=i;i<s;){const I=t.src.charCodeAt(i);if(Ce(I))I===9?D+=4-(D+t.bsCount[p]+(E?1:0))%4:D++;else break;i++}d=i>=s,u.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(A?1:0),c.push(t.sCount[p]),t.sCount[p]=D-v,l.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(d)break;let w=!1;for(let v=0,A=f.length;v<A;v++)if(f[v](t,p,n,!0)){w=!0;break}if(w){t.lineMax=p,t.blkIndent!==0&&(a.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),u.push(t.bsCount[p]),l.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const m=t.blkIndent;t.blkIndent=0;const g=t.push("blockquote_open","blockquote",1);g.markup=">";const y=[e,0];g.map=y,t.md.block.tokenize(t,e,p);const _=t.push("blockquote_close","blockquote",-1);_.markup=">",t.lineMax=o,t.parentType=h,y[1]=t.line;for(let b=0;b<l.length;b++)t.bMarks[b+e]=a[b],t.tShift[b+e]=l[b],t.sCount[b+e]=c[b],t.bsCount[b+e]=u[b];return t.blkIndent=m,!0}function Dg(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<i;){const c=t.src.charCodeAt(s++);if(c!==o&&!Ce(c))return!1;c===o&&a++}if(a<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(a+1).join(String.fromCharCode(o)),!0}function Va(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!Ce(s))return-1}return r}function Ga(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!Ce(s))?-1:i}function Tg(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function Og(t,e,n,r){let i,s,o,a,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let l=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(l=!0);let f,h,d;if((d=Ga(t,u))>=0){if(f=!0,o=t.bMarks[u]+t.tShift[u],h=Number(t.src.slice(o,d-1)),l&&h!==1)return!1}else if((d=Va(t,u))>=0)f=!1;else return!1;if(l&&t.skipSpaces(d)>=t.eMarks[u])return!1;if(r)return!0;const p=t.src.charCodeAt(d-1),m=t.tokens.length;f?(a=t.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const g=[u,0];a.map=g,a.markup=String.fromCharCode(p);let y=!1;const _=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";u<n;){s=d,i=t.eMarks[u];const w=t.sCount[u]+d-(t.bMarks[u]+t.tShift[u]);let v=w;for(;s<i;){const F=t.src.charCodeAt(s);if(F===9)v+=4-(v+t.bsCount[u])%4;else if(F===32)v++;else break;s++}const A=s;let E;A>=i?E=1:E=v-w,E>4&&(E=1);const D=w+E;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(p);const I=[u,0];a.map=I,f&&(a.info=t.src.slice(o,d-1));const P=t.tight,L=t.tShift[u],C=t.sCount[u],k=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=D,t.tight=!0,t.tShift[u]=A-t.bMarks[u],t.sCount[u]=v,A>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||y)&&(c=!1),y=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=k,t.tShift[u]=L,t.sCount[u]=C,t.tight=P,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(p),u=t.line,I[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let x=!1;for(let F=0,S=_.length;F<S;F++)if(_[F](t,u,n,!0)){x=!0;break}if(x)break;if(f){if(d=Ga(t,u),d<0)break;o=t.bMarks[u]+t.tShift[u]}else if(d=Va(t,u),d<0)break;if(p!==t.src.charCodeAt(d-1))break}return f?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(p),g[1]=u,t.line=u,t.parentType=b,c&&Tg(t,m),!0}function Fg(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function a(_){const b=t.lineMax;if(_>=b||t.isEmpty(_))return null;let w=!1;if(t.sCount[_]-t.blkIndent>3&&(w=!0),t.sCount[_]<0&&(w=!0),!w){const E=t.md.block.ruler.getRules("reference"),D=t.parentType;t.parentType="reference";let I=!1;for(let P=0,L=E.length;P<L;P++)if(E[P](t,_,b,!0)){I=!0;break}if(t.parentType=D,I)return null}const v=t.bMarks[_]+t.tShift[_],A=t.eMarks[_];return t.src.slice(v,A+1)}let u=t.src.slice(i,s+1);s=u.length;let c=-1;for(i=1;i<s;i++){const _=u.charCodeAt(i);if(_===91)return!1;if(_===93){c=i;break}else if(_===10){const b=a(o);b!==null&&(u+=b,s=u.length,o++)}else if(_===92&&(i++,i<s&&u.charCodeAt(i)===10)){const b=a(o);b!==null&&(u+=b,s=u.length,o++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<s;i++){const _=u.charCodeAt(i);if(_===10){const b=a(o);b!==null&&(u+=b,s=u.length,o++)}else if(!Ce(_))break}const l=t.md.helpers.parseLinkDestination(u,i,s);if(!l.ok)return!1;const f=t.md.normalizeLink(l.str);if(!t.md.validateLink(f))return!1;i=l.pos;const h=i,d=o,p=i;for(;i<s;i++){const _=u.charCodeAt(i);if(_===10){const b=a(o);b!==null&&(u+=b,s=u.length,o++)}else if(!Ce(_))break}let m=t.md.helpers.parseLinkTitle(u,i,s);for(;m.can_continue;){const _=a(o);if(_===null)break;u+=_,i=s,s=u.length,o++,m=t.md.helpers.parseLinkTitle(u,i,s,m)}let g;for(i<s&&p!==i&&m.ok?(g=m.str,i=m.pos):(g="",i=h,o=d);i<s;){const _=u.charCodeAt(i);if(!Ce(_))break;i++}if(i<s&&u.charCodeAt(i)!==10&&g)for(g="",i=h,o=d;i<s;){const _=u.charCodeAt(i);if(!Ce(_))break;i++}if(i<s&&u.charCodeAt(i)!==10)return!1;const y=Ei(u.slice(1,c));return y?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[y]>"u"&&(t.env.references[y]={title:g,href:f}),t.line=o),!0):!1}const Ig=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Pg="[a-zA-Z_:][a-zA-Z0-9:._-]*",Lg="[^\"'=<>`\\x00-\\x20]+",Rg="'[^']*'",Bg='"[^"]*"',Mg="(?:"+Lg+"|"+Rg+"|"+Bg+")",Ng="(?:\\s+"+Pg+"(?:\\s*=\\s*"+Mg+")?)",vf="<[A-Za-z][A-Za-z0-9\\-]*"+Ng+"*\\s*\\/?>",xf="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",jg="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",$g="<[?][\\s\\S]*?[?]>",zg="<![A-Za-z][^>]*>",Ug="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Hg=new RegExp("^(?:"+vf+"|"+xf+"|"+jg+"|"+$g+"|"+zg+"|"+Ug+")"),qg=new RegExp("^(?:"+vf+"|"+xf+")"),Ln=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Ig.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(qg.source+"\\s*$"),/^$/,!1]];function Wg(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let o=t.src.slice(i,s),a=0;for(;a<Ln.length&&!Ln[a][0].test(o);a++);if(a===Ln.length)return!1;if(r)return Ln[a][2];let u=e+1;if(!Ln[a][1].test(o)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],o=t.src.slice(i,s),Ln[a][1].test(o)){o.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}function Vg(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(i);if(o!==35||i>=s)return!1;let a=1;for(o=t.src.charCodeAt(++i);o===35&&i<s&&a<=6;)a++,o=t.src.charCodeAt(++i);if(a>6||i<s&&!Ce(o))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const u=t.skipCharsBack(s,35,i);u>i&&Ce(t.src.charCodeAt(u-1))&&(s=u),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const l=t.push("inline","",0);l.content=t.src.slice(i,s).trim(),l.map=[e,t.line],l.children=[];const f=t.push("heading_close","h"+String(a),-1);return f.markup="########".slice(0,a),!0}function Gg(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let d=t.bMarks[a]+t.tShift[a];const p=t.eMarks[a];if(d<p&&(o=t.src.charCodeAt(d),(o===45||o===61)&&(d=t.skipChars(d,o),d=t.skipSpaces(d),d>=p))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let h=!1;for(let d=0,p=r.length;d<p;d++)if(r[d](t,a,n,!0)){h=!0;break}if(h)break}if(!s)return!1;const u=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const l=t.push("inline","",0);l.content=u,l.map=[e,t.line-1],l.children=[];const f=t.push("heading_close","h"+String(s),-1);return f.markup=String.fromCharCode(o),t.parentType=i,!0}function Zg(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let c=!1;for(let l=0,f=r.length;l<f;l++)if(r[l](t,s,n,!0)){c=!0;break}if(c)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const u=t.push("inline","",0);return u.content=o,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const Ur=[["table",Eg,["paragraph","reference"]],["code",Ag],["fence",Sg,["paragraph","reference","blockquote","list"]],["blockquote",Cg,["paragraph","reference","blockquote","list"]],["hr",Dg,["paragraph","reference","blockquote","list"]],["list",Og,["paragraph","reference","blockquote"]],["reference",Fg],["html_block",Wg,["paragraph","reference","blockquote"]],["heading",Vg,["paragraph","reference","blockquote"]],["lheading",Gg],["paragraph",Zg]];function Ai(){this.ruler=new et;for(let t=0;t<Ur.length;t++)this.ruler.push(Ur[t][0],Ur[t][1],{alt:(Ur[t][2]||[]).slice()})}Ai.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const u=t.line;let c=!1;for(let l=0;l<i;l++)if(c=r[l](t,o,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};Ai.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};Ai.prototype.State=Ot;function Sr(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Sr.prototype.pushPending=function(){const t=new bt("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Sr.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new bt(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};Sr.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const o=s-t,a=s<n?this.src.charCodeAt(s):32,u=yr(i)||_r(String.fromCharCode(i)),c=yr(a)||_r(String.fromCharCode(a)),l=br(i),f=br(a),h=!f&&(!c||l||u),d=!l&&(!u||f||c);return{can_open:h&&(e||!d||u),can_close:d&&(e||!h||c),length:o}};Sr.prototype.Token=bt;function Kg(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Jg(t,e){let n=t.pos;for(;n<t.posMax&&!Kg(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const Yg=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Xg(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(Yg);if(!i)return!1;const s=i[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const u=t.md.normalizeLink(a);if(!t.md.validateLink(u))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const c=t.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(a);const f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=a.length-s.length,!0}function Qg(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Ce(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const wo=[];for(let t=0;t<256;t++)wo.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){wo[t.charCodeAt(0)]=1});function eb(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Ce(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);i<256&&wo[i]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function tb(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(i,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=i)return e||(t.pending+=o),t.pos+=a,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<s&&t.src.charCodeAt(u)===96;)u++;const l=u-c;if(l===a){if(!e){const f=t.push("code_inline","code",0);f.markup=o,f.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[l]=c}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function nb(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const o=String.fromCharCode(r);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let u=0;u<s;u+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function Za(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&r.push(a.token-1)}for(;r.length;){const s=r.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}function rb(t){const e=t.tokens_meta,n=t.tokens_meta.length;Za(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Za(t,e[r].delimiters)}const kf={tokenize:nb,postProcess:rb};function ib(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function Ka(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],o=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,a=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?a+a:a,u.content="";const c=t.tokens[s.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?a+a:a,c.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function sb(t){const e=t.tokens_meta,n=t.tokens_meta.length;Ka(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Ka(t,e[r].delimiters)}const Ef={tokenize:ib,postProcess:sb};function ob(t,e){let n,r,i,s,o="",a="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const l=t.pos,f=t.posMax,h=t.pos+1,d=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(d<0)return!1;let p=d+1;if(p<f&&t.src.charCodeAt(p)===40){for(c=!1,p++;p<f&&(n=t.src.charCodeAt(p),!(!Ce(n)&&n!==10));p++);if(p>=f)return!1;if(u=p,i=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),i.ok){for(o=t.md.normalizeLink(i.str),t.md.validateLink(o)?p=i.pos:o="",u=p;p<f&&(n=t.src.charCodeAt(p),!(!Ce(n)&&n!==10));p++);if(i=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<f&&u!==p&&i.ok)for(a=i.str,p=i.pos;p<f&&(n=t.src.charCodeAt(p),!(!Ce(n)&&n!==10));p++);}(p>=f||t.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof t.env.references>"u")return!1;if(p<f&&t.src.charCodeAt(p)===91?(u=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?r=t.src.slice(u,p++):p=d+1):p=d+1,r||(r=t.src.slice(h,d)),s=t.env.references[Ei(r)],!s)return t.pos=l,!1;o=s.href,a=s.title}if(!e){t.pos=h,t.posMax=d;const m=t.push("link_open","a",1),g=[["href",o]];m.attrs=g,a&&g.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=p,t.posMax=f,!0}function ab(t,e){let n,r,i,s,o,a,u,c,l="";const f=t.pos,h=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const d=t.pos+2,p=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(p<0)return!1;if(s=p+1,s<h&&t.src.charCodeAt(s)===40){for(s++;s<h&&(n=t.src.charCodeAt(s),!(!Ce(n)&&n!==10));s++);if(s>=h)return!1;for(c=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(l=t.md.normalizeLink(a.str),t.md.validateLink(l)?s=a.pos:l=""),c=s;s<h&&(n=t.src.charCodeAt(s),!(!Ce(n)&&n!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<h&&c!==s&&a.ok)for(u=a.str,s=a.pos;s<h&&(n=t.src.charCodeAt(s),!(!Ce(n)&&n!==10));s++);else u="";if(s>=h||t.src.charCodeAt(s)!==41)return t.pos=f,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<h&&t.src.charCodeAt(s)===91?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(c,s++):s=p+1):s=p+1,i||(i=t.src.slice(d,p)),o=t.env.references[Ei(i)],!o)return t.pos=f,!1;l=o.href,u=o.title}if(!e){r=t.src.slice(d,p);const m=[];t.md.inline.parse(r,t.md,t.env,m);const g=t.push("image","img",0),y=[["src",l],["alt",""]];g.attrs=y,g.children=m,g.content=r,u&&y.push(["title",u])}return t.pos=s,t.posMax=h,!0}const ub=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,cb=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function lb(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(r+1,n);if(cb.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}if(ub.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}return!1}function hb(t){return/^<a[>\s]/i.test(t)}function fb(t){return/^<\/a\s*>/i.test(t)}function db(t){const e=t|32;return e>=97&&e<=122}function pb(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!db(i))return!1;const s=t.src.slice(r).match(Hg);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],hb(o.content)&&t.linkLevel++,fb(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const mb=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,gb=/^&([a-z][a-z0-9]{1,31});/i;function bb(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(mb);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=_o(o)?li(o):li(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(gb);if(s){const o=gf(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function Ja(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let o=0;o<n;o++){const a=t[o];if(s.push(0),(t[r].marker!==a.marker||i!==a.token-1)&&(r=o),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[a.marker][(a.open?3:0)+a.length%3];let c=r-s[r]-1,l=c;for(;c>u;c-=s[c]+1){const f=t[c];if(f.marker===a.marker&&f.open&&f.end<0){let h=!1;if((f.close||a.open)&&(f.length+a.length)%3===0&&(f.length%3!==0||a.length%3!==0)&&(h=!0),!h){const d=c>0&&!t[c-1].open?s[c-1]+1:0;s[o]=o-c+d,s[c]=d,a.open=!1,f.end=o,f.close=!1,l=-1,i=-2;break}}}l!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=l)}}function _b(t){const e=t.tokens_meta,n=t.tokens_meta.length;Ja(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&Ja(e[r].delimiters)}function yb(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const Zi=[["text",Jg],["linkify",Xg],["newline",Qg],["escape",eb],["backticks",tb],["strikethrough",kf.tokenize],["emphasis",Ef.tokenize],["link",ob],["image",ab],["autolink",lb],["html_inline",pb],["entity",bb]],Ki=[["balance_pairs",_b],["strikethrough",kf.postProcess],["emphasis",Ef.postProcess],["fragments_join",yb]];function Cr(){this.ruler=new et;for(let t=0;t<Zi.length;t++)this.ruler.push(Zi[t][0],Zi[t][1]);this.ruler2=new et;for(let t=0;t<Ki.length;t++)this.ruler2.push(Ki[t][0],Ki[t][1])}Cr.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<i){for(let a=0;a<r;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};Cr.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let o=!1;if(t.level<i){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Cr.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](i)};Cr.prototype.State=Sr;function wb(t){const e={};t=t||{},e.src_Any=hf.source,e.src_Cc=ff.source,e.src_Z=pf.source,e.src_P=go.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><｜]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function Rs(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Si(t){return Object.prototype.toString.call(t)}function vb(t){return Si(t)==="[object String]"}function xb(t){return Si(t)==="[object Object]"}function kb(t){return Si(t)==="[object RegExp]"}function Ya(t){return Si(t)==="[object Function]"}function Eb(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Af={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ab(t){return Object.keys(t||{}).reduce(function(e,n){return e||Af.hasOwnProperty(n)},!1)}const Sb={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Cb="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Db="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Tb(t){t.__index__=-1,t.__text_cache__=""}function Ob(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function Xa(){return function(t,e){e.normalize(t)}}function hi(t){const e=t.re=wb(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(Cb),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,u){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+u)}Object.keys(t.__schemas__).forEach(function(a){const u=t.__schemas__[a];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,xb(u)){kb(u.validate)?c.validate=Ob(u.validate):Ya(u.validate)?c.validate=u.validate:s(a,u),Ya(u.normalize)?c.normalize=u.normalize:u.normalize?s(a,u):c.normalize=Xa();return}if(vb(u)){i.push(a);return}s(a,u)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:Xa()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(Eb).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),Tb(t)}function Fb(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function Bs(t,e){const n=new Fb(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function it(t,e){if(!(this instanceof it))return new it(t,e);e||Ab(t)&&(e=t,t={}),this.__opts__=Rs({},Af,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Rs({},Sb,t),this.__compiled__={},this.__tlds__=Db,this.__tlds_replaced__=!1,this.re={},hi(this)}it.prototype.add=function(e,n){return this.__schemas__[e]=n,hi(this),this};it.prototype.set=function(e){return this.__opts__=Rs(this.__opts__,e),this};it.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,u,c,l;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};it.prototype.pretest=function(e){return this.re.pretest.test(e)};it.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};it.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(Bs(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(Bs(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};it.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Bs(this,0)):null};it.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),hi(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,hi(this),this)};it.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};it.prototype.onCompile=function(){};const Un=2147483647,St=36,vo=1,wr=26,Ib=38,Pb=700,Sf=72,Cf=128,Df="-",Lb=/^xn--/,Rb=/[^\0-\x7F]/,Bb=/[\x2E\u3002\uFF0E\uFF61]/g,Mb={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ji=St-vo,Ct=Math.floor,Yi=String.fromCharCode;function Xt(t){throw new RangeError(Mb[t])}function Nb(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function Tf(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(Bb,".");const i=t.split("."),s=Nb(i,e).join(".");return r+s}function Of(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const jb=t=>String.fromCodePoint(...t),$b=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:St},Qa=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Ff=function(t,e,n){let r=0;for(t=n?Ct(t/Pb):t>>1,t+=Ct(t/e);t>Ji*wr>>1;r+=St)t=Ct(t/Ji);return Ct(r+(Ji+1)*t/(t+Ib))},If=function(t){const e=[],n=t.length;let r=0,i=Cf,s=Sf,o=t.lastIndexOf(Df);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&Xt("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const u=r;for(let l=1,f=St;;f+=St){a>=n&&Xt("invalid-input");const h=$b(t.charCodeAt(a++));h>=St&&Xt("invalid-input"),h>Ct((Un-r)/l)&&Xt("overflow"),r+=h*l;const d=f<=s?vo:f>=s+wr?wr:f-s;if(h<d)break;const p=St-d;l>Ct(Un/p)&&Xt("overflow"),l*=p}const c=e.length+1;s=Ff(r-u,c,u==0),Ct(r/c)>Un-i&&Xt("overflow"),i+=Ct(r/c),r%=c,e.splice(r++,0,i)}return String.fromCodePoint(...e)},Pf=function(t){const e=[];t=Of(t);const n=t.length;let r=Cf,i=0,s=Sf;for(const u of t)u<128&&e.push(Yi(u));const o=e.length;let a=o;for(o&&e.push(Df);a<n;){let u=Un;for(const l of t)l>=r&&l<u&&(u=l);const c=a+1;u-r>Ct((Un-i)/c)&&Xt("overflow"),i+=(u-r)*c,r=u;for(const l of t)if(l<r&&++i>Un&&Xt("overflow"),l===r){let f=i;for(let h=St;;h+=St){const d=h<=s?vo:h>=s+wr?wr:h-s;if(f<d)break;const p=f-d,m=St-d;e.push(Yi(Qa(d+p%m,0))),f=Ct(p/m)}e.push(Yi(Qa(f,0))),s=Ff(i,c,a===o),i=0,++a}++i,++r}return e.join("")},zb=function(t){return Tf(t,function(e){return Lb.test(e)?If(e.slice(4).toLowerCase()):e})},Ub=function(t){return Tf(t,function(e){return Rb.test(e)?"xn--"+Pf(e):e})},Lf={version:"2.3.1",ucs2:{decode:Of,encode:jb},decode:If,encode:Pf,toASCII:Ub,toUnicode:zb},Hb={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},qb={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Wb={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Vb={default:Hb,zero:qb,commonmark:Wb},Gb=/^(vbscript|javascript|file|data):/,Zb=/^data:image\/(gif|png|jpeg|webp);/;function Kb(t){const e=t.trim().toLowerCase();return Gb.test(e)?Zb.test(e):!0}const Rf=["http:","https:","mailto:"];function Jb(t){const e=mo(t,!0);if(e.hostname&&(!e.protocol||Rf.indexOf(e.protocol)>=0))try{e.hostname=Lf.toASCII(e.hostname)}catch{}return Ar(po(e))}function Yb(t){const e=mo(t,!0);if(e.hostname&&(!e.protocol||Rf.indexOf(e.protocol)>=0))try{e.hostname=Lf.toUnicode(e.hostname)}catch{}return Vn(po(e),Vn.defaultChars+"%")}function gt(t,e){if(!(this instanceof gt))return new gt(t,e);e||bo(t)||(e=t||{},t="default"),this.inline=new Cr,this.block=new Ai,this.core=new yo,this.renderer=new Yn,this.linkify=new it,this.validateLink=Kb,this.normalizeLink=Jb,this.normalizeLinkText=Yb,this.utils=Q1,this.helpers=ki({},rg),this.options={},this.configure(t),e&&this.set(e)}gt.prototype.set=function(t){return ki(this.options,t),this};gt.prototype.configure=function(t){const e=this;if(bo(t)){const n=t;if(t=Vb[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};gt.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};gt.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};gt.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};gt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};gt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};gt.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};gt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var Xi,eu;function Xb(){if(eu)return Xi;eu=1;function t(e,n){n=n||{};let r=typeof n.externalClassName=="string"||n.externalClassName===null?n.externalClassName:"external-link",i=typeof n.internalClassName=="string"||n.internalClassName===null?n.internalClassName:null,s=Array.isArray(n.internalDomains)?n.internalDomains.map(d=>d.toLowerCase()):[],o=n.externalTarget||"_self",a=n.internalTarget||"_self",u=n.externalRel||null,c=n.internalRel||null;if(r===null&&i===null&&o==="_self"&&a==="_self"&&u===null&&c===null)return;function l(d){function p(m){if(m.children&&m.children.map(p),m.type==="link_open"){let g=m.attrGet("href"),y=f(g),_=y?i:r;if(_){let v=m.attrGet("class")||"";v!==""&&(_=v+" "+_),m.attrSet("class",_)}let b=y?a:o;b!=="_self"&&m.attrSet("target",b);let w=y?c:u;if(w){let v=m.attrGet("rel")||"";v!==""&&(w=v+" "+w),m.attrSet("rel",w)}}}d.tokens.map(p)}function f(d){let p=h(d);return p===null||s.indexOf(p)!==-1}function h(d){let p=d.split("//")[1];return p?(p=p.split("/")[0].toLowerCase(),p||null):null}e.core.ruler.push("external_links",l)}return Xi=t,Xi}var Qb=Xb();const uw=Kn(Qb),wn=Nn.room;Pe(null);const ge=xe({pub:Dt("current-room",wn.pub),isRoot:pe(()=>ge.pub==wn.pub),hosts:{},features:{},profile:{}});Ys(()=>{const t=Le();ge.pub==wn.pub?(ge.hosts=wn.hosts,ge.features=wn.features):(ge.features={},ge.hosts={},t.user(ge.pub).get("hosts").map().once((e,n)=>{ge.hosts[n]=e}),t.user(ge.pub).get("features").map().once((e,n)=>{ge.features[n]=e}))});function cw(t=ge.pub){const e=xe({pub:t,isFavourite:!1,isRoot:pe(()=>t==wn.pub),hosts:{},features:{},profile:{}}),n=Le(),{user:r}=Dn();return n.user(t).get("profile").map().on((i,s)=>{e.profile[s]=i}),n.user(t).get("hosts").map().once((i,s)=>{e.hosts[s]=i}),n.user(t).get("features").map().once((i,s)=>{e.features[s]=i}),n.user().get("rooms").get(`${t}@${r==null?void 0:r.pub}`).on(i=>{e.isFavourite=i}),{room:e,submitRoom:t_,enterRoom:n_,createRoom:Bf,leaveRoom:r_,updateRoomProfile:e_}}function e_(t,e){var s,o;const n=Le(),{user:r}=Dn();let i=(o=(s=ge.hosts)==null?void 0:s[r.pub])==null?void 0:o.profile;if(!i){console.warn("Profile certificate not found");return}n.user(ge.pub).get("profile").get(t).put(e,null,{opt:{cert:i}})}async function Bf({pair:t,name:e,featureList:n=Object.keys(Nn==null?void 0:Nn.features),publish:r=!0}={}){var h;const{user:i}=Dn();if(!t)return;const s=t.pub,o=await Sa({pair:t,list:[{tag:"profile",users:[i.pub]},{tag:"features",users:[i.pub]},{tag:"hosts",users:[i.pub]}]}),a=await Sa({pair:t,list:n.map(d=>({tag:d,personal:!0}))}),u=await i.encrypt(t),c=await i.encrypt(s),l={...Nn,relay:Ie.peer,room:{pub:t.pub,hosts:{[i.pub]:{enc:u,...o}},features:a}};console.log("COPY THIS ROOM INFO TO USE IT AS A ROOT",l,"STORE THIS KEY PAIR IN A SAFE PLACE",t);const f=Le();await f.user().get("rooms").get(`${s}@${i.pub}`).put(!0).then(),await f.user().get("my_rooms").get(c).put(u).then(),await f.user(s).get("hosts").get(i.pub).put({enc:u,...o},null,{opt:{cert:o.hosts}}).then(),await f.user(s).get("features").put(a,null,{opt:{cert:o.features}}).then(),e&&await f.user(s).get("profile").put({name:e},null,{opt:{cert:o.profile}}).then(),r&&await f.user(ge.pub).get("rooms").get(`${s}@${i.pub}`).put(!0,null,{opt:{cert:(h=ge==null?void 0:ge.features)==null?void 0:h.rooms}}).then(),Ia(JSON.stringify(l),"application/json","gun.config.json"),Ia(JSON.stringify(t),"application/json",`room_${e||s}.webkey`)}async function lw(t,e){const n=await Se.decrypt(t);Bf({pair:n,name:e})}async function t_(t){var r;const e=Le(),n=await e.user(ge.pub).get("rooms").get(`${t}@${Se.pub}`).then();e.user(ge.pub).get("rooms").get(`${t}@${Se.pub}`).put(!n,null,{opt:{cert:(r=ge.features)==null?void 0:r.rooms}})}function n_(t){ge.pub=t}function r_(){ge.pub=wn.pub}var Qi,Rn,i_={61:()=>{},405:t=>{t.exports=async function*(e){for(let n of e)typeof n=="function"&&(n=n()),yield*n}},580:t=>{var e=/["'&<>]/;t.exports=function(n){var r,i=""+n,s=e.exec(i);if(!s)return i;var o="",a=0,u=0;for(a=s.index;a<i.length;a++){switch(i.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}u!==a&&(o+=i.substring(u,a)),u=a+1,o+=r}return u!==a?o+i.substring(u,a):o}},717:(t,e,n)=>{n.r(e),n.d(e,{addListener:()=>h,argv:()=>a,binding:()=>D,browser:()=>s,chdir:()=>I,cwd:()=>A,emit:()=>y,env:()=>o,listeners:()=>v,nextTick:()=>w,off:()=>p,on:()=>f,once:()=>d,prependListener:()=>_,prependOnceListener:()=>b,removeAllListeners:()=>g,removeListener:()=>m,title:()=>i,umask:()=>E,version:()=>u,versions:()=>c});var r=n(9596);const i="browser",s=!0,o={},a=[],u="",c={};function l(){}const f=l,h=l,d=l,p=l,m=l,g=l,y=l,_=l,b=l,w=(P,...L)=>r(()=>P(...L)),v=P=>[],A=()=>"/",E=()=>0,D=P=>{throw new Error("process.binding is not supported")},I=P=>{throw new Error("process.chdir is not supported")}},736:(t,e,n)=>{t.exports=function(r){function i(a){let u,c,l,f=null;function h(...d){if(!h.enabled)return;const p=h,m=Number(new Date),g=m-(u||m);p.diff=g,p.prev=u,p.curr=m,u=m,d[0]=i.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let y=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(_,b)=>{if(_==="%%")return"%";y++;const w=i.formatters[b];if(typeof w=="function"){const v=d[y];_=w.call(p,v),d.splice(y,1),y--}return _}),i.formatArgs.call(p,d),(p.log||i.log).apply(p,d)}return h.namespace=a,h.useColors=i.useColors(),h.color=i.selectColor(a),h.extend=s,h.destroy=i.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(c!==i.namespaces&&(c=i.namespaces,l=i.enabled(a)),l),set:d=>{f=d}}),typeof i.init=="function"&&i.init(h),h}function s(a,u){const c=i(this.namespace+(u===void 0?":":u)+a);return c.log=this.log,c}function o(a,u){let c=0,l=0,f=-1,h=0;for(;c<a.length;)if(l<u.length&&(u[l]===a[c]||u[l]==="*"))u[l]==="*"?(f=l,h=c,l++):(c++,l++);else{if(f===-1)return!1;l=f+1,h++,c=h}for(;l<u.length&&u[l]==="*";)l++;return l===u.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(u=>"-"+u)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const u=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const c of u)c[0]==="-"?i.skips.push(c.slice(1)):i.names.push(c)},i.enabled=function(a){for(const u of i.skips)if(o(a,u))return!1;for(const u of i.names)if(o(a,u))return!0;return!1},i.humanize=n(6585),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(r).forEach(a=>{i[a]=r[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let u=0;for(let c=0;c<a.length;c++)u=(u<<5)-u+a.charCodeAt(c),u|=0;return i.colors[Math.abs(u)%i.colors.length]},i.enable(i.load()),i}},815:(t,e,n)=>{var r,i=n(717),s=n(3519),o=n(6611);try{r=n(2376)}catch{}var a=function(){},u=/^v?\.0/.test(i.version),c=function(d){return typeof d=="function"},l=function(d,p,m,g){g=s(g);var y=!1;d.on("close",function(){y=!0}),o(d,{readable:p,writable:m},function(b){if(b)return g(b);y=!0,g()});var _=!1;return function(b){if(!y&&!_)return _=!0,function(w){return!!u&&!!r&&(w instanceof(r.ReadStream||a)||w instanceof(r.WriteStream||a))&&c(w.close)}(d)?d.close(a):function(w){return w.setHeader&&c(w.abort)}(d)?d.abort():c(d.destroy)?d.destroy():void g(b||new Error("stream was destroyed"))}},f=function(d){d()},h=function(d,p){return d.pipe(p)};t.exports=function(){var d,p=Array.prototype.slice.call(arguments),m=c(p[p.length-1]||a)&&p.pop()||a;if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new Error("pump requires two streams per minimum");var g=p.map(function(y,_){var b=_<p.length-1;return l(y,b,_>0,function(w){d||(d=w),w&&g.forEach(f),b||(g.forEach(f),m(d))})});return p.reduce(h)}},826:()=>{},988:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(9639);function i(m){const g=m<0?1:0;return m=Math.abs(Number(m||1)),Math.floor(Math.log10(m))+1+g}function s(m){return ArrayBuffer.isView(m)?"arraybufferview":Array.isArray(m)?"array":m instanceof Number?"number":m instanceof Boolean?"boolean":m instanceof Set?"set":m instanceof Map?"map":m instanceof String?"string":m instanceof ArrayBuffer?"arraybuffer":typeof m}function o(m,g,y){const _=[];let b=null;return o._encode(_,m),b=(0,r.xW)(_),o.bytes=b.length,ArrayBuffer.isView(g)?(g.set(b,y),g):b}o.bytes=-1,o._floatConversionDetected=!1,o._encode=function(m,g){if(g!=null)switch(s(g)){case"object":o.dict(m,g);break;case"map":o.dictMap(m,g);break;case"array":o.list(m,g);break;case"set":o.listSet(m,g);break;case"string":o.string(m,g);break;case"number":case"boolean":o.number(m,g);break;case"arraybufferview":o.buffer(m,new Uint8Array(g.buffer,g.byteOffset,g.byteLength));break;case"arraybuffer":o.buffer(m,new Uint8Array(g))}};const a=new Uint8Array([101]),u=new Uint8Array([100]),c=new Uint8Array([108]);o.buffer=function(m,g){m.push((0,r.L0)(g.length+":"),g)},o.string=function(m,g){m.push((0,r.L0)((0,r.L0)(g).byteLength+":"+g))},o.number=function(m,g){if(Number.isInteger(g))return m.push((0,r.L0)("i"+BigInt(g)+"e"));const y=2147483648,_=(g/y|0)*y+(g%y|0);m.push((0,r.L0)("i"+_+"e")),_===g||o._floatConversionDetected||(o._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+g+'":','Bencoding only defines support for integers, value was converted to "'+_+'"'),console.trace())},o.dict=function(m,g){m.push(u);let y,_=0;const b=Object.keys(g).sort(),w=b.length;for(;_<w;_++)y=b[_],g[y]!=null&&(o.string(m,y),o._encode(m,g[y]));m.push(a)},o.dictMap=function(m,g){m.push(u);const y=Array.from(g.keys()).sort();for(const _ of y)g.get(_)!=null&&(ArrayBuffer.isView(_)?o._encode(m,_):o.string(m,String(_)),o._encode(m,g.get(_)));m.push(a)},o.list=function(m,g){let y=0;const _=g.length;for(m.push(c);y<_;y++)g[y]!=null&&o._encode(m,g[y]);m.push(a)},o.listSet=function(m,g){m.push(c);for(const y of g)y!=null&&o._encode(m,y);m.push(a)};const l=o;function f(m,g,y){let _=0,b=1;for(let w=g;w<y;w++){const v=m[w];if(v<58&&v>=48)_=10*_+(v-48);else if(w!==g||v!==43){if(w!==g||v!==45){if(v===46)break;throw new Error("not a number: buffer["+w+"] = "+v)}b=-1}}return _*b}function h(m,g,y,_){return m==null||m.length===0?null:(typeof g!="number"&&_==null&&(_=g,g=void 0),typeof y!="number"&&_==null&&(_=y,y=void 0),h.position=0,h.encoding=_||null,h.data=ArrayBuffer.isView(m)?new Uint8Array(m.slice(g,y)):(0,r.L0)(m),h.bytes=h.data.length,h.next())}h.bytes=0,h.position=0,h.data=null,h.encoding=null,h.next=function(){switch(h.data[h.position]){case 100:return h.dictionary();case 108:return h.list();case 105:return h.integer();default:return h.buffer()}},h.find=function(m){let g=h.position;const y=h.data.length,_=h.data;for(;g<y;){if(_[g]===m)return g;g++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(m)+'" [0x'+m.toString(16)+"]")},h.dictionary=function(){h.position++;const m={};for(;h.data[h.position]!==101;){const g=h.buffer();let y=(0,r.dU)(g);y.includes("�")&&(y=(0,r.V5)(g)),m[y]=h.next()}return h.position++,m},h.list=function(){h.position++;const m=[];for(;h.data[h.position]!==101;)m.push(h.next());return h.position++,m},h.integer=function(){const m=h.find(101),g=f(h.data,h.position+1,m);return h.position+=m+1-h.position,g},h.buffer=function(){let m=h.find(58);const g=f(h.data,h.position,m),y=++m+g;return h.position=y,h.encoding?(0,r.dU)(h.data.slice(m,y)):h.data.slice(m,y)};function d(m){if(m==null)return 0;const g=s(m);switch(g){case"arraybufferview":return function(y){const _=y.byteLength-y.byteOffset;return i(_)+1+_}(m);case"string":return function(y){const _=(0,r.L0)(y).byteLength;return i(_)+1+_}(m);case"array":case"set":return function(y){let _=2;for(const b of y)_+=d(b);return _}(m);case"number":return 1+i(Math.floor(m))+1;case"bigint":return 1+m.toString().length+1;case"object":return function(y){let _=2;const b=Object.keys(y);for(let w=0;w<b.length;w++){const v=(0,r.L0)(b[w]).byteLength;_+=i(v)+1+v,_+=d(y[b[w]])}return _}(m);case"map":return function(y){let _=2;for(const[b,w]of y){const v=(0,r.L0)(b).byteLength;_+=i(v)+1+v,_+=d(w)}return _}(m);default:throw new TypeError(`Unsupported value of type "${g}"`)}}const p={encode:l,decode:h,byteLength:d,encodingLength:d}},1035:t=>{function e(n){return(+Date.now()-n)/100&65535}t.exports=function(n){const r=+Date.now(),i=10*(n||5),s=[0];let o=1,a=e(r)-1&65535;return function(u){const c=e(r);let l=c-a&65535;for(l>i&&(l=i),a=c;l--;)o===i&&(o=0),s[o]=s[o===0?i-1:o-1],o++;u&&(s[o-1]+=u);const f=s[o-1],h=s.length<i?0:s[o===i?0:o];return s.length<10?f:10*(f-h)/s.length}}},1133:(t,e,n)=>{let r=n(8673);t.exports=new r(n(8446))},1314:t=>{t.exports=function(e,n){if(!(n>=e.length||n<0)){var r=e.pop();if(n<e.length){var i=e[n];return e[n]=r,i}return r}}},1467:t=>{function e(n,r){if(typeof n[0]=="string")return n.join("");if(typeof n[0]=="number")return new Uint8Array(n);const i=new Uint8Array(r);let s=0;for(let o=0,a=n.length;o<a;o++){const u=n[o];i.set(u,s),s+=u.byteLength||u.length}return i}t.exports=async function*(n,r=512,i={}){typeof r=="object"&&(r=(i=r).size);let{nopad:s,zeroPadding:o=!0}=i;s&&(o=!1);let a=[],u=0;for await(const c of n)if(u+=c.byteLength||c.length||1,a.push(c),u>=r){const l=e(a,u);let f=0;for(;u>=r;)yield l.slice(f,f+r),u-=r,f+=r;a=[l.slice(f,l.length)]}u&&(yield e(a,o?r:u))}},1551:()=>{},1827:()=>{},2072:t=>{t.exports={wait:function(e){return new Promise(n=>setTimeout(n,e))}}},2123:()=>{},2376:()=>{},2532:()=>{},2701:()=>{},2799:()=>{},2878:t=>{function e(s,o){return{start:s.start,end:s.end,index:o}}function n(s){return{start:s.start,end:s.end}}function r(s,o){return s.index-o.index}function i(s,o){return s.start-o.start}t.exports=function(s,o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");var u=o.indexOf("=");if(u===-1)return-2;var c=o.slice(u+1).split(","),l=[];l.type=o.slice(0,u);for(var f=0;f<c.length;f++){var h=c[f].split("-"),d=parseInt(h[0],10),p=parseInt(h[1],10);isNaN(d)?(d=s-p,p=s-1):isNaN(p)&&(p=s-1),p>s-1&&(p=s-1),isNaN(d)||isNaN(p)||d>p||d<0||l.push({start:d,end:p})}return l.length<1?-1:a&&a.combine?function(m){for(var g=m.map(e).sort(i),y=0,_=1;_<g.length;_++){var b=g[_],w=g[y];b.start>w.end+1?g[++y]=b:b.end>w.end&&(w.end=b.end,w.index=Math.min(w.index,b.index))}g.length=y+1;var v=g.sort(r).map(n);return v.type=m.type,v}(l):l}},3033:(t,e,n)=>{function r(s){return(s>>3)+ +(s%8!=0)}n.d(e,{A:()=>i});class i{get length(){return this.buffer.length<<3}constructor(o=0,a){const u=a==null?void 0:a.grow;this.grow=u?Number.isFinite(u)?r(u):u:0,this.buffer=typeof o=="number"?new Uint8Array(r(o)):o}get(o){const a=o>>3;return a<this.buffer.length&&!!(this.buffer[a]&128>>o%8)}set(o,a=!0){const u=o>>3;if(a){if(u>=this.buffer.length){const c=Math.max(u+1,Math.min(2*this.buffer.length,this.grow));if(c<=this.grow){const l=new Uint8Array(c);l.set(this.buffer),this.buffer=l}}this.buffer[u]|=128>>o%8}else u<this.buffer.length&&(this.buffer[u]&=~(128>>o%8))}setAll(o,a=0){const u=Math.min(r(a+o.length),this.grow);if(this.buffer.length<u){const f=new Uint8Array(u);f.set(this.buffer),this.buffer=f}let c=a>>3,l=128>>a%8;for(let f=0;f<o.length;f++)if(o[f]?this.buffer[c]|=l:this.buffer[c]&=~l,l===1){if(c+=1,c>=this.buffer.length)break;l=128}else l>>=1}forEach(o,a=0,u=8*this.buffer.length){let c=a>>3,l=128>>a%8;for(let f=a;f<u;f++)o(!!(this.buffer[c]&l),f),l===1?(c+=1,l=128):l>>=1}isEmpty(){for(let o=0;o<this.buffer.length;o++)if(this.buffer[o]!==0)return!1;return!0}}},3065:(t,e,n)=>{var r=n(717),i=n(5472),s=n(3085),o=function(a,u,c){this.tokenBucket=new i(a,a,u,null),this.tokenBucket.content=a,this.curIntervalStart=s(),this.tokensThisInterval=0,this.fireImmediately=c};o.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(a,u){if(a>this.tokenBucket.bucketSize)return r.nextTick(u.bind(null,"Requested tokens "+a+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var c=this,l=s();if((l<this.curIntervalStart||l-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=l,this.tokensThisInterval=0),a>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)r.nextTick(u.bind(null,null,-1));else{var f=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-l);setTimeout(function(){c.tokenBucket.removeTokens(a,h)},f)}return!1}return this.tokenBucket.removeTokens(a,h);function h(d,p){if(d)return u(d,null);c.tokensThisInterval+=a,u(null,p)}},tryRemoveTokens:function(a){if(a>this.tokenBucket.bucketSize)return!1;var u=s();if((u<this.curIntervalStart||u-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=u,this.tokensThisInterval=0),a>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var c=this.tokenBucket.tryRemoveTokens(a);return c&&(this.tokensThisInterval+=a),c},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},t.exports=o},3085:(t,e,n)=>{var r=n(717);t.exports=function(){if(r!==void 0&&r.hrtime){var i=r.hrtime(),s=i[0],o=i[1];return 1e3*s+Math.floor(o/1e6)}return new Date().getTime()}},3198:t=>{t.exports=class{constructor(e){this.decoder=new TextDecoder(e==="utf16le"?"utf16-le":e)}get remaining(){return-1}decode(e){return this.decoder.decode(e,{stream:!0})}flush(){return this.decoder.decode(new Uint8Array(0))}}},3208:()=>{},3278:()=>{},3468:()=>{typeof ReadableStream<"u"&&(ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function({preventCancel:t}={}){const e=this.getReader(),n=this;let r=e.read();return{next(){const i=r;return r=e.read(),i},return:async i=>(await r,e.releaseLock(),t||n.cancel(),{done:!0,value:i}),async throw(i){throw await this.return(),i},[Symbol.asyncIterator](){return this}}}),ReadableStream.prototype.getIterator||(ReadableStream.prototype.getIterator=function({preventCancel:t}={}){return this[Symbol.asyncIterator]({preventCancel:t})}))},3519:(t,e,n)=>{var r=n(6587);function i(o){var a=function(){return a.called?a.value:(a.called=!0,a.value=o.apply(this,arguments))};return a.called=!1,a}function s(o){var a=function(){if(a.called)throw new Error(a.onceError);return a.called=!0,a.value=o.apply(this,arguments)},u=o.name||"Function wrapped with `once`";return a.onceError=u+" shouldn't be called more than once",a.called=!1,a}t.exports=r(i),t.exports.strict=r(s),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})})},3714:(t,e,n)=>{const r=n(9596);t.exports=class{constructor(i){if(this.store=i,this.chunkLength=i.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(i,s,o=()=>{}){this.mem[i]=s,this.store.put(i,s,a=>{this.mem[i]=null,o(a)})}get(i,s,o=()=>{}){if(typeof s=="function")return this.get(i,null,s);let a=this.mem[i];if(!a)return this.store.get(i,s,o);s||(s={});const u=s.offset||0,c=s.length||a.length-u;u===0&&c===a.length||(a=a.slice(u,c+u)),r(()=>o(null,a))}close(i=()=>{}){this.store.close(i)}destroy(i=()=>{}){this.store.destroy(i)}}},3970:()=>{},4018:t=>{t.exports=function(){for(var e=navigator.hardwareConcurrency||1,n=[],r=0;r<e;r++)n.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return n}},4043:()=>{},4343:()=>{},4497:(t,e,n)=>{const r=n(8454),i=n(9596);t.exports=class{constructor(s,o){if(this.store=s,this.chunkLength=s.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new r(o)}put(s,o,a=()=>{}){if(!this.cache)return i(()=>a(new Error("CacheStore closed")));this.cache.remove(s),this.store.put(s,o,a)}get(s,o,a=()=>{}){if(typeof o=="function")return this.get(s,null,o);if(!this.cache)return i(()=>a(new Error("CacheStore closed")));o||(o={});let u=this.cache.get(s);if(u){const f=o.offset||0,h=o.length||u.length-f;return f===0&&h===u.length||(u=u.slice(f,h+f)),i(()=>a(null,u))}let c=this.inProgressGets.get(s);const l=!!c;c||(c=[],this.inProgressGets.set(s,c)),c.push({opts:o,cb:a}),l||this.store.get(s,(f,h)=>{f||this.cache==null||this.cache.set(s,h);const d=this.inProgressGets.get(s);this.inProgressGets.delete(s);for(const{opts:p,cb:m}of d)if(f)m(f);else{const g=p.offset||0,y=p.length||h.length-g;let _=h;g===0&&y===h.length||(_=h.slice(g,y+g)),m(null,_)}})}close(s=()=>{}){if(!this.cache)return i(()=>s(new Error("CacheStore closed")));this.cache=null,this.store.close(s)}destroy(s=()=>{}){if(!this.cache)return i(()=>s(new Error("CacheStore closed")));this.cache=null,this.store.destroy(s)}}},4862:(t,e,n)=>{t.exports=i;const r=n(9596);function i(s,o){if(!(this instanceof i))return new i(s,o);if(o||(o={}),this.chunkLength=Number(s),!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=Number(o.length)||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Math.ceil(this.length/this.chunkLength)-1)}i.prototype.put=function(s,o,a=()=>{}){if(this.closed)return r(()=>a(new Error("Storage is closed")));const u=s===this.lastChunkIndex;return u&&o.length!==this.lastChunkLength?r(()=>a(new Error("Last chunk length must be "+this.lastChunkLength))):u||o.length===this.chunkLength?(this.chunks[s]=o,void r(()=>a(null))):r(()=>a(new Error("Chunk length must be "+this.chunkLength)))},i.prototype.get=function(s,o,a=()=>{}){if(typeof o=="function")return this.get(s,null,o);if(this.closed)return r(()=>a(new Error("Storage is closed")));let u=this.chunks[s];if(!u){const f=new Error("Chunk not found");return f.notFound=!0,r(()=>a(f))}o||(o={});const c=o.offset||0,l=o.length||u.length-c;c===0&&l===u.length||(u=u.slice(c,l+c)),r(()=>a(null,u))},i.prototype.close=i.prototype.destroy=function(s=()=>{}){if(this.closed)return r(()=>s(new Error("Storage is closed")));this.closed=!0,this.chunks=null,r(()=>s(null))}},5335:(t,e,n)=>{const r=n(3198),i=n(3198);t.exports=class{constructor(s="utf8"){switch(this.encoding=function(o){switch(o=o.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return o;default:throw new Error("Unknown encoding: "+o)}}(s),this.encoding){case"utf8":this.decoder=new i;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new r(this.encoding)}}get remaining(){return this.decoder.remaining}push(s){return typeof s=="string"?s:this.decoder.decode(s)}write(s){return this.push(s)}end(s){let o="";return s&&(o=this.push(s)),o+=this.decoder.flush(),o}}},5372:(t,e,n)=>{t.exports=function(i,s,o){if(typeof s!="number")throw new Error("second argument must be a Number");let a,u,c,l,f,h,d=!0;Array.isArray(i)?(a=[],c=u=i.length):(l=Object.keys(i),a={},c=u=l.length);function p(g){function y(){o&&o(g,a),o=null}d?r(y):y()}function m(g,y,_){if(a[g]=_,y&&(f=!0),--c==0||y)p(y);else if(!f&&h<u){let b;l?(b=l[h],h+=1,i[b](function(w,v){m(b,w,v)})):(b=h,h+=1,i[b](function(w,v){m(b,w,v)}))}}h=s,c?l?l.some(function(g,y){return i[g](function(_,b){m(g,_,b)}),y===s-1}):i.some(function(g,y){return g(function(_,b){m(y,_,b)}),y===s-1}):p(null),d=!1};const r=n(9596)},5472:(t,e,n)=>{var r=n(717),i=function(s,o,a,u){if(this.bucketSize=s,this.tokensPerInterval=o,typeof a=="string")switch(a){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+a)}else this.interval=a;this.parentBucket=u,this.content=0,this.lastDrip=+new Date};i.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(s,o){var a=this;return this.bucketSize?s>this.bucketSize?(r.nextTick(o.bind(null,"Requested tokens "+s+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),s>this.content?u():this.parentBucket?this.parentBucket.removeTokens(s,function(c,l){return c?o(c,null):s>a.content?u():(a.content-=s,void o(null,Math.min(l,a.content)))}):(this.content-=s,r.nextTick(o.bind(null,null,this.content)),!0)):(r.nextTick(o.bind(null,null,s,Number.POSITIVE_INFINITY)),!0);function u(){var c=Math.ceil((s-a.content)*(a.interval/a.tokensPerInterval));return setTimeout(function(){a.removeTokens(s,o)},c),!1}},tryRemoveTokens:function(s){return!this.bucketSize||!(s>this.bucketSize)&&(this.drip(),!(s>this.content)&&!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(s))&&(this.content-=s,!0))},drip:function(){if(this.tokensPerInterval){var s=+new Date,o=Math.max(s-this.lastDrip,0);this.lastDrip=s;var a=o*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+a,this.bucketSize)}else this.content=this.bucketSize}},t.exports=i},5658:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g,enableSecure:()=>m});var r=n(7007),i=n(8179),s=n(1314),o=n(7833),a=n(6458);const u="tcpIncoming",c="tcpOutgoing",l="utpIncoming",f="utpOutgoing",h="webSeed",d=o("webtorrent:peer");let p=!1;const m=()=>{p=!0};class g extends r{constructor(_,b){super(),this.id=_,this.type=b,d("new %s Peer %s",b,_),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.source=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(this.destroyed)return;this.connected=!0,d("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const _=this.conn;_.once("end",()=>{this.destroy()}),_.once("close",()=>{this.destroy()}),_.once("finish",()=>{this.destroy()}),_.once("error",w=>{this.destroy(w)});const b=this.wire=new a.A(this.type,this.retries,p);b.once("end",()=>{this.destroy()}),b.once("close",()=>{this.destroy()}),b.once("finish",()=>{this.destroy()}),b.once("error",w=>{this.destroy(w)}),b.once("pe1",()=>{this.onPe1()}),b.once("pe2",()=>{this.onPe2()}),b.once("pe3",()=>{this.onPe3()}),b.once("pe4",()=>{this.onPe4()}),b.once("handshake",(w,v)=>{this.onHandshake(w,v)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&(this.type==="tcpOutgoing"?p&&this.retries===0&&!this.sentPe1?this.sendPe1():this.sentHandshake||this.handshake():this.type==="tcpIncoming"||this.sentHandshake||this.handshake())}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(_){this.swarm&&(this.swarm.infoHashHash!==_&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const _=this;(0,i.pipeline)(this.conn,this.throttleGroups.down.throttle(),new i.Transform({transform(b,w){_.emit("download",b.length),_.destroyed||w(null,b)}}),this.wire,this.throttleGroups.up.throttle(),new i.Transform({transform(b,w){_.emit("upload",b.length),_.destroyed||w(null,b)}}),this.conn)}onHandshake(_,b){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(_!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(b===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));d("Peer %s got handshake %s",this.id,_),clearTimeout(this.handshakeTimeout),this.retries=0;let w=this.addr;!w&&this.conn.remoteAddress&&this.conn.remotePort&&(w=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,w),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){const _={dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,_),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout);const _={webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3};this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},_[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(_){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,d("destroy %s %s (error: %s)",this.type,this.id,_&&(_.message||_)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const b=this.swarm,w=this.conn,v=this.wire;this.swarm=null,this.conn=null,this.wire=null,b&&v&&s(b.wires,b.wires.indexOf(v)),w&&(w.on("error",()=>{}),w.destroy()),v&&v.destroy(),b&&b.removePeer(this.id)}}g.TYPE_TCP_INCOMING=u,g.TYPE_TCP_OUTGOING=c,g.TYPE_UTP_INCOMING=l,g.TYPE_UTP_OUTGOING=f,g.TYPE_WEBRTC="webrtc",g.TYPE_WEBSEED=h,g.SOURCE_MANUAL="manual",g.SOURCE_TRACKER="tracker",g.SOURCE_DHT="dht",g.SOURCE_LSD="lsd",g.SOURCE_UT_PEX="ut_pex",g.createWebRTCPeer=(y,_,b,w=null)=>{const v=new g(y.id,"webrtc");if(v.conn=y,v.swarm=_,v.throttleGroups=b,v.source=w,v.conn.connected)v.onConnect();else{const A=()=>{v.conn.removeListener("connect",E),v.conn.removeListener("error",D)},E=()=>{A(),v.onConnect()},D=I=>{A(),v.destroy(I)};v.conn.once("connect",E),v.conn.once("error",D),v.startConnectTimeout()}return v},g.createTCPIncomingPeer=(y,_)=>g._createIncomingPeer(y,u,_),g.createUTPIncomingPeer=(y,_)=>g._createIncomingPeer(y,l,_),g.createTCPOutgoingPeer=(y,_,b,w)=>g._createOutgoingPeer(y,_,c,b,w),g.createUTPOutgoingPeer=(y,_,b,w)=>g._createOutgoingPeer(y,_,f,b,w),g._createIncomingPeer=(y,_,b)=>{const w=`${y.remoteAddress}:${y.remotePort}`,v=new g(w,_);return v.conn=y,v.addr=w,v.throttleGroups=b,v.onConnect(),v},g._createOutgoingPeer=(y,_,b,w,v=null)=>{const A=new g(y,b);return A.addr=y,A.swarm=_,A.throttleGroups=w,A.source=v,A},g.createWebSeedPeer=(y,_,b,w)=>{const v=new g(_,h);return v.swarm=b,v.conn=y,v.throttleGroups=w,v.onConnect(),v}},5809:t=>{t.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]===void 0&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}},6080:(t,e,n)=>{const r=n(5809);t.exports=class{constructor(i){this.hwm=i||16,this.head=new r(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(i){if(this.length++,!this.head.push(i)){const s=this.head;this.head=s.next=new r(2*this.head.buffer.length),this.head.push(i)}}shift(){this.length!==0&&this.length--;const i=this.tail.shift();if(i===void 0&&this.tail.next){const s=this.tail.next;return this.tail.next=null,this.tail=s,this.tail.shift()}return i}peek(){const i=this.tail.peek();return i===void 0&&this.tail.next?this.tail.next.peek():i}isEmpty(){return this.length===0}}},6310:t=>{function e(n,r){for(const i in r)Object.defineProperty(n,i,{value:r[i],enumerable:!0,configurable:!0});return n}t.exports=function(n,r,i){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof r=="object"&&(i=r,r=""),r&&(i.code=r);try{return e(n,i)}catch{i.message=n.message,i.stack=n.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(n)),e(new o,i)}}},6458:(t,e,n)=>{n.d(e,{A:()=>x});var r=n(988),i=n(3033),s=n(7264),o=n(7833),a=n(8727),u=n(8179),c=n(9639),l=n(1035),f=n(1314);const h=o("bittorrent-protocol"),d=(0,c.L0)("BitTorrent protocol"),p=new Uint8Array([0,0,0,0]),m=new Uint8Array([0,0,0,1,0]),g=new Uint8Array([0,0,0,1,1]),y=new Uint8Array([0,0,0,1,2]),_=new Uint8Array([0,0,0,1,3]),b=[0,0,0,0,0,0,0,0],w=[0,0,0,3,9,0,0],v=new Uint8Array([0,0,0,1,14]),A=new Uint8Array([0,0,0,1,15]),E=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,1,2]),I=new Uint8Array([0,0,0,2]);function P(F,S){for(let T=F.length;T--;)F[T]^=S[T];return F}class L{constructor(S,T,R,B){this.piece=S,this.offset=T,this.length=R,this.callback=B}}class C{constructor(){this.buffer=new Uint8Array}get(S){return!0}set(S){}}class k extends u.Duplex{constructor(S=null,T=0,R=!1){super(),this._debugId=(0,c.V5)((0,c.po)(4)),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=S,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new i.A(0,{grow:4e5}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=l(),this.downloadSpeed=l(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=R,R?(this._dh=s.createDiffieHellman("ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563","hex",2),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),this.type==="tcpIncoming"&&this._peEnabled?this._determineHandshakeType():this.type==="tcpOutgoing"&&this._peEnabled&&T===0?this._parsePe2():this._parseHandshake(null)}setKeepAlive(S){this._debug("setKeepAlive %s",S),clearInterval(this._keepAliveInterval),S!==!1&&(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},55e3))}setTimeout(S,T){this._debug("setTimeout ms=%d unref=%s",S,T),this._timeoutMs=S,this._timeoutUnref=!!T,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this._debug("destroy"),this.end(),this}end(S){if(!this.destroyed&&!this.destroying)return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(S)}use(S){const T=S.prototype.name;if(!T)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",T);const R=this._nextExt,B=new S(this);function U(){}typeof B.onHandshake!="function"&&(B.onHandshake=U),typeof B.onExtendedHandshake!="function"&&(B.onExtendedHandshake=U),typeof B.onMessage!="function"&&(B.onMessage=U),this.extendedMapping[R]=T,this._ext[T]=B,this[T]=B,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(p)}sendPe1(){if(this._peEnabled){const S=Math.floor(513*Math.random()),T=(0,c.po)(S);this._push((0,c.xW)([(0,c.fk)(this._myPubKey),T]))}}sendPe2(){const S=Math.floor(513*Math.random()),T=(0,c.po)(S);this._push((0,c.xW)([(0,c.fk)(this._myPubKey),T]))}async sendPe3(S){await this.setEncrypt(this._sharedSecret,S);const T=await(0,c.tW)((0,c.fk)(this._utfToHex("req1")+this._sharedSecret)),R=P(await(0,c.tW)((0,c.fk)(this._utfToHex("req2")+S)),await(0,c.tW)((0,c.fk)(this._utfToHex("req3")+this._sharedSecret))),B=new DataView((0,c.po)(2).buffer).getUint16(0)%512,U=(0,c.po)(B);let N=new Uint8Array(14+B+2);N.set(E),N.set(D,8);const z=new DataView(N.buffer);z.setInt16(12,B),U.copy(N,14),z.setInt16(14+B,0),N=this._encryptHandshake(N),this._push((0,c.xW)([T,R,N]))}async sendPe4(S){await this.setEncrypt(this._sharedSecret,S);const T=new DataView((0,c.po)(2).buffer).getUint16(0)%512,R=(0,c.po)(T);let B=new Uint8Array(14+T);const U=new DataView(B.buffer);B.set(E),B.set(I,8),U.setInt16(12,T),B.set(R,14),B=this._encryptHandshake(B),this._push(B),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(S,T,R){let B,U;if(typeof S=="string"?(S=S.toLowerCase(),B=(0,c.fk)(S)):(B=S,S=(0,c.V5)(B)),typeof T=="string"?U=(0,c.fk)(T):(U=T,T=(0,c.V5)(U)),this._infoHash=B,B.length!==20||U.length!==20)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",S,T,R);const N=new Uint8Array(b);this.extensions={extended:!0,dht:!(!R||!R.dht),fast:!(!R||!R.fast)},N[5]|=16,this.extensions.dht&&(N[7]|=1),this.extensions.fast&&(N[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push((0,c.xW)([d,N,B,U])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const S=Object.assign({},this.extendedHandshake);S.m={};for(const T in this.extendedMapping){const R=this.extendedMapping[T];S.m[R]=Number(T)}this.extended(0,r.A.encode(S)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push(m),this.hasFast){let S=0;for(;this.peerRequests.length>S;){const T=this.peerRequests[S];this.allowedFastSet.includes(T.piece)?++S:this.reject(T.piece,T.offset,T.length)}}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(g))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(y))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(_))}have(S){this._debug("have %d",S),this._message(4,[S],null)}bitfield(S){this._debug("bitfield"),ArrayBuffer.isView(S)||(S=S.buffer),this._message(5,[],S)}request(S,T,R,B){return B||(B=()=>{}),this._finished?B(new Error("wire is closed")):!this.peerChoking||this.hasFast&&this.peerAllowedFastSet.includes(S)?(this._debug("request index=%d offset=%d length=%d",S,T,R),this.requests.push(new L(S,T,R,B)),this._timeout||this._resetTimeout(!0),void this._message(6,[S,T,R],null)):B(new Error("peer is choking"))}piece(S,T,R){this._debug("piece index=%d offset=%d",S,T),this._message(7,[S,T],R),this.uploaded+=R.length,this.uploadSpeed(R.length),this.emit("upload",R.length)}cancel(S,T,R){this._debug("cancel index=%d offset=%d length=%d",S,T,R),this._callback(this._pull(this.requests,S,T,R),new Error("request was cancelled"),null),this._message(8,[S,T,R],null)}port(S){this._debug("port %d",S);const T=new Uint8Array(w);new DataView(T.buffer).setUint16(5,S),this._push(T)}suggest(S){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",S),this._message(13,[S],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(v)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(A)}reject(S,T,R){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",S,T,R),this._pull(this.peerRequests,S,T,R),this._message(16,[S,T,R],null)}allowedFast(S){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",S),this.allowedFastSet.includes(S)||this.allowedFastSet.push(S),this._message(17,[S],null)}extended(S,T){if(this._debug("extended ext=%s",S),typeof S=="string"&&this.peerExtendedMapping[S]&&(S=this.peerExtendedMapping[S]),typeof S!="number")throw new Error(`Unrecognized extension: ${S}`);{const R=new Uint8Array([S]),B=ArrayBuffer.isView(T)?T:r.A.encode(T);this._message(20,[],(0,c.xW)([R,B]))}}async setEncrypt(S,T){let R,B,U,N;switch(this.type){case"tcpIncoming":R=await(0,c.tW)((0,c.fk)(this._utfToHex("keyB")+S+T)),U=await(0,c.tW)((0,c.fk)(this._utfToHex("keyA")+S+T)),B=[];for(const z of R.values())B.push(z);N=[];for(const z of U.values())N.push(z);this._encryptGenerator=new a(B),this._decryptGenerator=new a(N);break;case"tcpOutgoing":R=await(0,c.tW)((0,c.fk)(this._utfToHex("keyA")+S+T)),U=await(0,c.tW)((0,c.fk)(this._utfToHex("keyB")+S+T)),B=[];for(const z of R.values())B.push(z);N=[];for(const z of U.values())N.push(z);this._encryptGenerator=new a(B),this._decryptGenerator=new a(N);break;default:return!1}for(let z=0;z<1024;z++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_message(S,T,R){const B=R?R.length:0,U=new Uint8Array(5+4*T.length),N=new DataView(U.buffer);N.setUint32(0,U.length+B-4),U[4]=S;for(let z=0;z<T.length;z++)N.setUint32(5+4*z,T[z]);this._push(U),R&&this._push(R)}_push(S){if(!this._finished)return this._encryptionMethod===2&&this._cryptoHandshakeDone&&(S=this._encrypt(S)),this.push(S)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(S){this._peerPubKey=(0,c.V5)(S),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(S){this._peerPubKey=(0,c.V5)(S),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}async _onPe3(S){const T=await(0,c.V5)(this._utfToHex("req3")+this._sharedSecret),R=(0,c.V5)(P(T,S));this.emit("pe3",R)}_onPe3Encrypted(S,T){if(!(0,c.LC)(S,E))return this._debug("Error: verification constant did not match"),void this.destroy();for(const R of T.values())R!==0&&this._peerCryptoProvide.push(R);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(S){this._encryptionMethod=S[3],D.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(S,T,R){const B=(0,c.V5)(S),U=(0,c.V5)(T);this._debug("got handshake i=%s p=%s exts=%o",B,U,R),this.peerId=U,this.peerIdBuffer=T,this.peerExtensions=R,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",B,U,R);for(const N in this._ext)this._ext[N].onHandshake(B,U,R);R.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(S){this.peerPieces.get(S)||(this._debug("got have %d",S),this.peerPieces.set(S,!0),this.emit("have",S))}_onBitField(S){this.peerPieces=new i.A(S),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(S,T,R){if(this.amChoking&&(!this.hasFast||!this.allowedFastSet.includes(S)))return void(this.hasFast&&this.reject(S,T,R));this._debug("got request index=%d offset=%d length=%d",S,T,R);const B=(N,z)=>{if(U===this._pull(this.peerRequests,S,T,R))return N?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",S,T,R,N.message),void(this.hasFast&&this.reject(S,T,R))):void this.piece(S,T,z)},U=new L(S,T,R,B);this.peerRequests.push(U),this.emit("request",S,T,R,B)}_onPiece(S,T,R){this._debug("got piece index=%d offset=%d",S,T),this._callback(this._pull(this.requests,S,T,R.length),null,R),this.downloaded+=R.length,this.downloadSpeed(R.length),this.emit("download",R.length),this.emit("piece",S,T,R)}_onCancel(S,T,R){this._debug("got cancel index=%d offset=%d length=%d",S,T,R),this._pull(this.peerRequests,S,T,R),this.emit("cancel",S,T,R)}_onPort(S){this._debug("got port %d",S),this.emit("port",S)}_onSuggest(S){if(!this.hasFast)return this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy();this._debug("got suggest %d",S),this.emit("suggest",S)}_onHaveAll(){if(!this.hasFast)return this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy();this._debug("got have-all"),this.peerPieces=new C,this.emit("have-all")}_onHaveNone(){if(!this.hasFast)return this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy();this._debug("got have-none"),this.emit("have-none")}_onReject(S,T,R){if(!this.hasFast)return this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy();this._debug("got reject index=%d offset=%d length=%d",S,T,R),this._callback(this._pull(this.requests,S,T,R),new Error("request was rejected"),null),this.emit("reject",S,T,R)}_onAllowedFast(S){if(!this.hasFast)return this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy();this._debug("got allowed-fast %d",S),this.peerAllowedFastSet.includes(S)||this.peerAllowedFastSet.push(S),this.peerAllowedFastSet.length>100&&this.peerAllowedFastSet.shift(),this.emit("allowed-fast",S)}_onExtended(S,T){if(S===0){let R;try{R=r.A.decode(T)}catch(B){this._debug("ignoring invalid extended handshake: %s",B.message||B)}if(!R)return;if(this.peerExtendedHandshake=R,typeof R.m=="object")for(const B in R.m)this.peerExtendedMapping[B]=Number(R.m[B].toString());for(const B in this._ext)this.peerExtendedMapping[B]&&this._ext[B].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[S]&&(S=this.extendedMapping[S],this._ext[S]&&this._ext[S].onMessage(T)),this._debug("got extended message ext=%s",S),this.emit("extended",S,T)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(S,T){if(this._encryptionMethod===2&&this._cryptoHandshakeDone&&(S=this._decrypt(S)),this._bufferSize+=S.length,this._buffer.push(S),this._buffer.length>1&&(this._buffer=[(0,c.xW)(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const R=this._buffer[0].indexOf(this._cryptoSyncPattern);if(R!==-1)this._buffer[0]=this._buffer[0].slice(R+this._cryptoSyncPattern.length),this._bufferSize-=R+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+S.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(this._parserSize===0)this._parser(new Uint8Array);else{const R=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[R.slice(this._parserSize)]:[],this._parser(R.slice(0,this._parserSize))}T(null)}_callback(S,T,R){S&&(this._resetTimeout(!this.peerChoking&&!this._finished),S.callback(T,R))}_resetTimeout(S){if(!S||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const T=Date.now()+this._timeoutMs;if(this._timeout){if(T-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=T,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(S,T){this._parserSize=S,this._parser=T}_parseUntil(S,T){this._cryptoSyncPattern=S,this._waitMaxBytes=T}_onMessageLength(S){const T=new DataView(S.buffer,S.byteOffset,S.byteLength).getUint32(0);T>0?this._parse(T,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(S){this._parse(4,this._onMessageLength);const T=new DataView(S.buffer,S.byteOffset,S.byteLength);switch(S[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(T.getUint32(1));case 5:return this._onBitField(S.slice(1));case 6:return this._onRequest(T.getUint32(1),T.getUint32(5),T.getUint32(9));case 7:return this._onPiece(T.getUint32(1),T.getUint32(5),S.slice(9));case 8:return this._onCancel(T.getUint32(1),T.getUint32(5),T.getUint32(9));case 9:return this._onPort(T.getUint16(1));case 13:return this._onSuggest(T.getUint32(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(T.getUint32(1),T.getUint32(5),T.getUint32(9));case 17:return this._onAllowedFast(T.getUint32(1));case 20:return this._onExtended(S[1],S.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",S)}}_determineHandshakeType(){this._parse(1,S=>{const T=S[0];T===19?this._parse(T+48,this._onHandshakeBuffer):this._parsePe1(S)})}_parsePe1(S){this._parse(95,T=>{this._onPe1((0,c.xW)([S,T])),this._parsePe3()})}_parsePe2(){this._parse(96,S=>{for(this._onPe2(S);!this._setGenerators;);this._parsePe4()})}async _parsePe3(){const S=await(0,c.tW)((0,c.fk)(this._utfToHex("req1")+this._sharedSecret));this._parseUntil(S,512),this._parse(20,T=>{for(this._onPe3(T);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,S=>{const T=this._decryptHandshake(S.slice(0,8)),R=this._decryptHandshake(S.slice(8,12)),B=new DataView(this._decryptHandshake(S.slice(12,14)).buffer).getUint16(0);this._parse(B,U=>{U=this._decryptHandshake(U),this._parse(2,N=>{const z=new DataView(this._decryptHandshake(N).buffer).getUint16(0);this._parse(z,Y=>{Y=this._decryptHandshake(Y),this._onPe3Encrypted(T,R,U,Y);const G=z?Y[0]:null,K=z?Y.slice(1,20):null;G===19&&(0,c.dU)(K)==="BitTorrent protocol"?this._onHandshakeBuffer(Y.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const S=this._decryptHandshake(E);this._parseUntil(S,512),this._parse(6,T=>{const R=this._decryptHandshake(T.slice(0,4)),B=new DataView(this._decryptHandshake(T.slice(4,6)).buffer).getUint16(0);this._parse(B,U=>{this._decryptHandshake(U),this._onPe4(R),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,S=>{const T=S[0];if(T!==19)return this._debug("Error: wire not speaking BitTorrent protocol (%s)",T.toString()),void this.end();this._parse(T+48,this._onHandshakeBuffer)})}_onHandshakeBuffer(S){const T=S.slice(0,19);if((0,c.dU)(T)!=="BitTorrent protocol")return this._debug("Error: wire not speaking BitTorrent protocol (%s)",(0,c.dU)(T)),void this.end();S=S.slice(19),this._onHandshake(S.slice(8,28),S.slice(28,48),{dht:!!(1&S[7]),fast:!!(4&S[7]),extended:!!(16&S[5])}),this._parse(4,this._onMessageLength)}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...S){S[0]=`[${this._debugId}] ${S[0]}`,h(...S)}_pull(S,T,R,B){for(let U=0;U<S.length;U++){const N=S[U];if(N.piece===T&&N.offset===R&&N.length===B)return f(S,U),N}return null}_encryptHandshake(S){const T=new Uint8Array(S);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),T;for(let R=0;R<S.length;R++){const B=this._encryptGenerator.randomByte();T[R]=T[R]^B}return T}_encrypt(S){const T=new Uint8Array(S);if(!this._encryptGenerator||this._encryptionMethod!==2)return T;for(let R=0;R<S.length;R++){const B=this._encryptGenerator.randomByte();T[R]=T[R]^B}return T}_decryptHandshake(S){const T=new Uint8Array(S);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),T;for(let R=0;R<S.length;R++){const B=this._decryptGenerator.randomByte();T[R]=T[R]^B}return T}_decrypt(S){const T=new Uint8Array(S);if(!this._decryptGenerator||this._encryptionMethod!==2)return T;for(let R=0;R<S.length;R++){const B=this._decryptGenerator.randomByte();T[R]=T[R]^B}return T}_utfToHex(S){return(0,c.V5)((0,c.L0)(S))}}const x=k},6585:t=>{var e=1e3,n=60*e,r=60*n,i=24*r,s=7*i,o=365.25*i;function a(u,c,l,f){var h=c>=1.5*l;return Math.round(u/l)+" "+f+(h?"s":"")}t.exports=function(u,c){c=c||{};var l=typeof u;if(l==="string"&&u.length>0)return function(f){if(!((f=String(f)).length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(h){var d=parseFloat(h[1]);switch((h[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return d*o;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*i;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*n;case"seconds":case"second":case"secs":case"sec":case"s":return d*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}(u);if(l==="number"&&isFinite(u))return c.long?function(f){var h=Math.abs(f);return h>=i?a(f,h,i,"day"):h>=r?a(f,h,r,"hour"):h>=n?a(f,h,n,"minute"):h>=e?a(f,h,e,"second"):f+" ms"}(u):function(f){var h=Math.abs(f);return h>=i?Math.round(f/i)+"d":h>=r?Math.round(f/r)+"h":h>=n?Math.round(f/n)+"m":h>=e?Math.round(f/e)+"s":f+"ms"}(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))}},6587:t=>{t.exports=function e(n,r){if(n&&r)return e(n)(r);if(typeof n!="function")throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(s){i[s]=n[s]}),i;function i(){for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];var a=n.apply(this,s),u=s[s.length-1];return typeof a=="function"&&a!==u&&Object.keys(u).forEach(function(c){a[c]=u[c]}),a}}},6611:(t,e,n)=>{var r=n(717),i=n(3519),s=function(){},o=function(a,u,c){if(typeof u=="function")return o(a,null,u);u||(u={}),c=i(c||s);var l=a._writableState,f=a._readableState,h=u.readable||u.readable!==!1&&a.readable,d=u.writable||u.writable!==!1&&a.writable,p=!1,m=function(){a.writable||g()},g=function(){d=!1,h||c.call(a)},y=function(){h=!1,d||c.call(a)},_=function(E){c.call(a,E?new Error("exited with error code: "+E):null)},b=function(E){c.call(a,E)},w=function(){r.nextTick(v)},v=function(){if(!p)return(!h||f&&f.ended&&!f.destroyed)&&(!d||l&&l.ended&&!l.destroyed)?void 0:c.call(a,new Error("premature close"))},A=function(){a.req.on("finish",g)};return function(E){return E.setHeader&&typeof E.abort=="function"}(a)?(a.on("complete",g),a.on("abort",w),a.req?A():a.on("request",A)):d&&!l&&(a.on("end",m),a.on("close",m)),function(E){return E.stdio&&Array.isArray(E.stdio)&&E.stdio.length===3}(a)&&a.on("exit",_),a.on("end",y),a.on("finish",g),u.error!==!1&&a.on("error",b),a.on("close",w),function(){p=!0,a.removeListener("complete",g),a.removeListener("abort",w),a.removeListener("request",A),a.req&&a.req.removeListener("finish",g),a.removeListener("end",m),a.removeListener("close",m),a.removeListener("finish",g),a.removeListener("exit",_),a.removeListener("end",y),a.removeListener("error",b),a.removeListener("close",w)}};t.exports=o},6664:()=>{},6686:()=>{},6698:t=>{typeof Object.create=="function"?t.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}},6819:(t,e,n)=>{t.exports=n(8330).version},6889:()=>{},7007:t=>{var e=Object.create||function(m){var g=function(){};return g.prototype=m,new g},n=Object.keys||function(m){var g=[];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&g.push(y);return y},r=Function.prototype.bind||function(m){var g=this;return function(){return g.apply(m,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=e(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var s,o=10;try{var a={};Object.defineProperty&&Object.defineProperty(a,"x",{value:0}),s=a.x===0}catch{s=!1}function u(m){return m._maxListeners===void 0?i.defaultMaxListeners:m._maxListeners}function c(m,g,y,_){var b,w,v;if(typeof y!="function")throw new TypeError('"listener" argument must be a function');if((w=m._events)?(w.newListener&&(m.emit("newListener",g,y.listener?y.listener:y),w=m._events),v=w[g]):(w=m._events=e(null),m._eventsCount=0),v){if(typeof v=="function"?v=w[g]=_?[y,v]:[v,y]:_?v.unshift(y):v.push(y),!v.warned&&(b=u(m))&&b>0&&v.length>b){v.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+v.length+' "'+String(g)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=m,A.type=g,A.count=v.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else v=w[g]=y,++m._eventsCount;return m}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var m=new Array(arguments.length),g=0;g<m.length;++g)m[g]=arguments[g];this.listener.apply(this.target,m)}}function f(m,g,y){var _={fired:!1,wrapFn:void 0,target:m,type:g,listener:y},b=r.call(l,_);return b.listener=y,_.wrapFn=b,b}function h(m,g,y){var _=m._events;if(!_)return[];var b=_[g];return b?typeof b=="function"?y?[b.listener||b]:[b]:y?function(w){for(var v=new Array(w.length),A=0;A<v.length;++A)v[A]=w[A].listener||w[A];return v}(b):p(b,b.length):[]}function d(m){var g=this._events;if(g){var y=g[m];if(typeof y=="function")return 1;if(y)return y.length}return 0}function p(m,g){for(var y=new Array(g),_=0;_<g;++_)y[_]=m[_];return y}s?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(m){if(typeof m!="number"||m<0||m!=m)throw new TypeError('"defaultMaxListeners" must be a positive number');o=m}}):i.defaultMaxListeners=o,i.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||isNaN(m))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=m,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(m){var g,y,_,b,w,v,A=m==="error";if(v=this._events)A=A&&v.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(g=arguments[1]),g instanceof Error)throw g;var E=new Error('Unhandled "error" event. ('+g+")");throw E.context=g,E}if(!(y=v[m]))return!1;var D=typeof y=="function";switch(_=arguments.length){case 1:(function(I,P,L){if(P)I.call(L);else for(var C=I.length,k=p(I,C),x=0;x<C;++x)k[x].call(L)})(y,D,this);break;case 2:(function(I,P,L,C){if(P)I.call(L,C);else for(var k=I.length,x=p(I,k),F=0;F<k;++F)x[F].call(L,C)})(y,D,this,arguments[1]);break;case 3:(function(I,P,L,C,k){if(P)I.call(L,C,k);else for(var x=I.length,F=p(I,x),S=0;S<x;++S)F[S].call(L,C,k)})(y,D,this,arguments[1],arguments[2]);break;case 4:(function(I,P,L,C,k,x){if(P)I.call(L,C,k,x);else for(var F=I.length,S=p(I,F),T=0;T<F;++T)S[T].call(L,C,k,x)})(y,D,this,arguments[1],arguments[2],arguments[3]);break;default:for(b=new Array(_-1),w=1;w<_;w++)b[w-1]=arguments[w];(function(I,P,L,C){if(P)I.apply(L,C);else for(var k=I.length,x=p(I,k),F=0;F<k;++F)x[F].apply(L,C)})(y,D,this,b)}return!0},i.prototype.addListener=function(m,g){return c(this,m,g,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(m,g){return c(this,m,g,!0)},i.prototype.once=function(m,g){if(typeof g!="function")throw new TypeError('"listener" argument must be a function');return this.on(m,f(this,m,g)),this},i.prototype.prependOnceListener=function(m,g){if(typeof g!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(m,f(this,m,g)),this},i.prototype.removeListener=function(m,g){var y,_,b,w,v;if(typeof g!="function")throw new TypeError('"listener" argument must be a function');if(!(_=this._events))return this;if(!(y=_[m]))return this;if(y===g||y.listener===g)--this._eventsCount==0?this._events=e(null):(delete _[m],_.removeListener&&this.emit("removeListener",m,y.listener||g));else if(typeof y!="function"){for(b=-1,w=y.length-1;w>=0;w--)if(y[w]===g||y[w].listener===g){v=y[w].listener,b=w;break}if(b<0)return this;b===0?y.shift():function(A,E){for(var D=E,I=D+1,P=A.length;I<P;D+=1,I+=1)A[D]=A[I];A.pop()}(y,b),y.length===1&&(_[m]=y[0]),_.removeListener&&this.emit("removeListener",m,v||g)}return this},i.prototype.removeAllListeners=function(m){var g,y,_;if(!(y=this._events))return this;if(!y.removeListener)return arguments.length===0?(this._events=e(null),this._eventsCount=0):y[m]&&(--this._eventsCount==0?this._events=e(null):delete y[m]),this;if(arguments.length===0){var b,w=n(y);for(_=0;_<w.length;++_)(b=w[_])!=="removeListener"&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events=e(null),this._eventsCount=0,this}if(typeof(g=y[m])=="function")this.removeListener(m,g);else if(g)for(_=g.length-1;_>=0;_--)this.removeListener(m,g[_]);return this},i.prototype.listeners=function(m){return h(this,m,!0)},i.prototype.rawListeners=function(m){return h(this,m,!1)},i.listenerCount=function(m,g){return typeof m.listenerCount=="function"?m.listenerCount(g):d.call(m,g)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},7264:()=>{},7373:t=>{t.exports=function(e){var n=0;return function(){if(n===e.length)return null;var r=e.length-n,i=Math.random()*r|0,s=e[n+i],o=e[n];return e[n]=s,e[n+i]=o,n++,s}}},7541:(t,e,n)=>{const r=n(8765),i=n(8499);t.exports={Throttle:r,ThrottleGroup:i}},7828:()=>{},7833:(t,e,n)=>{var r=n(717);e.formatArgs=function(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;s.splice(1,0,o,"color: inherit");let a=0,u=0;s[0].replace(/%[a-zA-Z%]/g,c=>{c!=="%%"&&(a++,c==="%c"&&(u=a))}),s.splice(u,0,o)},e.save=function(s){try{s?e.storage.setItem("debug",s):e.storage.removeItem("debug")}catch{}},e.load=function(){let s;try{s=e.storage.getItem("debug")}catch{}return!s&&r!==void 0&&"env"in r&&(s=r.env.DEBUG),s},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let s;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(s=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(s[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(736)(e);const{formatters:i}=t.exports;i.j=function(s){try{return JSON.stringify(s)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}}},7936:()=>{},8179:(t,e,n)=>{const{EventEmitter:r}=n(7007),i=new Error("Stream was destroyed"),s=new Error("Premature close"),o=n(6080),a=n(5335),u=536870911,c=1^u,l=2^u,f=32,h=64,d=128,p=256,m=1024,g=2048,y=4096,_=8192,b=16384,w=32768,v=131072,A=131328,E=16^u,D=536805375,I=768^u,P=536838143,L=536739839,C=1<<18,k=2<<18,x=4<<18,F=8<<18,S=16<<18,T=32<<18,R=64<<18,B=128<<18,U=256<<18,N=512<<18,z=1024<<18,Y=535822335,G=503316479,K=268435455,ue=262160,ke=536608751,ae=8404992,he=14,ye=15,me=8405006,ve=33587200,Te=33587215,O=2359296,V=270794767,W=Symbol.asyncIterator||Symbol("asyncIterator");class ${constructor(M,{highWaterMark:ee=16384,map:le=null,mapWritable:be,byteLength:Ee,byteLengthWritable:Re}={}){this.stream=M,this.queue=new o,this.highWaterMark=ee,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=Re||Ee||er,this.map=be||le,this.afterWrite=ie.bind(this),this.afterUpdateNextTick=Ae.bind(this)}get ended(){return!!(this.stream._duplexState&T)}push(M){return!(142606350&this.stream._duplexState)&&(this.map!==null&&(M=this.map(M)),this.buffered+=this.byteLength(M),this.queue.push(M),this.buffered<this.highWaterMark?(this.stream._duplexState|=F,!0):(this.stream._duplexState|=6291456,!1))}shift(){const M=this.queue.shift();return this.buffered-=this.byteLength(M),this.buffered===0&&(this.stream._duplexState&=534773759),M}end(M){typeof M=="function"?this.stream.once("finish",M):M!=null&&this.push(M),this.stream._duplexState=(this.stream._duplexState|N)&Y}autoBatch(M,ee){const le=[],be=this.stream;for(le.push(M);(be._duplexState&V)===O;)le.push(be._writableState.shift());if(be._duplexState&ye)return ee(null);be._writev(le,ee)}update(){const M=this.stream;M._duplexState|=k;do{for(;(M._duplexState&V)===F;){const ee=this.shift();M._duplexState|=67371008,M._write(ee,this.afterWrite)}1310720&M._duplexState||this.updateNonPrimary()}while(this.continueUpdate()===!0);M._duplexState&=536346623}updateNonPrimary(){const M=this.stream;if((144965647&M._duplexState)===N)return M._duplexState=M._duplexState|C,void M._final(q.bind(this));(M._duplexState&he)!=4?(M._duplexState&Te)==1&&(M._duplexState=(M._duplexState|ue)&c,M._open(_e.bind(this))):M._duplexState&ve||(M._duplexState|=ue,M._destroy(te.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&B)&&(this.stream._duplexState&=G,!0)}updateCallback(){(35127311&this.stream._duplexState)===x?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&B||(this.stream._duplexState|=B,this.stream._duplexState&k||queueMicrotask(this.afterUpdateNextTick))}}class j{constructor(M,{highWaterMark:ee=16384,map:le=null,mapReadable:be,byteLength:Ee,byteLengthReadable:Re}={}){this.stream=M,this.queue=new o,this.highWaterMark=ee===0?1:ee,this.buffered=0,this.readAhead=ee>0,this.error=null,this.pipeline=null,this.byteLength=Re||Ee||er,this.map=be||le,this.pipeTo=null,this.afterRead=ne.bind(this),this.afterUpdateNextTick=ce.bind(this)}get ended(){return!!(this.stream._duplexState&b)}pipe(M,ee){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof ee!="function"&&(ee=null),this.stream._duplexState|=512,this.pipeTo=M,this.pipeline=new X(this.stream,M,ee),ee&&this.stream.on("error",Wt),ln(M))M._writableState.pipeline=this.pipeline,ee&&M.on("error",Wt),M.on("finish",this.pipeline.finished.bind(this.pipeline));else{const le=this.pipeline.done.bind(this.pipeline,M),be=this.pipeline.done.bind(this.pipeline,M,null);M.on("error",le),M.on("close",be),M.on("finish",this.pipeline.finished.bind(this.pipeline))}M.on("drain",Q.bind(this)),this.stream.emit("piping",M),M.emit("pipe",this.stream)}push(M){const ee=this.stream;return M===null?(this.highWaterMark=0,ee._duplexState=536805311&ee._duplexState|1024,!1):this.map!==null&&(M=this.map(M))===null?(ee._duplexState&=D,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(M),this.queue.push(M),ee._duplexState=(ee._duplexState|d)&D,this.buffered<this.highWaterMark)}shift(){const M=this.queue.shift();return this.buffered-=this.byteLength(M),this.buffered===0&&(this.stream._duplexState&=536862591),M}unshift(M){const ee=[this.map!==null?this.map(M):M];for(;this.buffered>0;)ee.push(this.shift());for(let le=0;le<ee.length-1;le++){const be=ee[le];this.buffered+=this.byteLength(be),this.queue.push(be)}this.push(ee[ee.length-1])}read(){const M=this.stream;if((16527&M._duplexState)===d){const ee=this.shift();return this.pipeTo!==null&&this.pipeTo.write(ee)===!1&&(M._duplexState&=I),M._duplexState&g&&M.emit("data",ee),ee}return this.readAhead===!1&&(M._duplexState|=v,this.updateNextTick()),null}drain(){const M=this.stream;for(;(16527&M._duplexState)===d&&768&M._duplexState;){const ee=this.shift();this.pipeTo!==null&&this.pipeTo.write(ee)===!1&&(M._duplexState&=I),M._duplexState&g&&M.emit("data",ee)}}update(){const M=this.stream;M._duplexState|=f;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&M._duplexState)===v;)M._duplexState|=65552,M._read(this.afterRead),this.drain();(12431&M._duplexState)==4224&&(M._duplexState|=_,M.emit("readable")),80&M._duplexState||this.updateNonPrimary()}while(this.continueUpdate()===!0);M._duplexState&=536870879}updateNonPrimary(){const M=this.stream;(1167&M._duplexState)===m&&(M._duplexState=536869887&M._duplexState|16384,M.emit("end"),(M._duplexState&me)===ae&&(M._duplexState|=4),this.pipeTo!==null&&this.pipeTo.end()),(M._duplexState&he)!=4?(M._duplexState&Te)==1&&(M._duplexState=(M._duplexState|ue)&c,M._open(_e.bind(this))):M._duplexState&ve||(M._duplexState|=ue,M._destroy(te.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&w)&&(this.stream._duplexState&=P,!0)}updateCallback(){(32879&this.stream._duplexState)===h?this.update():this.updateNextTick()}updateNextTickIfOpen(){32769&this.stream._duplexState||(this.stream._duplexState|=w,this.stream._duplexState&f||queueMicrotask(this.afterUpdateNextTick))}updateNextTick(){this.stream._duplexState&w||(this.stream._duplexState|=w,this.stream._duplexState&f||queueMicrotask(this.afterUpdateNextTick))}}class H{constructor(M){this.data=null,this.afterTransform=Je.bind(M),this.afterFinal=null}}class X{constructor(M,ee,le){this.from=M,this.to=ee,this.afterPipe=le,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(M,ee){ee&&(this.error=ee),M!==this.to||(this.to=null,this.from===null)?M!==this.from||(this.from=null,this.to===null)?(this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):M._duplexState&b||this.to.destroy(this.error||new Error("Readable stream closed before ending")):this.from._duplexState&b&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function Q(){this.stream._duplexState|=512,this.updateCallback()}function q(oe){const M=this.stream;oe&&M.destroy(oe),M._duplexState&he||(M._duplexState|=T,M.emit("finish")),(M._duplexState&me)===ae&&(M._duplexState|=4),M._duplexState&=402391039,M._duplexState&k?this.updateNextTick():this.update()}function te(oe){const M=this.stream;oe||this.error===i||(oe=this.error),oe&&M.emit("error",oe),M._duplexState|=8,M.emit("close");const ee=M._readableState,le=M._writableState;if(ee!==null&&ee.pipeline!==null&&ee.pipeline.done(M,oe),le!==null){for(;le.drains!==null&&le.drains.length>0;)le.drains.shift().resolve(!1);le.pipeline!==null&&le.pipeline.done(M,oe)}}function ie(oe){const M=this.stream;oe&&M.destroy(oe),M._duplexState&=469499903,this.drains!==null&&function(ee){for(let le=0;le<ee.length;le++)--ee[le].writes==0&&(ee.shift().resolve(!0),le--)}(this.drains),(6553615&M._duplexState)===S&&(M._duplexState&=532676607,(M._duplexState&R)===R&&M.emit("drain")),this.updateCallback()}function ne(oe){oe&&this.stream.destroy(oe),this.stream._duplexState&=E,this.readAhead!==!1||this.stream._duplexState&p||(this.stream._duplexState&=L),this.updateCallback()}function ce(){this.stream._duplexState&f||(this.stream._duplexState&=P,this.update())}function Ae(){this.stream._duplexState&k||(this.stream._duplexState&=G,this.update())}function _e(oe){const M=this.stream;oe&&M.destroy(oe),4&M._duplexState||(17423&M._duplexState||(M._duplexState|=h),142606351&M._duplexState||(M._duplexState|=x),M.emit("open")),M._duplexState&=ke,M._writableState!==null&&M._writableState.updateCallback(),M._readableState!==null&&M._readableState.updateCallback()}function Je(oe,M){M!=null&&this.push(M),this._writableState.afterWrite(oe)}function cn(oe){this._readableState!==null&&(oe==="data"&&(this._duplexState|=133376,this._readableState.updateNextTick()),oe==="readable"&&(this._duplexState|=y,this._readableState.updateNextTick())),this._writableState!==null&&oe==="drain"&&(this._duplexState|=R,this._writableState.updateNextTick())}class Ye extends r{constructor(M){super(),this._duplexState=0,this._readableState=null,this._writableState=null,M&&(M.open&&(this._open=M.open),M.destroy&&(this._destroy=M.destroy),M.predestroy&&(this._predestroy=M.predestroy),M.signal&&M.signal.addEventListener("abort",On.bind(this))),this.on("newListener",cn)}_open(M){M(null)}_destroy(M){M(null)}_predestroy(){}get readable(){return this._readableState!==null||void 0}get writable(){return this._writableState!==null||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return!!(this._duplexState&he)}destroy(M){this._duplexState&he||(M||(M=i),this._duplexState=535822271&this._duplexState|4,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=M),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=M),this._duplexState|=2,this._predestroy(),this._duplexState&=l,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}}class ct extends Ye{constructor(M){super(M),this._duplexState|=8519681,this._readableState=new j(this,M),M&&(this._readableState.readAhead===!1&&(this._duplexState&=L),M.read&&(this._read=M.read),M.eagerOpen&&this._readableState.updateNextTick(),M.encoding&&this.setEncoding(M.encoding))}setEncoding(M){const ee=new a(M),le=this._readableState.map||Di;return this._readableState.map=function(be){const Ee=ee.push(be);return Ee===""&&(be.byteLength!==0||ee.remaining>0)?null:le(Ee)},this}_read(M){M(null)}pipe(M,ee){return this._readableState.updateNextTick(),this._readableState.pipe(M,ee),M}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(M){return this._readableState.updateNextTickIfOpen(),this._readableState.push(M)}unshift(M){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(M)}resume(){return this._duplexState|=A,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?536739583:536870655,this}static _fromAsyncIterator(M,ee){let le;const be=new ct({...ee,read(Re){M.next().then(Ee).then(Re.bind(null,null)).catch(Re)},predestroy(){le=M.return()},destroy(Re){if(!le)return Re(null);le.then(Re.bind(null,null)).catch(Re)}});return be;function Ee(Re){Re.done?be.push(null):be.push(Re.value)}}static from(M,ee){if(ln(le=M)&&le.readable)return M;var le;if(M[W])return this._fromAsyncIterator(M[W](),ee);Array.isArray(M)||(M=M===void 0?[]:[M]);let be=0;return new ct({...ee,read(Ee){this.push(be===M.length?null:M[be++]),Ee(null)}})}static isBackpressured(M){return!!(17422&M._duplexState)||M._readableState.buffered>=M._readableState.highWaterMark}static isPaused(M){return!(M._duplexState&p)}[W](){const M=this;let ee=null,le=null,be=null;return this.on("error",Ze=>{ee=Ze}),this.on("readable",function(){le!==null&&Ee(M.read())}),this.on("close",function(){le!==null&&Ee(null)}),{[W](){return this},next:()=>new Promise(function(Ze,hn){le=Ze,be=hn;const Be=M.read();Be!==null?Ee(Be):8&M._duplexState&&Ee(null)}),return:()=>Re(null),throw:Ze=>Re(Ze)};function Ee(Ze){be!==null&&(ee?be(ee):Ze!==null||M._duplexState&b?le({value:Ze,done:Ze===null}):be(i),be=le=null)}function Re(Ze){return M.destroy(Ze),new Promise((hn,Be)=>{if(8&M._duplexState)return hn({value:void 0,done:!0});M.once("close",function(){Ze?Be(Ze):hn({value:void 0,done:!0})})})}}}class Oe extends Ye{constructor(M){super(M),this._duplexState|=16385,this._writableState=new $(this,M),M&&(M.writev&&(this._writev=M.writev),M.write&&(this._write=M.write),M.final&&(this._final=M.final),M.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=z}uncork(){this._duplexState&=K,this._writableState.updateNextTick()}_writev(M,ee){ee(null)}_write(M,ee){this._writableState.autoBatch(M,ee)}_final(M){M(null)}static isBackpressured(M){return!!(146800654&M._duplexState)}static drained(M){if(M.destroyed)return Promise.resolve(!1);const ee=M._writableState;var le;const be=((le=M)._writev!==Oe.prototype._writev&&le._writev!==qt.prototype._writev?Math.min(1,ee.queue.length):ee.queue.length)+(M._duplexState&U?1:0);return be===0?Promise.resolve(!0):(ee.drains===null&&(ee.drains=[]),new Promise(Ee=>{ee.drains.push({writes:be,resolve:Ee})}))}write(M){return this._writableState.updateNextTick(),this._writableState.push(M)}end(M){return this._writableState.updateNextTick(),this._writableState.end(M),this}}class qt extends ct{constructor(M){super(M),this._duplexState=1|this._duplexState&v,this._writableState=new $(this,M),M&&(M.writev&&(this._writev=M.writev),M.write&&(this._write=M.write),M.final&&(this._final=M.final))}cork(){this._duplexState|=z}uncork(){this._duplexState&=K,this._writableState.updateNextTick()}_writev(M,ee){ee(null)}_write(M,ee){this._writableState.autoBatch(M,ee)}_final(M){M(null)}write(M){return this._writableState.updateNextTick(),this._writableState.push(M)}end(M){return this._writableState.updateNextTick(),this._writableState.end(M),this}}class Tn extends qt{constructor(M){super(M),this._transformState=new H(this),M&&(M.transform&&(this._transform=M.transform),M.flush&&(this._flush=M.flush))}_write(M,ee){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=M:this._transform(M,this._transformState.afterTransform)}_read(M){if(this._transformState.data!==null){const ee=this._transformState.data;this._transformState.data=null,M(null),this._transform(ee,this._transformState.afterTransform)}else M(null)}destroy(M){super.destroy(M),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(M,ee){ee(null,M)}_flush(M){M(null)}_final(M){this._transformState.afterFinal=M,this._flush(lt.bind(this))}}function lt(oe,M){const ee=this._transformState.afterFinal;if(oe)return ee(oe);M!=null&&this.push(M),this.push(null),ee(null)}function Qn(oe,...M){const ee=Array.isArray(oe)?[...oe,...M]:[oe,...M],le=ee.length&&typeof ee[ee.length-1]=="function"?ee.pop():null;if(ee.length<2)throw new Error("Pipeline requires at least 2 streams");let be=ee[0],Ee=null,Re=null;for(let Be=1;Be<ee.length;Be++)Ee=ee[Be],ln(be)?be.pipe(Ee,hn):(Ze(be,!0,Be>1,hn),be.pipe(Ee)),be=Ee;if(le){let Be=!1;const tr=ln(Ee)||!(!Ee._writableState||!Ee._writableState.autoDestroy);Ee.on("error",Ti=>{Re===null&&(Re=Ti)}),Ee.on("finish",()=>{Be=!0,tr||le(Re)}),tr&&Ee.on("close",()=>le(Re||(Be?null:s)))}return Ee;function Ze(Be,tr,Ti,Oi){Be.on("error",Oi),Be.on("close",function(){if(Be._readableState&&!Be._readableState.ended||Ti&&Be._writableState&&!Be._writableState.ended)return Oi(s)})}function hn(Be){if(Be&&!Re){Re=Be;for(const tr of ee)tr.destroy(Be)}}}function Di(oe){return oe}function Tr(oe){return!!oe._readableState||!!oe._writableState}function ln(oe){return typeof oe._duplexState=="number"&&Tr(oe)}function er(oe){return function(M){return typeof M=="object"&&M!==null&&typeof M.byteLength=="number"}(oe)?oe.byteLength:1024}function Wt(){}function On(){this.destroy(new Error("Stream aborted."))}t.exports={pipeline:Qn,pipelinePromise:function(...oe){return new Promise((M,ee)=>Qn(...oe,le=>{if(le)return ee(le);M()}))},isStream:Tr,isStreamx:ln,isEnded:function(oe){return!!oe._readableState&&oe._readableState.ended},isFinished:function(oe){return!!oe._writableState&&oe._writableState.ended},isDisturbed:function(oe){return!!(1&~oe._duplexState)||!!(oe._duplexState&ve)},getStreamError:function(oe,M={}){const ee=oe._readableState&&oe._readableState.error||oe._writableState&&oe._writableState.error;return M.all||ee!==i?ee:null},Stream:Ye,Writable:Oe,Readable:ct,Duplex:qt,Transform:Tn,PassThrough:class extends Tn{}}},8190:(t,e,n)=>{t.exports=function(i,s){let o,a,u,c=!0;Array.isArray(i)?(o=[],a=i.length):(u=Object.keys(i),o={},a=u.length);function l(h){function d(){s&&s(h,o),s=null}c?r(d):d()}function f(h,d,p){o[h]=p,(--a==0||d)&&l(d)}a?u?u.forEach(function(h){i[h](function(d,p){f(h,d,p)})}):i.forEach(function(h,d){h(function(p,m){f(d,p,m)})}):l(null),c=!1};const r=n(9596)},8271:()=>{},8330:t=>{t.exports={version:"2.6.3"}},8444:t=>{t.exports=function(e){return Math.max(16384,1<<Math.log2(e<1024?1:e/1024)+.5)}},8446:t=>{t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},8454:(t,e,n)=>{var r=n(7007),i=n(6698);function s(o){if(!(this instanceof s))return new s(o);typeof o=="number"&&(o={max:o}),o||(o={}),r.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=o.max||1e3,this.maxAge=o.maxAge||0}t.exports=s,i(s,r.EventEmitter),Object.defineProperty(s.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),s.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},s.prototype.remove=function(o){if(typeof o!="string"&&(o=""+o),this.cache.hasOwnProperty(o)){var a=this.cache[o];return delete this.cache[o],this._unlink(o,a.prev,a.next),a.value}},s.prototype._unlink=function(o,a,u){this.length--,this.length===0?this.head=this.tail=null:this.head===o?(this.head=a,this.cache[this.head].next=null):this.tail===o?(this.tail=u,this.cache[this.tail].prev=null):(this.cache[a].next=u,this.cache[u].prev=a)},s.prototype.peek=function(o){if(this.cache.hasOwnProperty(o)){var a=this.cache[o];if(this._checkAge(o,a))return a.value}},s.prototype.set=function(o,a){var u;if(typeof o!="string"&&(o=""+o),this.cache.hasOwnProperty(o)){if((u=this.cache[o]).value=a,this.maxAge&&(u.modified=Date.now()),o===this.head)return a;this._unlink(o,u.prev,u.next)}else u={value:a,modified:0,next:null,prev:null},this.maxAge&&(u.modified=Date.now()),this.cache[o]=u,this.length===this.max&&this.evict();return this.length++,u.next=null,u.prev=this.head,this.head&&(this.cache[this.head].next=o),this.head=o,this.tail||(this.tail=o),a},s.prototype._checkAge=function(o,a){return!(this.maxAge&&Date.now()-a.modified>this.maxAge)||(this.remove(o),this.emit("evict",{key:o,value:a.value}),!1)},s.prototype.get=function(o){if(typeof o!="string"&&(o=""+o),this.cache.hasOwnProperty(o)){var a=this.cache[o];if(this._checkAge(o,a))return this.head!==o&&(o===this.tail?(this.tail=a.next,this.cache[this.tail].prev=null):this.cache[a.prev].next=a.next,this.cache[a.next].prev=a.prev,this.cache[this.head].next=o,a.prev=this.head,a.next=null,this.head=o),a.value}},s.prototype.evict=function(){if(this.tail){var o=this.tail,a=this.remove(this.tail);this.emit("evict",{key:o,value:a})}}},8499:(t,e,n)=>{const{TokenBucket:r}=n(9439),i=n(8765);t.exports=class{constructor(s={}){if(typeof s!="object")throw new Error("Options must be an object");this.throttles=[],this.setEnabled(s.enabled),this.setRate(s.rate,s.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(s=!0){if(typeof s!="boolean")throw new Error("Enabled must be a boolean");this._enabled=s;for(const o of this.throttles)o.setEnabled(s)}setRate(s,o=null){if(!Number.isInteger(s)||s<0)throw new Error("Rate must be an integer bigger than zero");if(s=parseInt(s),o&&(typeof o!="number"||o<=0))throw new Error("Chunksize must be bigger than zero");if(o=o||Math.max(parseInt(s/10),1),o=parseInt(o),s>0&&o>s)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new r(s,s,"second",null)),this.bucket.bucketSize=s,this.bucket.tokensPerInterval=s,this.chunksize=o}setChunksize(s){if(!Number.isInteger(s)||s<=0)throw new Error("Chunk size must be an integer bigger than zero");const o=this.getRate();if(s=parseInt(s),o>0&&s>o)throw new Error("Chunk size must be smaller than rate");this.chunksize=s}throttle(s={}){if(typeof s!="object")throw new Error("Options must be an object");return new i({...s,group:this})}destroy(){for(const s of this.throttles)s.destroy();this.throttles=[]}_addThrottle(s){if(!(s instanceof i))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(s)}_removeThrottle(s){const o=this.throttles.indexOf(s);o>-1&&this.throttles.splice(o,1)}}},8673:t=>{function e(){this._types=Object.create(null),this._extensions=Object.create(null);for(let n=0;n<arguments.length;n++)this.define(arguments[n]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}e.prototype.define=function(n,r){for(let i in n){let s=n[i].map(function(o){return o.toLowerCase()});i=i.toLowerCase();for(let o=0;o<s.length;o++){const a=s[o];if(a[0]!=="*"){if(!r&&a in this._types)throw new Error('Attempt to change mapping for "'+a+'" extension from "'+this._types[a]+'" to "'+i+'". Pass `force=true` to allow this, otherwise remove "'+a+'" from the list of extensions for "'+i+'".');this._types[a]=i}}if(r||!this._extensions[i]){const o=s[0];this._extensions[i]=o[0]!=="*"?o:o.substr(1)}}},e.prototype.getType=function(n){let r=(n=String(n)).replace(/^.*[/\\]/,"").toLowerCase(),i=r.replace(/^.*\./,"").toLowerCase(),s=r.length<n.length;return(i.length<r.length-1||!s)&&this._types[i]||null},e.prototype.getExtension=function(n){return(n=/^\s*([^;\s]*)/.test(n)&&RegExp.$1)&&this._extensions[n.toLowerCase()]||null},t.exports=e},8727:t=>{function e(c){return parseInt(c,10)===c}function n(c){function l(h){if(h===void 0){h=new Array(c);for(var d=0;d<c;d++)h[d]=Math.floor(Math.random()*c)}else if(typeof h=="string")h=(h=""+h).split("").map(function(b){return b.charCodeAt(0)%c});else{if(!Array.isArray(h))throw new TypeError("invalid seed key specified");if(!h.every(function(b){return typeof b=="number"&&b===(0|b)}))throw new TypeError("invalid seed key specified: not array of integers")}for(var p=h.length,m=function(){for(var b=new Array(c),w=0;w<c;w++)b[w]=w;return b}(),g=0,y=0;y<c;y++){g=(g+m[y]+h[y%p])%c;var _=m[y];m[y]=m[g],m[g]=_}return m}function f(h){this.s=l(h),this.i=0,this.j=0}return f.prototype.randomNative=function(){this.i=(this.i+1)%c,this.j=(this.j+this.s[this.i])%c;var h=this.s[this.i];return this.s[this.i]=this.s[this.j],this.s[this.j]=h,this.s[(this.s[this.i]+this.s[this.j])%c]},f.prototype.randomUInt32=function(){return 256*(256*(256*this.randomByte()+this.randomByte())+this.randomByte())+this.randomByte()},f.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},f.prototype.random=function(){var h,d;if(arguments.length===1)h=0,d=arguments[0];else{if(arguments.length!==2)throw new TypeError("random takes one or two integer arguments");h=arguments[0],d=arguments[1]}if(!e(h)||!e(d))throw new TypeError("random takes one or two integer arguments");return h+this.randomUInt32()%(d-h+1)},f.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},f.prototype.setState=function(h){var d=h.s,p=h.i,m=h.j;if(!(p===(0|p)&&0<=p&&p<c))throw new Error("state.i should be integer [0, "+(c-1)+"]");if(!(m===(0|m)&&0<=m&&m<c))throw new Error("state.j should be integer [0, "+(c-1)+"]");if(!Array.isArray(d)||d.length!==c)throw new Error("state should be array of length "+c);for(var g=0;g<c;g++)if(d.indexOf(g)===-1)throw new Error("state should be permutation of 0.."+(c-1)+": "+g+" is missing");this.i=p,this.j=m,this.s=d.slice()},f}var r=n(256);r.prototype.randomByte=r.prototype.randomNative;var i=n(16);i.prototype.randomByte=function(){return 16*this.randomNative()+this.randomNative()};var s=97,o=48;function a(c){return c<10?String.fromCharCode(o+c):String.fromCharCode(s+c-10)}function u(c){return parseInt(c,16)}i.prototype.currentStateString=function(){var c=this.currentState();return a(c.i)+a(c.j)+c.s.map(a).join("")},i.prototype.setStateString=function(c){if(!c.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var l=u(c[0]),f=u(c[1]),h=c.split("").slice(2).map(u);this.setState({i:l,j:f,s:h})},r.RC4small=i,t.exports=r},8765:(t,e,n)=>{const{EventEmitter:r}=n(7007),{Transform:i}=n(8179),{wait:s}=n(2072);t.exports=class extends i{constructor(a={}){if(super(),typeof a!="object")throw new Error("Options must be an object");const u=Object.assign({},a);if(u.group&&!(u.group instanceof o))throw new Error("Group must be an instanece of ThrottleGroup");u.group||(u.group=new o(u)),this._setEnabled(u.enabled||u.group.enabled),this._group=u.group,this._emitter=new r,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(a=!0){if(typeof a!="boolean")throw new Error("Enabled must be a boolean");this._enabled=a}setEnabled(a){this._setEnabled(a),this._enabled?this._emitter.emit("enabled"):this._emitter.emit("disabled")}_transform(a,u){this._processChunk(a,u)}async _waitForTokens(a){return new Promise((u,c)=>{let l=!1;const f=this;function h(d){if(f._emitter.removeListener("disabled",h),f._emitter.removeListener("destroyed",h),!l){if(l=!0,d)return c(d);u()}}this._emitter.once("disabled",h),this._emitter.once("destroyed",h),this._group.bucket.removeTokens(a,h)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(a,u){if(!this._areBothEnabled())return u(null,a);let c=0,l=this._group.getChunksize(),f=a.slice(c,c+l);for(;f.length>0;){if(this._areBothEnabled())try{for(;this._group.getRate()===0&&!this._destroyed&&this._areBothEnabled();)if(await s(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(f.length)&&(await this._waitForTokens(f.length),this._destroyed))return}catch(h){return u(h)}this.push(f),c+=l,l=this._areBothEnabled()?this._group.getChunksize():a.length-c,f=a.slice(c,c+l)}return u()}destroy(...a){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...a)}};const o=n(8499)},8878:()=>{},9439:(t,e,n)=>{e.RateLimiter=n(3065),e.TokenBucket=n(5472)},9596:t=>{let e;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):n=>(e||(e=Promise.resolve())).then(n).catch(r=>setTimeout(()=>{throw r},0))},9639:(t,e,n)=>{n.d(e,{NJ:()=>y,V5:()=>o,dU:()=>p,HB:()=>_,xW:()=>u,LC:()=>c,tW:()=>D,fk:()=>a,Ht:()=>b,po:()=>I,L0:()=>g});const r="0123456789abcdef",i=[],s=[];for(let P=0;P<256;P++)i[P]=r[P>>4&15]+r[15&P],P<16&&(P<10?s[48+P]=P:s[87+P]=P);const o=P=>{const L=P.length;let C="",k=0;for(;k<L;)C+=i[P[k++]];return C},a=P=>{const L=P.length>>1,C=L<<1,k=new Uint8Array(L);let x=0,F=0;for(;F<C;)k[x++]=s[P.charCodeAt(F++)]<<4|s[P.charCodeAt(F++)];return k},u=(P,L=0)=>{const C=P.length||0;if(!L){let S=C;for(;S--;)L+=P[S].length}const k=new Uint8Array(L);let x=L,F=C;for(;F--;)x-=P[F].length,k.set(P[F],x);return k},c=(P,L)=>{if(P.length!==L.length)return!1;for(let C=P.length;C>-1;C-=1)if(P[C]!==L[C])return!1;return!0};for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=typeof Uint8Array>"u"?[]:new Uint8Array(256),h=0;h<64;h++)f[l.charCodeAt(h)]=h;const d=new TextDecoder,p=(P,L)=>L?new TextDecoder(L).decode(P):d.decode(P),m=new TextEncoder,g=P=>m.encode(P),y=P=>function(L){var C,k=new Uint8Array(L),x=k.length,F="";for(C=0;C<x;C+=3)F+=l[k[C]>>2],F+=l[(3&k[C])<<4|k[C+1]>>4],F+=l[(15&k[C+1])<<2|k[C+2]>>6],F+=l[63&k[C+2]];return x%3==2?F=F.substring(0,F.length-1)+"=":x%3==1&&(F=F.substring(0,F.length-2)+"=="),F}(P),_=P=>{let L,C="",k=0;const x=P.length;for(;k<x;)L=P.charCodeAt(k++),C+=r[L>>4]+r[15&L];return C},b=P=>{const L=a(P);if(L.length<=65536)return String.fromCharCode(...L);let C="",k=0;for(;k<L.length;)C+=String.fromCharCode(...L.subarray(k,k+=65536));return C},w=typeof window<"u"?window:self,v=w.crypto||w.msCrypto||{},A=v.subtle||v.webkitSubtle,E={hex:o,base64:y},D=async(P,L,C="sha-1")=>{if(!A)throw new Error("no web crypto support");typeof P=="string"&&(P=g(P));const k=new Uint8Array(await A.digest(C,P));return L?E[L](k):k},I=P=>{const L=new Uint8Array(P);return v.getRandomValues(L)}}},tu={};function se(t){var e=tu[t];if(e!==void 0)return e.exports;var n=tu[t]={exports:{}};return i_[t](n,n.exports,se),n.exports}Rn=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,se.t=function(t,e){if(1&e&&(t=this(t)),8&e||typeof t=="object"&&t&&(4&e&&t.__esModule||16&e&&typeof t.then=="function"))return t;var n=Object.create(null);se.r(n);var r={};Qi=Qi||[null,Rn({}),Rn([]),Rn(Rn)];for(var i=2&e&&t;typeof i=="object"&&!~Qi.indexOf(i);i=Rn(i))Object.getOwnPropertyNames(i).forEach(s=>r[s]=()=>t[s]);return r.default=()=>t,se.d(n,r),n},se.d=(t,e)=>{for(var n in e)se.o(e,n)&&!se.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},se.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),se.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var Ht=se(7007);function fi(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function s_(t,e){let n,r="",i=0,s=-1,o=0;for(let a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(n===47)break;n=47}if(n===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",i=0):(r=r.slice(0,u),i=r.length-1-r.lastIndexOf("/")),s=a,o=0;continue}}else if(r.length===2||r.length===1){r="",i=0,s=a,o=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(s+1,a):r=t.slice(s+1,a),i=a-s-1;s=a,o=0}else n===46&&o!==-1?++o:o=-1}return r}function vr(){if(arguments.length===0)return".";let t;for(let e=0;e<arguments.length;++e){const n=arguments[e];fi(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":function(e){if(fi(e),e.length===0)return".";const n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return(e=s_(e,!n)).length!==0||n||(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e}(t)}se(717);const o_="/";var Et=se(988),Mf=se(1467),a_=se(8444),u_=se(2123);const c_=new RegExp(["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^[Dd]esktop\\.ini$","@eaDir$"].join("|"));function l_(t){return c_.test(t)}var Nf=se(405),sn=se(8190),Ke=se(9596),re=se(9639),Hr=(se(3468),se(2532));const h_=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"],["wss://tracker.webtorrent.dev"]],st=Symbol("itemPath");function jf(t,e,n){var r;if(r=t,typeof FileList<"u"&&r instanceof FileList&&(t=Array.from(t)),Array.isArray(t)||(t=[t]),t.length===0)throw new Error("invalid input type");t.forEach(u=>{if(u==null)throw new Error(`invalid input type: ${u}`)}),(t=t.map(u=>nu(u)&&typeof u.path=="string"&&typeof Hr=="function"?u.path:u)).length!==1||typeof t[0]=="string"||t[0].name||(t[0].name=e.name);let i=null;t.forEach((u,c)=>{if(typeof u=="string")return;let l=u.fullPath||u.name;l||(l=`Unknown File ${c+1}`,u.unknownName=!0),u[st]=l.split("/"),u[st][0]||u[st].shift(),u[st].length<2?i=null:c===0&&t.length>1?i=u[st][0]:u[st][0]!==i&&(i=null)}),(e.filterJunkFiles===void 0||e.filterJunkFiles)&&(t=t.filter(u=>typeof u=="string"||!function(c){const l=c[c.length-1];return l[0]==="."&&l_(l)}(u[st]))),i&&t.forEach(u=>{const c=(ArrayBuffer.isView(u)||ru(u))&&!u[st];typeof u=="string"||c||u[st].shift()}),!e.name&&i&&(e.name=i),e.name||t.some(u=>typeof u=="string"?(e.name=function(c,l){fi(c);let f,h=0,d=-1,p=!0;for(f=c.length-1;f>=0;--f)if(c.charCodeAt(f)===47){if(!p){h=f+1;break}}else d===-1&&(p=!1,d=f+1);return d===-1?"":c.slice(h,d)}(u),!0):!u.unknownName&&(e.name=u[st][u[st].length-1],!0)),e.name||(e.name=`Unnamed Torrent ${Date.now()}`),e.maxPieceLength||(e.maxPieceLength=4194304);const s=t.reduce((u,c)=>u+ +(typeof c=="string"),0);let o=t.length===1;if(t.length===1&&typeof t[0]=="string"){if(typeof Hr!="function")throw new Error("filesystem paths do not work in the browser");u_(t[0],(u,c)=>{if(u)return n(u);o=c,a()})}else Ke(a);function a(){sn(t.map(u=>c=>{const l={};if(nu(u))l.getStream=u.stream(),l.length=u.size;else if(ArrayBuffer.isView(u))l.getStream=[u],l.length=u.length;else{if(!ru(u)){if(typeof u=="string"){if(typeof Hr!="function")throw new Error("filesystem paths do not work in the browser");return void Hr(u,s>1||o,c)}throw new Error("invalid input type")}l.getStream=async function*(f,h){for await(const d of f)h.length+=d.length,yield d}(u,l),l.length=0}l.path=u[st],c(null,l)}),(u,c)=>{if(u)return n(u);c=c.flat(),n(null,c,o)})}}const f_=5;function d_(t,e){return t+e.length}function nu(t){return typeof Blob<"u"&&t instanceof Blob}function ru(t){return typeof t=="object"&&t!=null&&typeof t.pipe=="function"}const p_=function(t,e,n){typeof e=="function"&&([e,n]=[n,e]),jf(t,e=e?Object.assign({},e):{},(r,i,s)=>{if(r)return n(r);e.singleFileTorrent=s,function(o,a,u){let c=a.announceList;c||(typeof a.announce=="string"?c=[[a.announce]]:Array.isArray(a.announce)&&(c=a.announce.map(d=>[d]))),c||(c=[]),globalThis.WEBTORRENT_ANNOUNCE&&(typeof globalThis.WEBTORRENT_ANNOUNCE=="string"?c.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(c=c.concat(globalThis.WEBTORRENT_ANNOUNCE.map(d=>[d])))),a.announce===void 0&&a.announceList===void 0&&(c=c.concat(h_)),typeof a.urlList=="string"&&(a.urlList=[a.urlList]);const l={info:{name:a.name},"creation date":Math.ceil((Number(a.creationDate)||Date.now())/1e3),encoding:"UTF-8"};c.length!==0&&(l.announce=c[0][0],l["announce-list"]=c),a.comment!==void 0&&(l.comment=a.comment),a.createdBy!==void 0&&(l["created by"]=a.createdBy),a.private!==void 0&&(l.info.private=Number(a.private)),a.info!==void 0&&Object.assign(l.info,a.info),a.sslCert!==void 0&&(l.info["ssl-cert"]=a.sslCert),a.urlList!==void 0&&(l["url-list"]=a.urlList);const f=o.reduce(d_,0),h=a.pieceLength||Math.min(a_(f),a.maxPieceLength);l.info["piece length"]=h,async function(d,p,m,g,y){const _=[];let b=0,w=0;const v=d.map(L=>L.getStream),A=g.onProgress;let E=0,D=0,I=!1;const P=Mf(Nf(v),p,{zeroPadding:!1});try{for await(const L of P)await new Promise(C=>{b+=L.length;const k=D;++D,++E<f_&&C(),(0,re.tW)(L,"hex").then(x=>{_[k]=x,--E,w+=L.length,A&&A(w,m),C(),I&&E===0&&y(null,(0,re.fk)(_.join("")),b)})});if(E===0)return y(null,(0,re.fk)(_.join("")),b);I=!0}catch(L){y(L)}}(o,h,f,a,(d,p,m)=>{if(d)return u(d);l.info.pieces=p,o.forEach(g=>{delete g.getStream}),a.singleFileTorrent?l.info.length=m:l.info.files=o,u(null,Et.A.encode(l))})}(i,e,n)})};var _t=se(7833),iu=se(6664),su=se(1827),ou=se(3208);const xo=self.fetch||(()=>{throw new Error("global fetch is not available!")}),au=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255],m_=function(t){if(!ArrayBuffer.isView(t)&&typeof t!="string")throw new TypeError("base32.decode only takes Buffer or string as parameter");let e,n=0,r=0,i=0;ArrayBuffer.isView(t)||(t=(0,re.L0)(t));const s=new Uint8Array(Math.ceil(5*t.length/8));for(let o=0;o<t.length&&t[o]!==61;o++){const a=t[o]-48;if(!(a<au.length))throw new Error("Invalid input - it is not base32 encoded string");r=au[a],n<=3?(n=(n+5)%8,n===0?(e|=r,s[i]=e,i++,e=0):e|=255&r<<8-n):(n=(n+5)%8,e|=255&r>>>n,s[i]=e,i++,e=255&r<<8-n)}return s.subarray(0,i)};function g_(t){return t.reduce((e,n,r,i)=>{const s=n.split("-").map(o=>parseInt(o));return e.concat(((o,a=o)=>Array.from({length:a-o+1},(u,c)=>c+o))(...s))},[])}const es=function(t){const e={},n=t.split("magnet:?")[1];let r;return(n&&n.length>=0?n.split("&"):[]).forEach(i=>{const s=i.split("=");if(s.length!==2)return;const o=s[0];let a=s[1];o==="dn"&&(a=decodeURIComponent(a).replace(/\+/g," ")),o!=="tr"&&o!=="xs"&&o!=="as"&&o!=="ws"||(a=decodeURIComponent(a)),o==="kt"&&(a=decodeURIComponent(a).split("+")),o==="ix"&&(a=Number(a)),o==="so"&&(a=g_(decodeURIComponent(a).split(","))),e[o]?(Array.isArray(e[o])||(e[o]=[e[o]]),e[o].push(a)):e[o]=a}),e.xt&&(Array.isArray(e.xt)?e.xt:[e.xt]).forEach(i=>{(r=i.match(/^urn:btih:(.{40})/))?e.infoHash=r[1].toLowerCase():(r=i.match(/^urn:btih:(.{32})/))?e.infoHash=(0,re.V5)(m_(r[1])):(r=i.match(/^urn:btmh:1220(.{64})/))&&(e.infoHashV2=r[1].toLowerCase())}),e.xs&&(Array.isArray(e.xs)?e.xs:[e.xs]).forEach(i=>{(r=i.match(/^urn:btpk:(.{64})/))&&(e.publicKey=r[1].toLowerCase())}),e.infoHash&&(e.infoHashBuffer=(0,re.fk)(e.infoHash)),e.infoHashV2&&(e.infoHashV2Buffer=(0,re.fk)(e.infoHashV2)),e.publicKey&&(e.publicKeyBuffer=(0,re.fk)(e.publicKey)),e.dn&&(e.name=e.dn),e.kt&&(e.keywords=e.kt),e.announce=[],(typeof e.tr=="string"||Array.isArray(e.tr))&&(e.announce=e.announce.concat(e.tr)),e.urlList=[],(typeof e.as=="string"||Array.isArray(e.as))&&(e.urlList=e.urlList.concat(e.as)),(typeof e.ws=="string"||Array.isArray(e.ws))&&(e.urlList=e.urlList.concat(e.ws)),e.peerAddresses=[],(typeof e["x.pe"]=="string"||Array.isArray(e["x.pe"]))&&(e.peerAddresses=e.peerAddresses.concat(e["x.pe"])),e.announce=Array.from(new Set(e.announce)),e.urlList=Array.from(new Set(e.urlList)),e.peerAddresses=Array.from(new Set(e.peerAddresses)),e};async function Ms(t){if(typeof t=="string"&&/^(stream-)?magnet:/.test(t)){const e=es(t);if(!e.infoHash)throw new Error("Invalid torrent identifier");return e}if(typeof t=="string"&&(/^[a-f0-9]{40}$/i.test(t)||/^[a-z2-7]{32}$/i.test(t)))return es(`magnet:?xt=urn:btih:${t}`);if(ArrayBuffer.isView(t)&&t.length===20)return es(`magnet:?xt=urn:btih:${(0,re.V5)(t)}`);if(ArrayBuffer.isView(t))return await async function(e){ArrayBuffer.isView(e)&&(e=Et.A.decode(e)),fn(e.info,"info"),fn(e.info["name.utf-8"]||e.info.name,"info.name"),fn(e.info["piece length"],"info['piece length']"),fn(e.info.pieces,"info.pieces"),e.info.files?e.info.files.forEach(s=>{fn(typeof s.length=="number","info.files[0].length"),fn(s["path.utf-8"]||s.path,"info.files[0].path")}):fn(typeof e.info.length=="number","info.length");const n={info:e.info,infoBuffer:Et.A.encode(e.info),name:(0,re.dU)(e.info["name.utf-8"]||e.info.name),announce:[]};n.infoHashBuffer=await(0,re.tW)(n.infoBuffer),n.infoHash=(0,re.V5)(n.infoHashBuffer),e.info.private!==void 0&&(n.private=!!e.info.private),e["creation date"]&&(n.created=new Date(1e3*e["creation date"])),e["created by"]&&(n.createdBy=(0,re.dU)(e["created by"])),ArrayBuffer.isView(e.comment)&&(n.comment=(0,re.dU)(e.comment)),Array.isArray(e["announce-list"])&&e["announce-list"].length>0?e["announce-list"].forEach(s=>{s.forEach(o=>{n.announce.push((0,re.dU)(o))})}):e.announce&&n.announce.push((0,re.dU)(e.announce)),ArrayBuffer.isView(e["url-list"])&&(e["url-list"]=e["url-list"].length>0?[e["url-list"]]:[]),n.urlList=(e["url-list"]||[]).map(s=>(0,re.dU)(s)),n.announce=Array.from(new Set(n.announce)),n.urlList=Array.from(new Set(n.urlList));const r=e.info.files||[e.info];n.files=r.map((s,o)=>{const a=[].concat(n.name,s["path.utf-8"]||s.path||[]).map(u=>ArrayBuffer.isView(u)?(0,re.dU)(u):u);return{path:vr.apply(null,[o_].concat(a)).slice(1),name:a[a.length-1],length:s.length,offset:r.slice(0,o).reduce(uu,0)}}),n.length=r.reduce(uu,0);const i=n.files[n.files.length-1];return n.pieceLength=e.info["piece length"],n.lastPieceLength=(i.offset+i.length)%n.pieceLength||n.pieceLength,n.pieces=function(s){const o=[];for(let a=0;a<s.length;a+=20)o.push((0,re.V5)(s.slice(a,a+20)));return o}(e.info.pieces),n}(t);if(t&&t.infoHash)return t.infoHash=t.infoHash.toLowerCase(),t.announce||(t.announce=[]),typeof t.announce=="string"&&(t.announce=[t.announce]),t.urlList||(t.urlList=[]),t;throw new Error("Invalid torrent identifier")}async function $f(t,e,n){if(typeof e=="function")return $f(t,{},e);if(typeof n!="function")throw new Error("second argument must be a Function");let r;try{r=await Ms(t)}catch{}if(r&&r.infoHash)Ke(()=>{n(null,r)});else if(i=t,typeof Blob<"u"&&i instanceof Blob)try{s(new Uint8Array(await t.arrayBuffer()))}catch(o){return n(new Error(`Error converting Blob: ${o.message}`))}else if(/^https?:/.test(t))try{const o=await xo(t,{headers:{"user-agent":"WebTorrent (https://webtorrent.io)"},signal:AbortSignal.timeout(3e4),...e});s(new Uint8Array(await o.arrayBuffer()))}catch(o){return n(new Error(`Error downloading torrent: ${o.message}`))}else typeof ou.readFile=="function"&&typeof t=="string"?ou.readFile(t,(o,a)=>{if(o)return n(new Error("Invalid torrent identifier"));s(a)}):Ke(()=>{n(new Error("Invalid torrent identifier"))});var i;async function s(o){try{r=await Ms(o)}catch(a){return n(a)}r&&r.infoHash?n(null,r):n(new Error("Invalid torrent identifier"))}}function uu(t,e){return t+e.length}function fn(t,e){if(!t)throw new Error(`Torrent is missing required field: ${e}`)}const Qr=Ms,b_=function(t){t=Object.assign({},t);let e=new Set;t.xt&&typeof t.xt=="string"&&e.add(t.xt),t.xt&&Array.isArray(t.xt)&&(e=new Set(t.xt)),t.infoHashBuffer&&e.add(`urn:btih:${(0,re.V5)(t.infoHashBuffer)}`),t.infoHash&&e.add(`urn:btih:${t.infoHash}`),t.infoHashV2Buffer&&e.add(t.xt=`urn:btmh:1220${(0,re.V5)(t.infoHashV2Buffer)}`),t.infoHashV2&&e.add(`urn:btmh:1220${t.infoHashV2}`);const n=Array.from(e);n.length===1&&(t.xt=n[0]),n.length>1&&(t.xt=n),t.publicKeyBuffer&&(t.xs=`urn:btpk:${(0,re.V5)(t.publicKeyBuffer)}`),t.publicKey&&(t.xs=`urn:btpk:${t.publicKey}`),t.name&&(t.dn=t.name),t.keywords&&(t.kt=t.keywords),t.announce&&(t.tr=t.announce),t.urlList&&(t.ws=t.urlList,delete t.as),t.peerAddresses&&(t["x.pe"]=t.peerAddresses);let r="magnet:?";return Object.keys(t).filter(i=>i.length===2||i==="x.pe").forEach((i,s)=>{const o=Array.isArray(t[i])?t[i]:[t[i]];var a;o.forEach((u,c)=>{(s>0||c>0)&&(i!=="kt"&&i!=="so"||c===0)&&(r+="&"),i==="dn"&&(u=encodeURIComponent(u).replace(/%20/g,"+")),i!=="tr"&&i!=="as"&&i!=="ws"||(u=encodeURIComponent(u)),i!=="xs"||u.startsWith("urn:btpk:")||(u=encodeURIComponent(u)),i==="kt"&&(u=encodeURIComponent(u)),i!=="so"&&(r+=i==="kt"&&c>0?`+${u}`:`${i}=${u}`)}),i==="so"&&(r+=`${i}=${a=o,a.reduce((u,c,l,f)=>(l!==0&&c===f[l-1]+1||u.push([]),u[u.length-1].push(c),u),[]).map(u=>u.length>1?`${u[0]}-${u[u.length-1]}`:`${u[0]}`)}`)}),r},zt=typeof window<"u"?window:self,Ns=zt.RTCPeerConnection||zt.mozRTCPeerConnection||zt.webkitRTCPeerConnection,__=zt.RTCSessionDescription||zt.mozRTCSessionDescription||zt.webkitRTCSessionDescription,y_=zt.RTCIceCandidate||zt.mozRTCIceCandidate||zt.webkitRTCIceCandidate;var Ci=se(8179),Me=se(6310);const w_=_t("simple-peer"),ts=65536;function cu(t){return t.replace(/a=ice-options:trickle\s\n/g,"")}class vn extends Ci.Duplex{constructor(n){super(n=Object.assign({allowHalfOpen:!1},n));tt(this,"_pc");if(this.__objectMode=!!n.objectMode,this._id=(0,re.V5)((0,re.po)(4)).slice(0,7),this._debug("new peer %o",n),this.channelName=n.initiator?n.channelName||(0,re.V5)((0,re.po)(20)):null,this.initiator=n.initiator||!1,this.channelConfig=n.channelConfig||vn.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},vn.config,n.config),this.offerOptions=n.offerOptions||{},this.answerOptions=n.answerOptions||{},this.sdpTransform=n.sdpTransform||(r=>r),this.trickle=n.trickle===void 0||n.trickle,this.allowHalfTrickle=n.allowHalfTrickle!==void 0&&n.allowHalfTrickle,this.iceCompleteTimeout=n.iceCompleteTimeout||5e3,this._destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,!Ns)throw Me(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new Ns(this.config)}catch(r){return void this.__destroy(Me(r,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=r=>{this._onIceCandidate(r)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(r=>{this.__destroy(Me(r,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=r=>{this._setupData(r)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(n){if(!this._destroying){if(this.destroyed)throw Me(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof n=="string")try{n=JSON.parse(n)}catch{n={}}this._debug("signal()"),n.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),n.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(n.transceiverRequest.kind,n.transceiverRequest.init)),n.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(n.candidate):this._pendingCandidates.push(n.candidate)),n.sdp&&this._pc.setRemoteDescription(new __(n)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(r=>{this._addIceCandidate(r)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(r=>{this.__destroy(Me(r,"ERR_SET_REMOTE_DESCRIPTION"))}),n.sdp||n.candidate||n.renegotiate||n.transceiverRequest||this.__destroy(Me(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(n){const r=new y_(n);this._pc.addIceCandidate(r).catch(i=>{var s;!r.address||r.address.endsWith(".local")?(s="Ignoring unsupported ICE candidate.",console.warn(s)):this.__destroy(Me(i,"ERR_ADD_ICE_CANDIDATE"))})}send(n){if(!this._destroying){if(this.destroyed)throw Me(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(n)}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,queueMicrotask(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this._destroying){if(this.destroyed)throw Me(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}_final(n){this._readableState.ended||this.push(null),n(null)}__destroy(n){this.end(),this._destroy(()=>{},n)}_destroy(n,r){this.destroyed||this._destroying||(this._destroying=!0,this._debug("destroying (error: %s)",r&&(r.message||r)),setTimeout(()=>{if(this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,r&&this.emit("error",r),n()},0))}_setupData(n){if(!n.channel)return this.__destroy(Me(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=n.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=ts),this.channelName=this._channel.label,this._channel.onmessage=i=>{this._onChannelMessage(i)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=i=>{const s=i.error instanceof Error?i.error:new Error(`Datachannel error: ${i.message} ${i.filename}:${i.lineno}:${i.colno}`);this.__destroy(Me(s,"ERR_DATA_CHANNEL"))};let r=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(r&&this._onChannelClose(),r=!0):r=!1},5e3)}_write(n,r){if(this.destroyed)return r(Me(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(n)}catch(i){return this.__destroy(Me(i,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>ts?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=n,this._cb=r}_onFinish(){if(this.destroyed)return;const n=()=>{setTimeout(()=>this.__destroy(),1e3)};this._connected?n():this.once("connect",n)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(n=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(n.sdp=cu(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const r=()=>{if(this.destroyed)return;const i=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:i.type,sdp:i.sdp})};this._pc.setLocalDescription(n).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))}).catch(i=>{this.__destroy(Me(i,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(n=>{this.__destroy(Me(n,"ERR_CREATE_OFFER"))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(n=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(n.sdp=cu(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const r=()=>{var s;if(this.destroyed)return;const i=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:i.type,sdp:i.sdp}),this.initiator||((s=this._requestMissingTransceivers)==null||s.call(this))};this._pc.setLocalDescription(n).then(()=>{this.destroyed||(this.trickle||this._iceComplete?r():this.once("_iceComplete",r))}).catch(i=>{this.__destroy(Me(i,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(n=>{this.__destroy(Me(n,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._destroying||this._pc.connectionState==="failed"&&this.__destroy(Me(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const n=this._pc.iceConnectionState,r=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",n,r),this.emit("iceStateChange",n,r),n!=="connected"&&n!=="completed"||(this._pcReady=!0,this._maybeReady()),n==="failed"&&this.__destroy(Me(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),n==="closed"&&this.__destroy(Me(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(n){const r=i=>(Object.prototype.toString.call(i.values)==="[object Array]"&&i.values.forEach(s=>{Object.assign(i,s)}),i);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(i=>{const s=[];i.forEach(o=>{s.push(r(o))}),n(null,s)},i=>n(i)):this._pc.getStats.length>0?this._pc.getStats(i=>{if(this.destroyed)return;const s=[];i.result().forEach(o=>{const a={};o.names().forEach(u=>{a[u]=o.stat(u)}),a.id=o.id,a.type=o.type,a.timestamp=o.timestamp,s.push(r(a))}),n(null,s)},i=>n(i)):n(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const n=()=>{this.destroyed||this._destroying||this.getStats((r,i)=>{if(this.destroyed||this._destroying)return;r&&(i=[]);const s={},o={},a={};let u=!1;i.forEach(l=>{l.type!=="remotecandidate"&&l.type!=="remote-candidate"||(s[l.id]=l),l.type!=="localcandidate"&&l.type!=="local-candidate"||(o[l.id]=l),l.type!=="candidatepair"&&l.type!=="candidate-pair"||(a[l.id]=l)});const c=l=>{u=!0;let f=o[l.localCandidateId];f&&(f.ip||f.address)?(this.localAddress=f.ip||f.address,this.localPort=Number(f.port)):f&&f.ipAddress?(this.localAddress=f.ipAddress,this.localPort=Number(f.portNumber)):typeof l.googLocalAddress=="string"&&(f=l.googLocalAddress.split(":"),this.localAddress=f[0],this.localPort=Number(f[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let h=s[l.remoteCandidateId];h&&(h.ip||h.address)?(this.remoteAddress=h.ip||h.address,this.remotePort=Number(h.port)):h&&h.ipAddress?(this.remoteAddress=h.ipAddress,this.remotePort=Number(h.portNumber)):typeof l.googRemoteAddress=="string"&&(h=l.googRemoteAddress.split(":"),this.remoteAddress=h[0],this.remotePort=Number(h[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(i.forEach(l=>{l.type==="transport"&&l.selectedCandidatePairId&&c(a[l.selectedCandidatePairId]),(l.type==="googCandidatePair"&&l.googActiveConnection==="true"||(l.type==="candidatepair"||l.type==="candidate-pair")&&l.selected)&&c(l)}),u||Object.keys(a).length&&!Object.keys(o).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(f){return this.__destroy(Me(f,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const l=this._cb;this._cb=null,l(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(n,100)})};n()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>ts||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(n=>{this._pc.removeTrack(n),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(n){this.destroyed||(n.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:n.candidate.candidate,sdpMLineIndex:n.candidate.sdpMLineIndex,sdpMid:n.candidate.sdpMid}}):n.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),n.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(n){if(this.destroyed)return;let r=n.data;r instanceof ArrayBuffer?r=new Uint8Array(r):this.__objectMode===!1&&(r=(0,re.L0)(r)),this.push(r)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const n=this._cb;this._cb=null,n(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.__destroy())}_debug(){const n=[].slice.call(arguments);n[0]="["+this._id+"] "+n[0],w_.apply(null,n)}}vn.WEBRTC_SUPPORT=!!Ns,vn.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},vn.channelConfig={};const ko=vn;var di=se(1035),lu=se(7541),hu=se(3278),js=se(8271),zf=se(6686),fu=se(7828),du=se(6889);const v_=/^\[?([^\]]+)]?:(\d+)$/;let nr=new Map;function rr(t){if(nr.size===1e5&&nr.clear(),!nr.has(t)){const e=v_.exec(t);if(!e)throw new Error(`invalid addr: ${t}`);nr.set(t,[e[1],Number(e[2])])}return nr.get(t)}var pi=se(3033),x_=se(4497);async function*k_(t,e={}){if(t!=null&&t[Symbol.asyncIterator])return void(yield*t[Symbol.asyncIterator](e.offset));if(!(t!=null&&t.get))throw new Error("First argument must be an abstract-chunk-store compliant store");const n=e.chunkLength||t.chunkLength;if(!n)throw new Error("missing required `chunkLength` property");let r=e.length||t.length;if(!Number.isFinite(r))throw new Error("missing required `length` property");const i=e.offset||0,s=(u,c,l)=>new Promise((f,h)=>{t.get(u,{offset:l,length:c},(d,p)=>{d&&h(d),f(p)})});let o=Math.floor(i/n);const a=i%n;if(i){const u=Math.min(r,n-a);r-=u,yield s(o++,u,a)}for(let u=r;u>0;++o,u-=n)yield s(o,Math.min(u,n))}async function E_(t,e,n={}){if(!(t!=null&&t.put))throw new Error("First argument must be an abstract-chunk-store compliant store");const r=n.chunkLength||t.chunkLength;if(!r)throw new Error("missing required `chunkLength` property");const i=n.storeMaxOutstandingPuts||16;let s=0,o=0,a=()=>{},u=!1;for await(const c of Mf(e,r,{zeroPadding:n.zeroPadding||!1}))await new Promise((l,f)=>{s++<=i&&l(),t.put(o++,c,h=>{if(h)return f(h);--s,l(),u&&s===0&&a()})});s!==0&&(u=new Promise(c=>{a=c}),await u)}var A_=se(4018),pu=se(3970),Uf=se(3519),S_=se(1551);const $s={DEFAULT_ANNOUNCE_PEERS:50,MAX_ANNOUNCE_PEERS:82,parseUrl:t=>{const e=new URL(t.replace(/^udp:/,"http:"));return t.match(/^udp:/)&&Object.defineProperties(e,{href:{value:e.href.replace(/^http/,"udp")},protocol:{value:e.protocol.replace(/^http/,"udp")},origin:{value:e.origin.replace(/^http/,"udp")}}),e},...se.t(S_,2)};var mu=se(826),gu=se(61),dr=se(2701);const C_=_t("simple-websocket"),cr=typeof dr!="function"?WebSocket:dr;class Hf extends Ci.Duplex{constructor(e={}){if(typeof e=="string"&&(e={url:e}),super(e=Object.assign({allowHalfOpen:!1},e)),this.__objectMode=!!e.objectMode,e.objectMode!=null&&delete e.objectMode,e.url==null&&e.socket==null)throw new Error("Missing required `url` or `socket` option");if(e.url!=null&&e.socket!=null)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=(0,re.V5)((0,re.po)(4)).slice(0,7),this._debug("new websocket: %o",e),this.connected=!1,this._chunk=null,this._cb=null,this._interval=null,e.socket)this.url=e.socket.url,this._ws=e.socket,this.connected=e.socket.readyState===cr.OPEN;else{this.url=e.url;try{this._ws=typeof dr=="function"?new cr(e.url,{...e,encoding:void 0}):new cr(e.url)}catch(n){return void Ke(()=>this.destroy(n))}}this._ws.binaryType="arraybuffer",e.socket&&this.connected?Ke(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=n=>this._handleMessage(n),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=n=>this._handleError(n),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(e){this._ws.send(e)}_final(e){this._readableState.ended||this.push(null),e(null)}_destroy(e){if(!this.destroyed){if(this._writableState.ended||this.end(),this.connected=!1,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const n=this._ws,r=()=>{n.onclose=null};if(n.readyState===cr.CLOSED)r();else try{n.onclose=r,n.close()}catch{r()}n.onopen=null,n.onmessage=null,n.onerror=()=>{}}this._ws=null,e()}}_write(e,n){if(this.destroyed)return n(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(e)}catch(r){return this.destroy(r)}typeof dr!="function"&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(n){return this.destroy(n)}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}typeof dr!="function"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(e){if(this.destroyed)return;let n=e.data;n instanceof ArrayBuffer&&(n=new Uint8Array(n)),this.__objectMode===!1&&(n=(0,re.L0)(n)),this.push(n)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(e){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?e():this.once("connect",e)}_onInterval(){if(!this._cb||!this._ws||this._ws.bufferedAmount>65536)return;this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const e=this._cb;this._cb=null,e(null)}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],C_.apply(null,e)}}Hf.WEBSOCKET_SUPPORT=!!cr;const D_=class extends Ht{constructor(t,e){super(),this.client=t,this.announceUrl=e,this.interval=null,this.destroyed=!1}setInterval(t){t==null&&(t=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),t&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},t),this.interval.unref&&this.interval.unref())}},ht=_t("bittorrent-tracker:websocket-tracker"),Rt={};class zs extends D_{constructor(e,n){super(e,n),ht("new websocket tracker %s",n),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(e)});const n=Object.assign({},e,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(n.trackerid=this._trackerId),e.event==="stopped"||e.event==="completed")this._send(n);else{const r=Math.min(e.numwant,5);this._generateOffers(r,i=>{n.numwant=r,n.offers=i,this._send(n)})}}scrape(e){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(e)});const n={action:"scrape",info_hash:Array.isArray(e.infoHash)&&e.infoHash.length>0?e.infoHash.map(r=>(0,re.Ht)(r)):e.infoHash&&(0,re.Ht)(e.infoHash)||this.client._infoHashBinary};this._send(n)}destroy(e=bu){if(this.destroyed)return e(null);this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer);for(const s in this.peers){const o=this.peers[s];clearTimeout(o.trackerTimeout),o.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,Rt[this.announceUrl]&&(Rt[this.announceUrl].consumers-=1),Rt[this.announceUrl].consumers>0)return e();let n,r=Rt[this.announceUrl];if(delete Rt[this.announceUrl],r.on("error",bu),r.once("close",e),!this.expectingResponse)return i();function i(){n&&(clearTimeout(n),n=null),r.removeListener("data",i),r.destroy(),r=null}n=setTimeout(i,$s.DESTROY_TIMEOUT),r.once("data",i)}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=e=>{this._onSocketError(e)},this._onSocketDataBound=e=>{this._onSocketData(e)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=Rt[this.announceUrl],this.socket)Rt[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const e=new URL(this.announceUrl);let n;this.client._proxyOpts&&(n=e.protocol==="wss:"?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!n&&this.client._proxyOpts.socksProxy&&(n=this.client._proxyOpts.socksProxy)),this.socket=Rt[this.announceUrl]=new Hf({url:this.announceUrl,agent:n}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(e){if(!this.destroyed){this.expectingResponse=!1;try{e=JSON.parse((0,re.dU)(e))}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}e.action==="announce"?this._onAnnounceResponse(e):e.action==="scrape"?this._onScrapeResponse(e):this._onSocketError(new Error(`invalid action in WS response: ${e.action}`))}}_onAnnounceResponse(e){if(e.info_hash!==this.client._infoHashBinary)return void ht("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,(0,re.HB)(e.info_hash),this.client.infoHash);if(e.peer_id&&e.peer_id===this.client._peerIdBinary)return;ht("received %s from %s for %s",JSON.stringify(e),this.announceUrl,this.client.infoHash);const n=e["failure reason"];if(n)return this.client.emit("warning",new Error(n));const r=e["warning message"];r&&this.client.emit("warning",new Error(r));const i=e.interval||e["min interval"];i&&this.setInterval(1e3*i);const s=e["tracker id"];if(s&&(this._trackerId=s),e.complete!=null){const a=Object.assign({},e,{announce:this.announceUrl,infoHash:(0,re.HB)(e.info_hash)});this.client.emit("update",a)}let o;if(e.offer&&e.peer_id&&(ht("creating peer (from remote offer)"),o=this._createPeer(),o.id=(0,re.HB)(e.peer_id),o.once("signal",a=>{const u={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:e.peer_id,answer:a,offer_id:e.offer_id};this._trackerId&&(u.trackerid=this._trackerId),this._send(u)}),this.client.emit("peer",o),o.signal(e.offer)),e.answer&&e.peer_id){const a=(0,re.HB)(e.offer_id);o=this.peers[a],o?(o.id=(0,re.HB)(e.peer_id),this.client.emit("peer",o),o.signal(e.answer),clearTimeout(o.trackerTimeout),o.trackerTimeout=null,delete this.peers[a]):ht(`got unexpected answer: ${JSON.stringify(e.answer)}`)}}_onScrapeResponse(e){e=e.files||{};const n=Object.keys(e);n.length!==0?n.forEach(r=>{const i=Object.assign(e[r],{announce:this.announceUrl,infoHash:(0,re.HB)(r)});this.client.emit("scrape",i)}):this.client.emit("warning",new Error("invalid scrape response"))}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(e){this.destroyed||(this.destroy(),this.client.emit("warning",e),this._startReconnectTimer())}_startReconnectTimer(){const e=Math.floor(3e5*Math.random())+Math.min(1e4*Math.pow(2,this.retries),36e5);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},e),this.reconnectTimer.unref&&this.reconnectTimer.unref(),ht("reconnecting socket in %s ms",e)}_send(e){if(this.destroyed)return;this.expectingResponse=!0;const n=JSON.stringify(e);ht("send %s",n),this.socket.send(n)}_generateOffers(e,n){const r=this,i=[];ht("generating %s offers",e);for(let a=0;a<e;++a)s();function s(){const a=(0,re.V5)((0,re.po)(20));ht("creating peer (from _generateOffers)");const u=r.peers[a]=r._createPeer({initiator:!0});u.once("signal",c=>{i.push({offer:c,offer_id:(0,re.Ht)(a)}),o()}),u.trackerTimeout=setTimeout(()=>{ht("tracker timeout: destroying peer"),u.trackerTimeout=null,delete r.peers[a],u.destroy()},5e4),u.trackerTimeout.unref&&u.trackerTimeout.unref()}function o(){i.length===e&&(ht("generated %s offers",e),n(i))}o()}_createPeer(e){const n=this;e=Object.assign({trickle:!1,config:n.client._rtcConfig,wrtc:n.client._wrtc},e);const r=new ko(e);return r.once("error",i),r.once("connect",function s(){r.removeListener("error",i),r.removeListener("connect",s)}),r;function i(s){n.client.emit("warning",new Error(`Connection error: ${s.message}`)),r.destroy()}}}function bu(){}zs.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,zs._socketPool=Rt;const T_=zs;var O_=se(717);const Jt=_t("bittorrent-tracker:client");class Us extends Ht{constructor(e={}){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!e.announce)throw new Error("Option `announce` is required");if(!O_.browser&&!e.port)throw new Error("Option `port` is required");this.peerId=typeof e.peerId=="string"?e.peerId:(0,re.V5)(e.peerId),this._peerIdBuffer=(0,re.fk)(this.peerId),this._peerIdBinary=(0,re.Ht)(this.peerId),this.infoHash=typeof e.infoHash=="string"?e.infoHash.toLowerCase():(0,re.V5)(e.infoHash),this._infoHashBuffer=(0,re.fk)(this.infoHash),this._infoHashBinary=(0,re.Ht)(this.infoHash),Jt("new client %s",this.infoHash),this.destroyed=!1,this._port=e.port,this._getAnnounceOpts=e.getAnnounceOpts,this._rtcConfig=e.rtcConfig,this._userAgent=e.userAgent,this._proxyOpts=e.proxyOpts,this._wrtc=typeof e.wrtc=="function"?e.wrtc():e.wrtc;let n=typeof e.announce=="string"?[e.announce]:e.announce==null?[]:e.announce;n=n.map(s=>(ArrayBuffer.isView(s)&&(s=(0,re.dU)(s)),s[s.length-1]==="/"&&(s=s.substring(0,s.length-1)),s)),n=Array.from(new Set(n));const r=this._wrtc!==!1&&(!!this._wrtc||ko.WEBRTC_SUPPORT),i=s=>{Ke(()=>{this.emit("warning",s)})};this._trackers=n.map(s=>{let o;try{o=$s.parseUrl(s)}catch{return i(new Error(`Invalid tracker URL: ${s}`)),null}const a=o.port;if(a<0||a>65535)return i(new Error(`Invalid tracker port: ${s}`)),null;const u=o.protocol;return u!=="http:"&&u!=="https:"||typeof mu!="function"?u==="udp:"&&typeof gu=="function"?new gu(this,s):u!=="ws:"&&u!=="wss:"||!r||u==="ws:"&&typeof window<"u"&&window.location.protocol==="https:"?(i(new Error(`Unsupported tracker protocol: ${s}`)),null):new T_(this,s):new mu(this,s)}).filter(Boolean)}start(e){(e=this._defaultAnnounceOpts(e)).event="started",Jt("send `start` %o",e),this._announce(e),this._trackers.forEach(n=>{n.setInterval()})}stop(e){(e=this._defaultAnnounceOpts(e)).event="stopped",Jt("send `stop` %o",e),this._announce(e)}complete(e){e||(e={}),(e=this._defaultAnnounceOpts(e)).event="completed",Jt("send `complete` %o",e),this._announce(e)}update(e){(e=this._defaultAnnounceOpts(e)).event&&delete e.event,Jt("send `update` %o",e),this._announce(e)}_announce(e){this._trackers.forEach(n=>{n.announce(e)})}scrape(e){Jt("send `scrape`"),e||(e={}),this._trackers.forEach(n=>{n.scrape(e)})}setInterval(e){Jt("setInterval %d",e),this._trackers.forEach(n=>{n.setInterval(e)})}destroy(e){if(this.destroyed)return;this.destroyed=!0,Jt("destroy");const n=this._trackers.map(r=>i=>{r.destroy(i)});sn(n,e),this._trackers=[],this._getAnnounceOpts=null}_defaultAnnounceOpts(e={}){return e.numwant==null&&(e.numwant=$s.DEFAULT_ANNOUNCE_PEERS),e.uploaded==null&&(e.uploaded=0),e.downloaded==null&&(e.downloaded=0),this._getAnnounceOpts&&(e=Object.assign({},e,this._getAnnounceOpts())),e}}Us.scrape=(t,e)=>{if(e=Uf(e),!t.infoHash)throw new Error("Option `infoHash` is required");if(!t.announce)throw new Error("Option `announce` is required");const n=Object.assign({},t,{infoHash:Array.isArray(t.infoHash)?t.infoHash[0]:t.infoHash,peerId:(0,re.L0)("01234567890123456789"),port:6881}),r=new Us(n);r.once("error",e),r.once("warning",e);let i=Array.isArray(t.infoHash)?t.infoHash.length:1;const s={};return r.on("scrape",o=>{if(i-=1,s[o.infoHash]=o,i===0){r.destroy();const a=Object.keys(s);a.length===1?e(null,s[a[0]]):e(null,s)}}),r.scrape({infoHash:t.infoHash}),r};const F_=Us;se(7936);var _u=se(2799),I_=se(717);const yu=_t("torrent-discovery");class P_ extends Ht.EventEmitter{constructor(e){if(super(),!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!I_.browser&&!e.port)throw new Error("Option `port` is required");this.peerId=typeof e.peerId=="string"?e.peerId:e.peerId.toString("hex"),this.infoHash=typeof e.infoHash=="string"?e.infoHash.toLowerCase():e.infoHash.toString("hex"),this._port=e.port,this._userAgent=e.userAgent,this.destroyed=!1,this._announce=e.announce||[],this._intervalMs=e.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=r=>{this.emit("warning",r)},this._onError=r=>{this.emit("error",r)},this._onDHTPeer=(r,i)=>{i.toString("hex")===this.infoHash&&this.emit("peer",`${r.host}:${r.port}`,"dht")},this._onTrackerPeer=r=>{this.emit("peer",r,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(r,i)=>{this.emit("peer",r,"lsd")};const n=(r,i)=>{const s=new pu.Client(i);return s.on("warning",this._onWarning),s.on("error",this._onError),s.listen(r),this._internalDHT=!0,s};e.tracker===!1?this.tracker=null:e.tracker&&typeof e.tracker=="object"?(this._trackerOpts=Object.assign({},e.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),e.dht===!1||typeof pu.Client!="function"?this.dht=null:e.dht&&typeof e.dht.addNode=="function"?this.dht=e.dht:e.dht&&typeof e.dht=="object"?this.dht=n(e.dhtPort,e.dht):this.dht=n(e.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),e.lsd===!1||typeof _u!="function"?this.lsd=null:this.lsd=this._createLSD()}updatePort(e){e!==this._port&&(this._port=e,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(e){this.tracker&&this.tracker.complete(e)}destroy(e){if(this.destroyed)return;this.destroyed=!0,clearTimeout(this._dhtTimeout);const n=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),n.push(r=>{this.tracker.destroy(r)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),n.push(r=>{this.dht.destroy(r)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),n.push(r=>{this.lsd.destroy(r)})),sn(n,e),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}_createTracker(){const e=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),n=new F_(e);return n.on("warning",this._onWarning),n.on("error",this._onError),n.on("peer",this._onTrackerPeer),n.on("update",this._onTrackerAnnounce),n.setInterval(this._intervalMs),n.start(),n}_dhtAnnounce(){this._dhtAnnouncing||(yu("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,e=>{this._dhtAnnouncing=!1,yu("dht announce complete"),e&&this.emit("warning",e),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+Math.floor(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const e=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),n=new _u(e);return n.on("warning",this._onWarning),n.on("error",this._onError),n.on("peer",this._onLSDPeer),n.start(),n}}const L_=P_,R_=["seeking position failed.","InvalidStateError"],B_=["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],ns=t=>[`Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ${t}`,"SyntaxError"];class qr extends WritableStream{constructor(e){super(e),Object.setPrototypeOf(this,FileSystemWritableFileStream.prototype),this._closed=!1}async close(){this._closed=!0;const e=this.getWriter(),n=e.close();return e.releaseLock(),n}seek(e){return this.write({type:"seek",position:e})}truncate(e){return this.write({type:"truncate",size:e})}write(e){if(this._closed)return Promise.reject(new TypeError("Cannot write to a CLOSED writable stream"));const n=this.getWriter(),r=n.write(e);return n.releaseLock(),r}}if(Object.defineProperty(qr.prototype,Symbol.toStringTag,{value:"FileSystemWritableFileStream",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(qr.prototype,{close:{enumerable:!0},seek:{enumerable:!0},truncate:{enumerable:!0},write:{enumerable:!0}}),!globalThis.FileSystemFileHandle||globalThis.FileSystemFileHandle.prototype.createWritable||globalThis.FileSystemWritableFileStream||(globalThis.FileSystemWritableFileStream=qr),globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable){const t=new WeakMap;let e;const n=()=>{let i,s;onmessage=async o=>{const a=o.ports[0],u=o.data;switch(u.type){case"open":{const c=u.name;let l=await navigator.storage.getDirectory();for(const f of u.path)l=await l.getDirectoryHandle(f);i=await l.getFileHandle(c),s=await i.createSyncAccessHandle();break}case"write":s.write(u.data,{at:u.position}),s.flush();break;case"truncate":s.truncate(u.size);break;case"abort":case"close":s.close()}a.postMessage(0)}};globalThis.FileSystemFileHandle.prototype.createWritable=async function(i){if(!e){const d=`(${n.toString()})()`,p=new Blob([d],{type:"text/javascript"});e=URL.createObjectURL(p)}const s=new Worker(e,{type:"module"});let o=0;const a=new TextEncoder;let u=await this.getFile().then(d=>d.size);const c=d=>new Promise((p,m)=>{const g=new MessageChannel;g.port1.onmessage=y=>{y.data instanceof Error?m(y.data):p(y.data),g.port1.close(),g.port2.close(),g.port1.onmessage=null},s.postMessage(d,[g.port2])}),l=await navigator.storage.getDirectory(),f=await t.get(this),h=await l.resolve(f);if(h===null)throw new DOMException(...B_);return await c({type:"open",path:h,name:this.name}),(i==null?void 0:i.keepExistingData)===!1&&(await c({type:"truncate",size:0}),u=0),new qr({async write(d){if((d=(d==null?void 0:d.constructor)===Object?{...d}:{type:"write",data:d,position:o}).type==="write"){if(!("data"in d))throw await c({type:"close"}),new DOMException(...ns("write requires a data argument"));if(d.position??(d.position=o),typeof d.data=="string")d.data=a.encode(d.data);else if(d.data instanceof ArrayBuffer)d.data=new Uint8Array(d.data);else if(d.data instanceof Uint8Array||!ArrayBuffer.isView(d.data)){if(!(d.data instanceof Uint8Array)){const p=await new Response(d.data).arrayBuffer();d.data=new Uint8Array(p)}}else d.data=new Uint8Array(d.data.buffer,d.data.byteOffset,d.data.byteLength);Number.isInteger(d.position)&&d.position>=0&&(o=d.position),o+=d.data.byteLength,u+=d.data.byteLength}else{if(d.type==="seek"){if(Number.isInteger(d.position)&&d.position>=0){if(u<d.position)throw new DOMException(...R_);return void(o=d.position)}throw await c({type:"close"}),new DOMException(...ns("seek requires a position argument"))}if(d.type==="truncate"){if(!(Number.isInteger(d.size)&&d.size>=0))throw await c({type:"close"}),new DOMException(...ns("truncate requires a size argument"));u=d.size,o>u&&(o=u)}}await c(d)},async close(){await c({type:"close"}),s.terminate()},async abort(d){await c({type:"abort",reason:d}),s.terminate()}})};const r=FileSystemDirectoryHandle.prototype.getFileHandle;FileSystemDirectoryHandle.prototype.getFileHandle=async function(...i){const s=await r.call(this,...i);return t.set(s,this),s}}const M_=/[<>:"/\\|?*\u0000-\u001F]/g;var nc,rc;(rc=(nc=globalThis.navigator)==null?void 0:nc.storage)!=null&&rc.getDirectory&&navigator.storage.getDirectory().then(t=>{t.removeEntry("chunks",{recursive:!0}).catch(()=>{})});const ir=(t,e)=>{};class qf{constructor(e,n={}){tt(this,"name","");tt(this,"chunks",[]);tt(this,"chunkMap",[]);tt(this,"directoryMap",{});tt(this,"files");tt(this,"rootDirPromise");tt(this,"storageDirPromise");tt(this,"chunksDirPromise");tt(this,"closing",!1);tt(this,"closed",!1);var r,i;if(this.chunkLength=Number(e),!this.chunkLength)throw new Error("First argument must be a chunk length");if(!((i=(r=globalThis.navigator)==null?void 0:r.storage)!=null&&i.getDirectory))throw new Error("FSA API is not supported");if(this.closed=!1,this.name=n.name||crypto.randomUUID(),this.rootDirPromise=n.rootDir||navigator.storage.getDirectory(),this.storageDirPromise=(async()=>(await this.rootDirPromise).getDirectoryHandle(this.name,{create:!0}))(),this.chunksDirPromise=this.storageDirPromise,n.files&&n.rootDir){if(this.chunksDirPromise=this._getChunksDirHandle(),this.files=n.files.map((s,o,a)=>{if(s.path==null)throw new Error("File is missing `path` property");if(s.length==null)throw new Error("File is missing `length` property");if(s.offset==null)if(o===0)s.offset=0;else{const h=a[o-1];s.offset=h.offset+h.length}s.handle==null&&(s.handle=this._createFileHandle({path:s.path})),s.blob=this._createBlobReference(s.handle);const u=s.offset,c=s.offset+s.length,l=Math.floor(u/this.chunkLength),f=Math.floor((c-1)/this.chunkLength);for(let h=l;h<=f;++h){const d=h*this.chunkLength,p=u<d?0:u-d,m=c>d+this.chunkLength?this.chunkLength:c-d,g=u>d?0:d-u;this.chunkMap[h]||(this.chunkMap[h]=[]),this.chunkMap[h].push({from:p,to:m,offset:g,file:s})}return s}),window.addEventListener("pagehide",()=>this.cleanup()),this.length=this.files.reduce((s,o)=>s+o.length,0),n.length!=null&&n.length!==this.length)throw new Error("total `files` length is not equal to explicit `length` option")}else this.length=Number(n.length)||1/0;this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=Math.ceil(this.length/this.chunkLength)-1)}async _getChunkHandle(e){let n=this.chunks[e];if(!n){const r=await this.chunksDirPromise;this.chunks[e]=n=await r.getFileHandle(e,{create:!0})}return n}async _createFileHandle(e){const n=e.path.slice(e.path.lastIndexOf("/")+1);return(await this._getDirectoryHandle(e)).getFileHandle(n.replace(M_,""),{create:!0})}async _createBlobReference(e){return(await e).getFile()}async _getDirectoryHandle(e){const n=e.path.lastIndexOf("/");if(n===-1||n===0)return this.storageDirPromise;const r=e.path=e.path.slice(0,n);return this.directoryMap[r]||(this.directoryMap[r]=(async()=>(await this._getDirectoryHandle(e)).getDirectoryHandle(r.slice(r.lastIndexOf("/")+1),{create:!0}))()),this.directoryMap[r]}async _getChunksDirHandle(){return(await(await navigator.storage.getDirectory()).getDirectoryHandle("chunks",{create:!0})).getDirectoryHandle(this.name,{create:!0})}async put(e,n,r=ir){try{return await this._put(e,n),r(null),null}catch(i){return queueMicrotask(()=>r(i)),i}}async getStreamForHandle(e){return(await e).createWritable({keepExistingData:!0})}async _put(e,n){if(this.closed)throw new Error("Storage is closed");const r=e===this.lastChunkIndex;if(r&&n.length!==this.lastChunkLength)throw new Error(`Last chunk length must be ${this.lastChunkLength}`);if(!r&&n.length!==this.chunkLength)throw new Error(`Chunk length must be ${this.chunkLength}`);const i=(async()=>{const a=await this._getChunkHandle(e),u=await a.createWritable({keepExistingData:!1});await u.write(n),await u.close()})();if(!this.files)return i;const s=this.chunkMap[e];if(!s)throw new Error("No files matching the request range");const o=s.map(async({file:a,offset:u,from:c,to:l})=>{a.stream||(a.stream=this.getStreamForHandle(a.handle)),await(await a.stream).write({type:"write",position:u,data:n.slice(c,l)})});o.push(i),await Promise.all(o)}async get(e,n,r=ir){n==null&&(n={});try{const i=await this._get(e,n);return r(null,i),i}catch(i){return r(i),i}}async _get(e,n){if(typeof n=="function")return this.get(e,void 0,n);if(this.closed)throw new Error("Storage is closed");const r=e===this.lastChunkIndex?this.lastChunkLength:this.chunkLength,i=n.offset||0,s=n.length?i+n.length:r,o=n.length||r-i;if(i<0||i<0||s>r)throw new Error("Invalid offset and/or length");if(i===s)return new Uint8Array(0);if(!this.files||this.chunks[e]){let h=await(await this._getChunkHandle(e)).getFile();i===0&&o===r||(h=h.slice(i,o+i));const d=await h.arrayBuffer();if(d.byteLength===0)throw new Error(`Index ${e} does not exist`);return new Uint8Array(d)}let a=this.chunkMap[e];if(!a)throw new Error("No files matching the request range");if(n&&(a=a.filter(({from:f,to:h})=>h>i&&f<s),a.length===0))throw new Error("No files matching the request range");const u=a.map(async({from:f,to:h,offset:d,file:p})=>(n&&(h>s&&(h=s),f<i&&(d+=i-f,f=i)),(await p.blob).slice(d,d+h-f))),c=await Promise.all(u),l=c.length===1?await c[0].arrayBuffer():await new Blob(c).arrayBuffer();if(l.byteLength===0)throw new Error(`Index ${e} does not exist`);return new Uint8Array(l)}async close(e=ir){if(this.closing)return((n=ir,r)=>queueMicrotask(()=>n(new Error(r))))(e,"Storage is closed");this.closing=!0,this.chunkMap=void 0,this.directoryMap=void 0,this.files&&await this.cleanup(),this.closed=!0,queueMicrotask(()=>e(null))}async cleanup(){if(this.closed||!this.files)return;const e=[];for(const r of this.files)r.stream&&(e.push(r.stream.then(i=>i.close())),r.stream=void 0);const n=(async()=>{const r=await this.chunksDirPromise;this.chunks=[];for await(const i of r.keys())await r.removeEntry(i,{recursive:!0});this.chunksDirPromise=this._getChunksDirHandle(),await this.chunksDirPromise})();await Promise.all(e);for(const r of this.files)r.blob=this._createBlobReference(r.handle);await n}async destroy(e=ir){this.close(async n=>{if(n)return e(n);try{await(await this.rootDirPromise).removeEntry(this.name,{recursive:!0})}catch(r){return e(r)}e(null)})}}var N_=se(3714),j_=se(1314);const wu=_t("lt_donthave"),Wf=()=>{class t extends Ht.EventEmitter{constructor(n){super(),this._peerSupports=!1,this._wire=n}onExtendedHandshake(){this._peerSupports=!0}onMessage(n){let r;try{r=new DataView(n.buffer).getUint32(0)}catch{return}this._wire.peerPieces.get(r)&&(wu("got donthave %d",r),this._wire.peerPieces.set(r,!1),this.emit("donthave",r),this._failRequests(r))}donthave(n){if(!this._peerSupports)return;wu("donthave %d",n);const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n),this._wire.extended("lt_donthave",r)}_failRequests(n){const r=this._wire.requests;for(let i=0;i<r.length;i++){const s=r[i];s.piece===n&&(j_(r,i),i-=1,this._wire._callback(s,new Error("peer sent donthave"),null))}}}return t.prototype.name="lt_donthave",t};var Vf=se(4862),vu=se(5372);const vt=16384;class jt{constructor(e){this.length=e,this.missing=e,this.sources=null,this._chunks=Math.ceil(e/vt),this._remainder=e%vt||vt,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(e){return e===this._chunks-1?this._remainder:vt}chunkLengthRemaining(e){return this.length-e*vt}chunkOffset(e){return e*vt}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let e=this._reservations;for(;this._cancellations.length;)e=Math.min(e,this._cancellations.pop());return this._reservations=this._chunks,e}return-1}cancel(e){this.init()&&this._cancellations.push(e)}cancelRemaining(e){this.init()&&(this._reservations=e)}get(e){return this.init()?this._buffer[e]:null}set(e,n,r){if(!this.init())return!1;const i=n.length,s=Math.ceil(i/vt);for(let o=0;o<s;o++)if(!this._buffer[e+o]){const a=o*vt,u=n.slice(a,a+vt);this._buffered++,this._buffer[e+o]=u,this.missing-=u.length,this.sources.includes(r)||this.sources.push(r)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const e=(0,re.xW)(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,e}init(){return!this._flushed&&(this._buffer||(this._buffer=new Array(this._chunks),this._cancellations=[],this.sources=[]),!0)}}jt.BLOCK_LENGTH=vt;var $_=se(7373);const z_=_t("ut_metadata"),sr=16384,U_=t=>{class e extends Ht.EventEmitter{constructor(r){super(),this._wire=r,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new pi.A(0,{grow:1e3}),ArrayBuffer.isView(t)&&this.setMetadata(t)}onHandshake(r,i,s){this._infoHash=r}onExtendedHandshake(r){return r.m&&r.m.ut_metadata?r.metadata_size?typeof r.metadata_size!="number"||1e7<r.metadata_size||r.metadata_size<=0?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=r.metadata_size,this._numPieces=Math.ceil(this._metadataSize/sr),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(r){let i,s;try{const o=(0,re.dU)(r),a=o.indexOf("ee")+2;i=Et.A.decode(o.substring(0,a)),s=r.slice(a)}catch{return}switch(i.msg_type){case 0:this._onRequest(i.piece);break;case 1:this._onData(i.piece,s,i.total_size);break;case 2:this._onReject(i.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}async setMetadata(r){if(this._metadataComplete)return!0;z_("set metadata");try{const i=Et.A.decode(r).info;i&&(r=Et.A.encode(i))}catch{}return(!this._infoHash||this._infoHash===await(0,re.tW)(r,"hex"))&&(this.cancel(),this.metadata=r,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",Et.A.encode({info:Et.A.decode(this.metadata)})),!0)}_send(r,i){let s=Et.A.encode(r);ArrayBuffer.isView(i)&&(s=(0,re.xW)([s,i])),this._wire.extended("ut_metadata",s)}_request(r){this._send({msg_type:0,piece:r})}_data(r,i,s){const o={msg_type:1,piece:r};typeof s=="number"&&(o.total_size=s),this._send(o,i)}_reject(r){this._send({msg_type:2,piece:r})}_onRequest(r){if(!this._metadataComplete)return void this._reject(r);const i=r*sr;let s=i+sr;s>this._metadataSize&&(s=this._metadataSize);const o=this.metadata.slice(i,s);this._data(r,o,this._metadataSize)}_onData(r,i,s){i.length>sr||!this._fetching||(this.metadata.set(i,r*sr),this._bitfield.set(r),this._checkDone())}_onReject(r){this._remainingRejects>0&&this._fetching?(this._request(r),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=new Uint8Array(this._metadataSize);for(let r=0;r<this._numPieces;r++)this._request(r)}}async _checkDone(){let r=!0;for(let i=0;i<this._numPieces;i++)if(!this._bitfield.get(i)){r=!1;break}r&&(await this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new pi.A(0,{grow:1e3}),this._remainingRejects-=this._numPieces,this._remainingRejects>0?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return e.prototype.name="ut_metadata",e};var rs=se(8878),H_=se(1133);const q_=_t("webtorrent:file-iterator");class W_ extends Ht{constructor(e,{start:n,end:r}){super(),this._torrent=e._torrent,this._pieceLength=e._torrent.pieceLength,this._startPiece=(n+e.offset)/this._pieceLength|0,this._endPiece=(r+e.offset)/this._pieceLength|0,this._piece=this._startPiece,this._offset=n+e.offset-this._startPiece*this._pieceLength,this._missing=r-n+1,this._criticalLength=Math.min(1048576/this._pieceLength|0,2),this._torrent._select(this._startPiece,this._endPiece,1,null,!0),this.destroyed=!1}[Symbol.asyncIterator](){return this}next(){return new Promise((e,n)=>{if(this._missing===0||this.destroyed)return e({done:!0}),this.destroy();const r=(s,o)=>{if(!this._torrent.bitfield.get(s)){const a=u=>{(u===s||this.destroyed)&&(this._torrent.removeListener("verified",a),r(s,o))};return this._torrent.on("verified",a),this._torrent.critical(s,s+this._criticalLength)}if(this._torrent.destroyed)return n(new Error("Torrent removed"));this._torrent.store.get(s,o,(a,u)=>this.destroyed?e({done:!0}):(q_("read %s and yielding (length %s) (err %s)",s,u==null?void 0:u.length,a==null?void 0:a.message),a?n(a):void e({value:u,done:!1})))},i=Math.min(this._missing,this._pieceLength-this._offset);r(this._piece++,{length:i,offset:this._offset}),this._missing-=i,this._offset=0})}async return(){return this.destroy(),{done:!0}}async throw(e){throw e}destroy(e=()=>{},n){this.destroyed||(this.destroyed=!0,this._torrent.destroyed||this._torrent._deselect(this._startPiece,this._endPiece,!0),this.emit("return"),e(n))}}class xu extends Ht{constructor(e,n){super(),this._torrent=e,this._destroyed=!1,this._fileStreams=new Set,this._iterators=new Set,this.name=n.name,this.path=n.path,this.length=n.length,this.size=n.length,this.type=H_.getType(this.name)||"application/octet-stream",this.offset=n.offset,this.done=!1;const r=n.offset,i=r+n.length-1;this._startPiece=r/this._torrent.pieceLength|0,this._endPiece=i/this._torrent.pieceLength|0,this.length===0&&(this.done=!0,this.emit("done")),this._client=e.client}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:e,bitfield:n,pieceLength:r,lastPieceLength:i}=this._torrent,{_startPiece:s,_endPiece:o}=this,a=c=>{const l=c===e.length-1?i:r;return n.get(c)?l:l-e[c].missing};let u=0;for(let c=s;c<=o;c+=1){const l=a(c);if(u+=l,c===s){const f=this.offset%r;u-=Math.min(f,l)}if(c===o){const f=(o===e.length-1?i:r)-(this.offset+this.length)%r;u-=Math.min(f,l)}}return u}get progress(){return this.length?this.downloaded/this.length:0}select(e){this.length!==0&&this._torrent.select(this._startPiece,this._endPiece,e)}deselect(){this.length!==0&&this._torrent.deselect(this._startPiece,this._endPiece)}[Symbol.asyncIterator](e={}){if(this.length===0)return async function*(){}();const{start:n=0}=e??{},r=e!=null&&e.end&&e.end<this.length?e.end:this.length-1;if(this.done)return k_(this._torrent.store,{offset:n+this.offset,length:r-n+1});const i=new W_(this,{start:n,end:r});return this._iterators.add(i),i.once("return",()=>{this._iterators.delete(i)}),i}createReadStream(e){const n=this[Symbol.asyncIterator](e),r=Ci.Readable.from(n);return this._fileStreams.add(r),r.once("close",()=>{this._fileStreams.delete(r)}),r}async arrayBuffer(e={}){const{start:n=0}=e,r=e!=null&&e.end&&e.end<this.length?e.end:this.length-1,i=new Uint8Array(r-n+1);let s=0;for await(const o of this[Symbol.asyncIterator]({start:n,end:r}))i.set(o,s),s+=o.length;return i.buffer}async blob(e){return new Blob([await this.arrayBuffer(e)],{type:this.type})}stream(e){let n;return new ReadableStream({start:()=>{n=this[Symbol.asyncIterator](e)},async pull(r){const{value:i,done:s}=await n.next();s?r.close():r.enqueue(i)},cancel(){n.return()}})}get streamURL(){if(!this._client._server)throw new Error("No server created");return`${this._client._server.pathname}/${this._torrent.infoHash}/${this.path}`}streamTo(e){return e.src=this.streamURL,e}includes(e){return this._startPiece<=e&&this._endPiece>=e}_destroy(){this._destroyed=!0,this._torrent=null;for(const e of this._fileStreams)e.destroy();this._fileStreams.clear();for(const e of this._iterators)e.destroy();this._iterators.clear()}}var ft=se(5658);class V_{constructor(e){this._torrent=e,this._numPieces=e.pieces.length,this._pieces=new Array(this._numPieces),this._onWire=n=>{this.recalculate(),this._initWire(n)},this._onWireHave=n=>{this._pieces[n]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(n=>{this._initWire(n)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(e){let n=[],r=1/0;for(let i=0;i<this._numPieces;++i){if(e&&!e(i))continue;const s=this._pieces[i];s===r?n.push(i):s<r&&(n=[i],r=s)}return n.length?n[Math.random()*n.length|0]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(e=>{this._cleanupWireEvents(e)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(e){e._onClose=()=>{this._cleanupWireEvents(e);for(let n=0;n<this._numPieces;++n)this._pieces[n]-=e.peerPieces.get(n)},e.on("have",this._onWireHave),e.on("bitfield",this._onWireBitfield),e.once("close",e._onClose)}recalculate(){this._pieces.fill(0);for(const e of this._torrent.wires)for(let n=0;n<this._numPieces;++n)this._pieces[n]+=e.peerPieces.get(n)}_cleanupWireEvents(e){e.removeListener("have",this._onWireHave),e.removeListener("bitfield",this._onWireBitfield),e._onClose&&e.removeListener("close",e._onClose),e._onClose=null}}var G_=se(4343),Z_=se(6458),Dr=se(6819);const Pt=_t("webtorrent:webconn");class K_ extends Z_.A{constructor(e,n){super(),this.url=e,this.connId=e,this._torrent=n,this._init(e)}_init(e){this.setKeepAlive(!0),this.use(Wf()),this.once("handshake",async(n,r)=>{const i=await(0,re.tW)(e,"hex");if(this.destroyed)return;this.handshake(n,i);const s=this._torrent.pieces.length,o=new pi.A(s);for(let a=0;a<=s;a++)o.set(a,!0);this.bitfield(o)}),this.once("interested",()=>{Pt("interested"),this.unchoke()}),this.on("uninterested",()=>{Pt("uninterested")}),this.on("choke",()=>{Pt("choke")}),this.on("unchoke",()=>{Pt("unchoke")}),this.on("bitfield",()=>{Pt("bitfield")}),this.lt_donthave.on("donthave",()=>{Pt("donthave")}),this.on("request",(n,r,i,s)=>{Pt("request pieceIndex=%d offset=%d length=%d",n,r,i),this.httpRequest(n,r,i,(o,a)=>{if(o){this.lt_donthave.donthave(n);const u=setTimeout(()=>{this.destroyed||this.have(n)},1e4);u.unref&&u.unref()}s(o,a)})})}async httpRequest(e,n,r,i){i=Uf(i);const s=e*this._torrent.pieceLength+n,o=s+r-1,a=this._torrent.files;let u,c;if(a.length<=1)u=[{url:this.url,start:s,end:o}];else{const l=a.filter(f=>f.offset<=o&&f.offset+f.length>s);if(l.length<1)return i(new Error("Could not find file corresponding to web seed range request"));u=l.map(f=>{const h=f.offset+f.length-1;return{url:this.url+(this.url[this.url.length-1]==="/"?"":"/")+f.path.replace(this._torrent.path,""),fileOffsetInRange:Math.max(f.offset-s,0),start:Math.max(s-f.offset,0),end:Math.min(h,o-f.offset)}})}try{c=await Promise.all(u.map(async({start:l,end:f,url:h})=>{Pt("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",h,e,n,r,l,f);const d=await xo(h,{cache:"no-store",method:"GET",headers:{"Cache-Control":"no-store","user-agent":`WebTorrent/${Dr} (https://webtorrent.io)`,range:`bytes=${l}-${f}`},signal:AbortSignal.timeout(6e4)});if(!d.ok)throw new Error(`Unexpected HTTP status code ${d.status}`);const p=new Uint8Array(await d.arrayBuffer());return Pt("Got data of length %d",p.length),p}))}catch(l){return i(l)}i(null,(0,re.xW)(c))}destroy(){super.destroy(),this._torrent=null}}class J_{constructor(){tt(this,"_items",[])}remove(e){for(let n=0;n<this._items.length;n++){const r=this._items[n];if(r.isStreamSelection){if(!e.isStreamSelection)continue;if(r.from===e.from&&r.to===e.to){this._items.splice(n,1);break}}else if(Gf(e,r))r.to=Math.max(e.from-1,0);else if(Zf(e,r))r.from=e.to+1;else if(Kf(e,r)){const i=[],s={...r,to:Math.max(e.from-1,0)};s.to-s.from>=0&&e.from!==0&&i.push(s);const o={...r,from:e.to+1};o.to-o.from>=0&&i.push(o),this._items.splice(n,1,...i),n=n-1+i.length}else Jf(e,r)&&(this._items.splice(n,1),n--)}}insert(e){if(e.from>e.to)throw new Error("Invalid interval");if(!e.isStreamSelection){const{notify:n}=e,r=[];for(const i of this._items)i.notify&&Y_(e,i)&&r.push(i.notify);r.length>0&&(e.notify=()=>{r.forEach(i=>i()),n==null||n()}),this.remove(e)}this._items.push(e)}sort(e=(n,r)=>n.from-r.from){this._items.sort(e)}get length(){return this._items.length}get(e){return this._items[e]}swap(e,n){const r=this._items[e];this._items[e]=this._items[n],this._items[n]=r}clear(){this._items.length=0}*[Symbol.iterator](){for(let e=0;e<this._items.length;e++){const n=this._items[e];n.remove=()=>{this._items.splice(e,1),e--},yield n,delete n.remove}}}function Gf(t,e){return t.from<=e.to&&t.from>e.from&&t.to>e.to}function Zf(t,e){return t.to>=e.from&&t.to<e.to&&t.from<e.from}function Kf(t,e){const n=e.to-e.from,r=t.to-t.from;return t.from>=e.from&&t.to<=e.to&&r<n}function Jf(t,e){return t.from<=e.from&&t.to>=e.to}const Y_=(t,e)=>()=>Gf(t,e)||Zf(t,e)||Kf(t,e)||Jf(t,e);var Yf=se(717);const X_=_t("webtorrent:torrent"),is=5e3,ss=3*jt.BLOCK_LENGTH,ku=Yf.browser?A_().length:2,os=[1e3,5e3,15e3],Eu=`WebTorrent/${Dr} (https://webtorrent.io)`;var ic,sc,oc,ac;const Q_=((sc=(ic=globalThis.navigator)==null?void 0:ic.storage)==null?void 0:sc.getDirectory)&&((ac=(oc=globalThis.FileSystemFileHandle)==null?void 0:oc.prototype)==null?void 0:ac.createWritable),e2=!Yf.browser||Q_?qf:Vf;let Hs;try{Hs=vr(zf.statSync("/tmp")&&"/tmp","webtorrent")}catch{Hs=vr(typeof du.tmpdir=="function"?du.tmpdir():"/","webtorrent")}const Au=typeof window<"u"&&typeof window.requestIdleCallback=="function"&&window.requestIdleCallback;class Su extends Ht{constructor(e,n,r){super(),this._debugId="unknown infohash",this.client=n,this.announce=r.announce,this.urlList=r.urlList,this.path=r.path||Hs,this.addUID=r.addUID||!1,this.rootDir=r.rootDir||null,this.skipVerify=!!r.skipVerify,this._startupBitfield=r.bitfield,this._store=r.store||e2,this._preloadedStore=r.preloadedStore||null,this._storeCacheSlots=r.storeCacheSlots!==void 0?r.storeCacheSlots:20,this._destroyStoreOnDestroy=r.destroyStoreOnDestroy||!1,this.store=null,this.storeOpts=r.storeOpts,this.alwaysChokeSeeders=r.alwaysChokeSeeders??!0,this._getAnnounceOpts=r.getAnnounceOpts,typeof r.private=="boolean"&&(this.private=r.private),this.strategy=r.strategy||"sequential",this.maxWebConns=r.maxWebConns||4,this._rechokeNumSlots=r.uploads===!1||r.uploads===0?0:+r.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this._noPeersIntervalId=null,this._noPeersIntervalTime=r.noPeersIntervalTime?1e3*r.noPeersIntervalTime:3e4,this._startAsDeselected=r.deselect||!1,this.ready=!1,this.destroyed=!1,this.paused=r.paused||!1,this.done=!1,this.metadata=null,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=new J_,this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=di(),this._uploadSpeed=di(),this._servers=[],this._xsRequests=[],this._fileModtimes=r.fileModtimes,e!==null&&this._onTorrentId(e),this._debug("new torrent")}get timeRemaining(){return this.done?0:this.downloadSpeed===0?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let e=0;for(let n=0,r=this.pieces.length;n<r;++n)if(this.bitfield.get(n))e+=n===r-1?this.lastPieceLength:this.pieceLength;else{const i=this.pieces[n];e+=i.length-i.missing}return e}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlob(){return this.torrentFile?new Blob([this.torrentFile],{type:"application/x-bittorrent"}):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let e=0;for(const n in this._peers)this._peers[n].connected&&(e+=1);return e}async _onTorrentId(e){if(this.destroyed)return;let n;try{n=await Qr(e)}catch{}n?(this.infoHash=n.infoHash,this._debugId=(0,re.V5)(n.infoHash).substring(0,7),Ke(()=>{this.destroyed||this._onParsedTorrent(n)})):$f(e,(r,i)=>{if(!this.destroyed)return r?this._destroy(r):void this._onParsedTorrent(i)})}_onParsedTorrent(e){if(!this.destroyed){if(this._processParsedTorrent(e),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),this.destroyed||(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(e){this._debugId=(0,re.V5)(e.infoHash).substring(0,7),this.private!==void 0&&(e.private=this.private),Array.isArray(this.announce)&&(e.announce=e.announce.concat(this.announce)),this.client.tracker&&Array.isArray(this.client.tracker.announce)&&!e.private&&(e.announce=e.announce.concat(this.client.tracker.announce)),this.client.tracker&&globalThis.WEBTORRENT_ANNOUNCE&&!e.private&&(e.announce=e.announce.concat(globalThis.WEBTORRENT_ANNOUNCE)),this.urlList&&(e.urlList=e.urlList.concat(this.urlList)),e.announce=Array.from(new Set(e.announce)),e.urlList=Array.from(new Set(e.urlList)),Object.assign(this,e),this.magnetURI=b_(e),this.torrentFile=function(n){const r={info:n.info};return r["announce-list"]=(n.announce||[]).map(i=>(r.announce||(r.announce=i),[i=(0,re.L0)(i)])),r["url-list"]=n.urlList||[],n.private!==void 0&&(r.private=Number(n.private)),n.created&&(r["creation date"]=n.created.getTime()/1e3|0),n.createdBy&&(r["created by"]=n.createdBy),n.comment&&(r.comment=n.comment),Et.A.encode(r)}(e)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let e=this.client.tracker;e&&(e=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(this.destroyed)return;const n={uploaded:this.uploaded,downloaded:this.downloaded,left:Math.max(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(n,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(n,this._getAnnounceOpts()),n}})),this.peerAddresses&&this.peerAddresses.forEach(n=>this.addPeer(n,ft.default.SOURCE_MANUAL)),this.discovery=new L_({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:e,port:this.client.torrentPort,userAgent:Eu,lsd:this.client.lsd}),this.discovery.on("error",n=>{this._destroy(n)}),this.discovery.on("peer",(n,r)=>{this._debug("peer %s discovered via %s",n,r),this.client.seedOutgoingConnections||!this.done?this.addPeer(n,r):this._debug("discovery ignoring peer %s: torrent is done and seedOutgoingConnections is false",n)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce")}),this.discovery.on("warning",n=>{this.emit("warning",n)}),this._noPeersIntervalId=setInterval(()=>{if(this.destroyed)return;const n={[ft.default.SOURCE_TRACKER]:{enabled:!!this.client.tracker,numPeers:0},[ft.default.SOURCE_DHT]:{enabled:!!this.client.dht,numPeers:0},[ft.default.SOURCE_LSD]:{enabled:!!this.client.lsd,numPeers:0},[ft.default.SOURCE_UT_PEX]:{enabled:this.client.utPex&&typeof rs=="function",numPeers:0}};for(const r of Object.values(this._peers)){const i=n[r.source];i!==void 0&&i.numPeers++}for(const r of Object.keys(n)){const i=n[r];i.enabled&&i.numPeers===0&&this.emit("noPeers",r)}},this._noPeersIntervalTime),this._noPeersIntervalId.unref&&this._noPeersIntervalId.unref()}_getMetadataFromServer(){const e=this,n=Array.isArray(this.xs)?this.xs:[this.xs];e._xsRequestsController=new AbortController;const r=e._xsRequestsController.signal,i=n.map(s=>o=>{(async function(a,u){if(a.indexOf("http://")!==0&&a.indexOf("https://")!==0)return e.emit("warning",new Error(`skipping non-http xs param: ${a}`)),u(null);const c={method:"GET",headers:{"user-agent":Eu},signal:r};let l,f,h;try{l=await xo(a,c)}catch{return e.emit("warning",new Error(`http error from xs param: ${a}`)),u(null)}if(e.destroyed||e.metadata)return u(null);if(l.status!==200)return e.emit("warning",new Error(`non-200 status code ${l.status} from xs param: ${a}`)),u(null);try{f=new Uint8Array(await l.arrayBuffer())}catch(d){return e.emit("warning",d),u(null)}try{h=await Qr(f)}catch{}if(!h)return e.emit("warning",new Error(`got invalid torrent file from xs param: ${a}`)),u(null);if(h.infoHash!==e.infoHash)return e.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${a}`)),u(null);e._onMetadata(h),u(null)})(s,o)});sn(i)}async _onMetadata(e){var i;if(this.metadata||this.destroyed)return;let n;if(this._debug("got metadata"),(i=this._xsRequestsController)==null||i.abort(),this._xsRequestsController=null,e&&e.infoHash)n=e;else try{n=await Qr(e)}catch(s){return this._destroy(s)}this._processParsedTorrent(n),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(s=>{this.addWebSeed(s)}),this._rarityMap=new V_(this),this.files=this.files.map(s=>new xu(this,s));let r=this._preloadedStore;if(r||(r=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID,rootDir:this.rootDir,max:this._storeCacheSlots})),this._storeCacheSlots>0&&!(r instanceof Vf)&&(r=new x_(r,{max:this._storeCacheSlots})),this.store=new N_(r),this.so&&!this._startAsDeselected?this.files.forEach((s,o)=>{this.so.includes(o)&&this.files[o].select()}):this.pieces.length===0||this._startAsDeselected||this.select(0,this.pieces.length-1,0),this._hashes=this.pieces,this._hasStartupBitfield=this._startupBitfield&&this._startupBitfield.length===Math.ceil(this.pieces.length/8)&&!this.skipVerify,this.bitfield=new pi.A(this._hasStartupBitfield?new Uint8Array(this._startupBitfield):this.pieces.length),this._reservations=this._hasStartupBitfield?this.pieces.map((s,o)=>this.bitfield.get(o)?null:[]):this.pieces.map(()=>[]),this.pieces=this.pieces.map((s,o)=>{if(this._hasStartupBitfield&&this.bitfield.get(o))return null;const a=o===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new jt(a)}),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const s=o=>{if(o)return this._destroy(o);this._debug("done verifying"),this._onStore()};this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===qf?this.getFileModtimes((o,a)=>{if(o)return this._destroy(o);this.files.map((u,c)=>a[c]===this._fileModtimes[c]).every(u=>u)?(this._markAllVerified(),this._onStore()):this._verifyPieces(s)}):this._verifyPieces(s)}}getFileModtimes(e){const n=[];vu(this.files.map((r,i)=>s=>{const o=this.addUID?vr(this.name+" - "+this.infoHash.slice(0,8)):vr(this.path,r.path);zf.stat(o,(a,u)=>{if(a&&a.code!=="ENOENT")return s(a);n[i]=u&&u.mtime.getTime(),s(null)})}),ku,r=>{this._debug("done getting file modtimes"),e(r,n)})}_verifyPiece(e,n){if(this.destroyed)return n(new Error("torrent is destroyed"));const r={};e===this.pieces.length-1&&(r.length=this.lastPieceLength),this.store.get(e,r,async(i,s)=>{if(this.destroyed)return n(new Error("torrent is destroyed"));if(i)return Ke(()=>n(null,!1));const o=await(0,re.tW)(s,"hex");if(this.destroyed)return n(new Error("torrent is destroyed"));n(null,o===this._hashes[e])})}_verifyPiecesUsingBitfield(e){const n=new Set,r=new Map;for(const i of this.files){let s=2,o=null;for(let a=i._startPiece;a<=i._endPiece;++a)this.bitfield.get(a)&&(s&&(o=a,s--),r.has(a)||r.set(a,[]),r.get(a).push(i));o!==null&&n.add(o)}this._verifyPiecesUsingHash([...n],i=>{if(i)return e(i);const s=new Set;for(const o of n)if(!this.bitfield.get(o)){const a=r.get(o);for(const u of a)s.add(u)}if(s.size){const o=[];for(const a of s)for(let u=a._startPiece;u<=a._endPiece;++u)o.indexOf(u)===-1&&o.push(u);return this._verifyPiecesUsingHash(o,e)}e(null)})}_verifyPiecesUsingHash(e,n){vu(e.map((r,i)=>s=>{const o=Number.isInteger(r)?r:i;this._verifyPiece(o,(a,u)=>{if(a)return s(a);u?(this._debug("piece verified %s",o),this._markVerified(o)):(this._markUnverified(o),this._debug("piece invalid %s",o)),s(null)})}),ku,n)}_verifyPieces(e){if(this._hasStartupBitfield)return this._verifyPiecesUsingBitfield(e);this._verifyPiecesUsingHash(this.pieces,e)}rescanFiles(e){if(this.destroyed)throw new Error("torrent is destroyed");e||(e=Cu),this._verifyPiecesUsingHash(this.pieces,n=>{if(n)return this._destroy(n),e(n);this._checkDone(),e(null)})}_markAllVerified(){for(let e=0;e<this.pieces.length;e++)this._markVerified(e)}_markVerified(e){this.pieces[e]=null,this._reservations[e]=null,this.bitfield.set(e,!0),this.emit("verified",e)}_markUnverified(e){const n=e===this.pieces.length-1?this.lastPieceLength:this.pieceLength;this.pieces[e]=new jt(n),this.bitfield.set(e,!1),this._startAsDeselected||this.select(e,e,1);for(const r of this.files)r.done&&r.includes(e)&&(r.done=!1)}_hasAllPieces(){for(let e=0;e<this.pieces.length;e++)if(!this.bitfield.get(e))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(e){let n=0;for(let r=0;r<this.pieces.length;r++)if(this.bitfield.get(r)&&(n+=1,n>e))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(e=>{e.ut_metadata&&e.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(e)}))}destroy(e,n){if(typeof e=="function")return this.destroy(null,e);this._destroy(null,e,n)}_destroy(e,n,r){var s;if(typeof n=="function")return this._destroy(e,null,n);if(this.destroyed)return;this.destroyed=!0,this._debug("destroy"),this.client._remove(this),this._selections.clear(),clearInterval(this._rechokeIntervalId),clearInterval(this._noPeersIntervalId),(s=this._xsRequestsController)==null||s.abort(),this._rarityMap&&this._rarityMap.destroy();for(const o in this._peers)this.removePeer(o);for(const o of this.files)o instanceof xu&&o._destroy();const i=this._servers.map(o=>a=>{o.destroy(a)});if(this.discovery&&i.push(o=>{this.discovery.destroy(o)}),this.store){let o=this._destroyStoreOnDestroy;n&&n.destroyStore!==void 0&&(o=n.destroyStore),i.push(a=>{o?this.store.destroy(a):this.store.close(a)})}sn(i,r),e&&(this.listenerCount("error")===0?this.client.emit("error",e):this.emit("error",e)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null,this._queue=null}addPeer(e,n){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let r;if(typeof e=="string"){let o;try{o=rr(e)}catch{return this._debug("ignoring peer: invalid %s",e),this.emit("invalidPeer",e),!1}r=o[0]}else typeof e.remoteAddress=="string"&&(r=e.remoteAddress);if(this.client.blocked&&r&&this.client.blocked.contains(r))return this._debug("ignoring peer: blocked %s",e),typeof e!="string"&&e.destroy(),this.emit("blockedPeer",e),!1;const i=this.client.utp&&this._isIPv4(r)?"utp":"tcp",s=!!this._addPeer(e,i,n);return s?this.emit("peer",e):this.emit("invalidPeer",e),s}_addPeer(e,n,r){if(this.destroyed)return typeof e!="string"&&e.destroy(),null;if(typeof e=="string"&&!this._validAddr(e))return this._debug("ignoring peer: invalid %s",e),null;const i=e&&e.id||e;if(this._peers[i])return this._debug("ignoring peer: duplicate (%s)",i),typeof e!="string"&&e.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),typeof e!="string"&&e.destroy(),null;let s;return this._debug("add peer %s",i),s=typeof e=="string"?n==="utp"?ft.default.createUTPOutgoingPeer(e,this,this.client.throttleGroups,r):ft.default.createTCPOutgoingPeer(e,this,this.client.throttleGroups,r):ft.default.createWebRTCPeer(e,this,this.client.throttleGroups,r),this._registerPeer(s),typeof e=="string"&&(this._queue.push(s),this._drain()),s}addWebSeed(e){if(this.destroyed)throw new Error("torrent is destroyed");let n,r;if(typeof e=="string"){if(n=e,!/^https?:\/\/.+/.test(n))return this.emit("warning",new Error(`ignoring invalid web seed: ${n}`)),void this.emit("invalidPeer",n);if(this._peers[n])return this.emit("warning",new Error(`ignoring duplicate web seed: ${n}`)),void this.emit("invalidPeer",n);r=new K_(n,this)}else{if(!e||typeof e.connId!="string")return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(r=e,n=r.connId,this._peers[n])return this.emit("warning",new Error(`ignoring duplicate web seed: ${n}`)),void this.emit("invalidPeer",n)}this._debug("add web seed %s",n);const i=ft.default.createWebSeedPeer(r,n,this,this.client.throttleGroups);this._registerPeer(i),this.emit("peer",n)}_addIncomingPeer(e){return this.destroyed?e.destroy(new Error("torrent is destroyed")):this.paused?e.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",e.id),void this._registerPeer(e))}_registerPeer(e){e.on("download",n=>{this.destroyed||(this.received+=n,this._downloadSpeed(n),this.client._downloadSpeed(n),this.emit("download",n),this.destroyed||this.client.emit("download",n))}),e.on("upload",n=>{this.destroyed||(this.uploaded+=n,this._uploadSpeed(n),this.client._uploadSpeed(n),this.emit("upload",n),this.destroyed||this.client.emit("upload",n))}),this._peers[e.id]=e,this._peersLength+=1}removePeer(e){var r;const n=(e==null?void 0:e.id)||e;e&&!e.id&&(e=(r=this._peers)==null?void 0:r[n]),e&&(e.destroy(),this.destroyed||(this._debug("removePeer %s",n),delete this._peers[n],this._peersLength-=1,this._drain()))}_select(e=0,n=this.pieces.length-1,r,i,s=!1){if(this.destroyed)throw new Error("torrent is destroyed");if(e<0||n<e||this.pieces.length<=n)throw new Error(`invalid selection ${e} : ${n}`);r=Number(r)||0,this._debug("select %s-%s (priority %s)",e,n,r),this._selections.insert({from:e,to:n,offset:0,priority:r,notify:i,isStreamSelection:s}),this._selections.sort((o,a)=>a.priority-o.priority),this._updateSelections()}select(e,n,r,i){this._select(e,n,r,i,!1)}_deselect(e,n,r=!1){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("deselect %s-%s",e,n),this._selections.remove({from:e,to:n,isStreamSelection:r}),this._updateSelections()}deselect(e,n){this._deselect(e,n,!1)}critical(e,n){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",e,n);for(let r=e;r<=n;++r)this._critical[r]=!0;this._updateSelections()}_onWire(e,n){if(this._debug("got wire %s (%s)",e._debugId,n||"Unknown"),this.wires.push(e),n){const r=rr(n);e.remoteAddress=r[0],e.remotePort=r[1]}this.client.dht&&this.client.dht.listening&&e.on("port",r=>{if(!this.destroyed&&!this.client.dht.destroyed){if(!e.remoteAddress)return this._debug("ignoring PORT from peer with no address");if(r===0||r>65536)return this._debug("ignoring invalid PORT from peer");this._debug("port: %s (from %s)",r,n),this.client.dht.addNode({host:e.remoteAddress,port:r})}}),e.on("timeout",()=>{this._debug("wire timeout (%s)",n),e.destroy()}),e.type!=="webSeed"&&e.setTimeout(3e4,!0),e.setKeepAlive(!0),e.use(U_(this.metadata)),e.ut_metadata.on("warning",r=>{this._debug("ut_metadata warning: %s",r.message)}),this.metadata||(e.ut_metadata.on("metadata",r=>{this._debug("got metadata via ut_metadata"),this._onMetadata(r)}),e.ut_metadata.fetch()),this.client.utPex&&typeof rs=="function"&&!this.private&&(e.use(rs()),e.ut_pex.on("peer",r=>{this.client.seedOutgoingConnections||!this.done?(this._debug("ut_pex: got peer: %s (from %s)",r,n),this.addPeer(r,ft.default.SOURCE_UT_PEX)):this._debug("ut_pex ignoring peer %s: torrent is done and seedOutgoingConnections is false",r)}),e.ut_pex.on("dropped",r=>{const i=this._peers[r];i&&!i.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",r,n),this.removePeer(r))}),e.once("close",()=>{e.ut_pex.reset()})),e.use(Wf()),this.emit("wire",e,n),this.ready&&Ke(()=>{this._onWireWithMetadata(e)})}_onWireWithMetadata(e){let n=null;const r=()=>{this.destroyed||e.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&e.amInterested?e.destroy():(n=setTimeout(r,is),n.unref&&n.unref()))};let i;const s=()=>{if(e.peerPieces.buffer.length===this.bitfield.buffer.length){for(i=0;i<this.pieces.length;++i)if(!e.peerPieces.get(i))return;e.isSeeder=!0,this.alwaysChokeSeeders&&e.choke()}};e.on("bitfield",()=>{s(),this._update(),this._updateWireInterest(e)}),e.on("have",()=>{s(),this._update(),this._updateWireInterest(e)}),e.lt_donthave.on("donthave",()=>{s(),this._update(),this._updateWireInterest(e)}),e.on("have-all",()=>{e.isSeeder=!0,this.alwaysChokeSeeders&&e.choke(),this._update(),this._updateWireInterest(e)}),e.on("have-none",()=>{e.isSeeder=!1,this._update(),this._updateWireInterest(e)}),e.on("allowed-fast",o=>{this._update()}),e.once("interested",()=>{e.unchoke()}),e.once("close",()=>{clearTimeout(n)}),e.on("choke",()=>{clearTimeout(n),n=setTimeout(r,is),n.unref&&n.unref()}),e.on("unchoke",()=>{clearTimeout(n),this._update()}),e.on("request",(o,a,u,c)=>{if(u>131072)return e.destroy();this.pieces[o]||this.store.get(o,{offset:a,length:u},c)}),e.hasFast&&this._hasAllPieces()?e.haveAll():e.hasFast&&this._hasNoPieces()?e.haveNone():e.bitfield(this.bitfield),this._updateWireInterest(e),e.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&e.port(this.client.dht.address().port),e.type!=="webSeed"&&(n=setTimeout(r,is),n.unref&&n.unref()),e.isSeeder=!1,s()}_updateSelections(){this.ready&&!this.destroyed&&(Ke(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){var e,n;for(const r of this._selections){const i=r.offset;for(;this.bitfield.get(r.from+r.offset)&&r.from+r.offset<r.to;)r.offset+=1;i!==r.offset&&((e=r.notify)==null||e.call(r)),r.to===r.from+r.offset&&this.bitfield.get(r.from+r.offset)&&(r.remove(),(n=r.notify)==null||n.call(r),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const e=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(n=>this._updateWireInterest(n)),e!==this._amInterested&&(this._amInterested?this.emit("interested"):this.emit("uninterested"))}_updateWireInterest(e){let n=!1;for(let r=0;r<this.pieces.length;++r)if(this.pieces[r]&&e.peerPieces.get(r)){n=!0;break}n?e.interested():e.uninterested()}_update(){Au?Au(()=>this._updateWireWrapper(),{timeout:250}):this._updateWireWrapper()}_updateWireWrapper(){if(this.destroyed)return;const e=$_(this.wires);let n;for(;n=e();)this._updateWire(n)}_updateWire(e){if(e.destroyed)return!1;const n=this,r=as(e,.5);if(e.requests.length>=r)return;const i=as(e,1);if(e.peerChoking)e.hasFast&&e.peerAllowedFastSet.length>0&&!this._hasMorePieces(e.peerAllowedFastSet.length-1)&&function(){if(e.requests.length>=i)return!1;for(const u of e.peerAllowedFastSet){if(e.peerPieces.get(u)&&!n.bitfield.get(u))for(;n._request(e,u,!1)&&e.requests.length<i;);if(!(e.requests.length<i))return!0}}();else{if(!e.downloaded)return function(){if(e.requests.length)return;let u=n._selections.length;for(;u--;){const c=n._selections.get(u);let l;if(n.strategy==="rarest"){const f=c.from+c.offset,h=c.to,d=h-f+1,p={};let m=0;const g=s(f,h,p);for(;m<d&&(l=n._rarityMap.getRarestPiece(g),!(l<0));){if(n._request(e,l,!1))return;p[l]=!0,m+=1}}else for(l=c.to;l>=c.from+c.offset;--l)if(e.peerPieces.get(l)&&n._request(e,l,!1))return}}();a(!1)||a(!0)}function s(u,c,l,f){return h=>h>=u&&h<=c&&!(h in l)&&e.peerPieces.get(h)&&(!f||f(h))}function o(u){let c=u;for(let l=u;l<n._selections.length&&n._selections.get(l).priority;l++)c=l;n._selections.swap(u,c)}function a(u){if(e.requests.length>=i)return!0;const c=function(){const l=e.downloadSpeed()||1;if(l>ss)return()=>!0;const f=Math.max(1,e.requests.length)*jt.BLOCK_LENGTH/l;let h=10,d=0;return p=>{if(!h||n.bitfield.get(p))return!0;let m=n.pieces[p].missing;for(;d<n.wires.length;d++){const g=n.wires[d],y=g.downloadSpeed();if(!(y<ss)&&!(y<=l)&&g.peerPieces.get(p)&&!((m-=y*f)>0))return h--,!1}return!0}}();for(let l=0;l<n._selections.length;l++){const f=n._selections.get(l);let h;if(n.strategy==="rarest"){const d=f.from+f.offset,p=f.to,m=p-d+1,g={};let y=0;const _=s(d,p,g,c);for(;y<m&&(h=n._rarityMap.getRarestPiece(_),!(h<0));){for(;n._request(e,h,n._critical[h]||u)&&e.requests.length<i;);if(!(e.requests.length<i))return f.priority&&o(l),!0;g[h]=!0,y++}}else for(h=f.from+f.offset;h<=f.to;h++)if(e.peerPieces.get(h)&&c(h)){for(;n._request(e,h,n._critical[h]||u)&&e.requests.length<i;);if(!(e.requests.length<i))return f.priority&&o(l),!0}}return!1}}_rechoke(){if(!this.ready)return;const e=this.wires.map(i=>({wire:i,random:Math.random()})).sort((i,s)=>{const o=i.wire,a=s.wire;return o.downloadSpeed()!==a.downloadSpeed()?o.downloadSpeed()-a.downloadSpeed():o.uploadSpeed()!==a.uploadSpeed()?o.uploadSpeed()-a.uploadSpeed():o.amChoking!==a.amChoking?o.amChoking?-1:1:i.random-s.random}).map(i=>i.wire);this._rechokeOptimisticTime<=0?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;let n=0;for(;e.length>0&&n<this._rechokeNumSlots-1;){const i=e.pop();i.isSeeder||i===this._rechokeOptimisticWire||(i.unchoke(),i.peerInterested&&n++)}if(this._rechokeOptimisticWire===null&&this._rechokeNumSlots>0){const i=e.filter(s=>s.peerInterested);if(i.length>0){const s=i[r=i.length,Math.random()*r|0];s.unchoke(),this._rechokeOptimisticWire=s,this._rechokeOptimisticTime=2}}var r;e.filter(i=>i!==this._rechokeOptimisticWire).forEach(i=>i.choke())}_hotswap(e,n){const r=e.downloadSpeed();if(r<jt.BLOCK_LENGTH||!this._reservations[n])return!1;const i=this._reservations[n];if(!i)return!1;let s,o,a=1/0;for(o=0;o<i.length;o++){const u=i[o];if(!u||u===e)continue;const c=u.downloadSpeed();c>=ss||2*c>r||c>a||(s=u,a=c)}if(!s)return!1;for(o=0;o<i.length;o++)i[o]===s&&(i[o]=null);for(o=0;o<s.requests.length;o++){const u=s.requests[o];u.piece===n&&this.pieces[n].cancel(u.offset/jt.BLOCK_LENGTH|0)}return this.emit("hotswap",s,e,n),!0}_request(e,n,r){const i=this,s=e.requests.length,o=e.type==="webSeed";if(i.bitfield.get(n))return!1;const a=o?Math.min(function(m,g,y){return 1+Math.ceil(g*m.downloadSpeed()/y)}(e,1,i.pieceLength),i.maxWebConns):as(e,1);if(s>=a)return!1;const u=i.pieces[n];let c=o?u.reserveRemaining():u.reserve();if(c===-1&&r&&i._hotswap(e,n)&&(c=o?u.reserveRemaining():u.reserve()),c===-1)return!1;let l=i._reservations[n];l||(l=i._reservations[n]=[]);let f=l.indexOf(null);f===-1&&(f=l.length),l[f]=e;const h=u.chunkOffset(c),d=o?u.chunkLengthRemaining(c):u.chunkLength(c);function p(){Ke(()=>{i._update()})}return e.request(n,h,d,async function m(g,y){if(i.destroyed)return;if(!i.ready)return i.once("ready",()=>{m(g,y)});if(l[f]===e&&(l[f]=null),u!==i.pieces[n])return p();if(g)return i._debug("error getting piece %s (offset: %s length: %s) from %s: %s",n,h,d,`${e.remoteAddress}:${e.remotePort}`,g.message),o?u.cancelRemaining(c):u.cancel(c),void p();if(i._debug("got piece %s (offset: %s length: %s) from %s",n,h,d,`${e.remoteAddress}:${e.remotePort}`),!u.set(c,y,e))return p();const _=u.flush(),b=await(0,re.tW)(_,"hex");i.destroyed||(b===i._hashes[n]?(i._debug("piece verified %s",n),i.store.put(n,_,w=>{w?i._destroy(w):(i.pieces[n]=null,i._markVerified(n),i.wires.forEach(v=>{v.have(n)}),i._checkDone(),p())})):(i.pieces[n]=new jt(u.length),i.emit("warning",new Error(`Piece ${n} failed verification`)),p()))}),!0}_checkDone(){var n;if(this.destroyed)return;this.files.forEach(r=>{if(!r.done){for(let i=r._startPiece;i<=r._endPiece;++i)if(!this.bitfield.get(i))return;r.done=!0,r.emit("done"),this._debug(`file done: ${r.name}`)}});const e=this.files.every(r=>r.done);return!this.done&&e?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done"),this.destroyed||this.discovery.complete()):this.done&&!e&&(this.done=!1,(n=this.discovery.tracker)==null||n.start()),this._gcSelections(),e}async load(e,n){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(e,n)});Array.isArray(e)||(e=[e]),n||(n=Cu);try{await E_(this.store,Nf(e),{chunkLength:this.pieceLength}),this._markAllVerified(),this._checkDone(),n(null)}catch(r){return n(r),r}}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const e=[].slice.call(arguments);e[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${e[0]}`,X_(...e)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),typeof fu.connect!="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const e=this._queue.shift();if(!e)return;this._debug("%s connect attempt to %s",e.type,e.addr);const n=rr(e.addr),r={host:n[0],port:n[1]};this.client.utp&&e.type===ft.default.TYPE_UTP_OUTGOING?e.conn=G_.connect(r.port,r.host):e.conn=fu.connect(r);const i=e.conn;i.once("connect",()=>{this.destroyed||e.onConnect()}),i.once("error",s=>{e.destroy(s)}),e.startConnectTimeout(),i.on("close",()=>{if(this.destroyed)return;if(e.retries>=os.length){if(this.client.utp){const a=this._addPeer(e.addr,"tcp",e.source);a&&(a.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",e.addr,os.length);return}const s=os[e.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",e.addr,s,e.retries+1);const o=setTimeout(()=>{if(this.destroyed)return;const a=rr(e.addr)[0],u=this.client.utp&&this._isIPv4(a)?"utp":"tcp",c=this._addPeer(e.addr,u,e.source);c&&(c.retries=e.retries+1)},s);o.unref&&o.unref()})}_validAddr(e){let n;try{n=rr(e)}catch{return!1}const r=n[0],i=n[1];return i>0&&i<65535&&!(r==="127.0.0.1"&&i===this.client.torrentPort)}_isIPv4(e){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(e)}}function as(t,e){let n=2+Math.ceil(e*t.downloadSpeed()/jt.BLOCK_LENGTH);if(t.peerExtendedHandshake){const r=t.peerExtendedHandshake.reqq;typeof r=="number"&&r>0&&(n=Math.min(n,r))}return n}function Cu(){}var t2=se(4043),Lt=se(580),Xf=se(815),n2=se(2878);class ot{constructor(e,n={}){this.client=e,n.origin||(n.origin="*"),this.opts=n,this.pendingReady=new Set}static serveIndexPage(e,n,r){const i=n.map(s=>`<li>
        <a href="${Lt(r)}/${s.infoHash}">
          ${Lt(s.name)}
        </a>
        (${Lt(s.length)} bytes)
      </li>`).join("<br>");return e.status=200,e.headers["Content-Type"]="text/html",e.body=Wr("WebTorrent",`<h1>WebTorrent</h1>
       <ol>${i}</ol>`),e}isOriginAllowed(e){return this.opts.origin!==!1&&(this.opts.origin==="*"||e.headers.origin===this.opts.origin)}static serveMethodNotAllowed(e){return e.status=405,e.headers["Content-Type"]="text/html",e.body=Wr("405 - Method Not Allowed","<h1>405 - Method Not Allowed</h1>"),e}static serve404Page(e){return e.status=404,e.headers["Content-Type"]="text/html",e.body=Wr("404 - Not Found","<h1>404 - Not Found</h1>"),e}static serveTorrentPage(e,n,r){const i=e.files.map(s=>`<li>
        <a href="${Lt(r)}/${e.infoHash}/${Lt(s.path)}">
          ${Lt(s.path)}
        </a>
        (${Lt(s.length)} bytes)
      </li>`).join("<br>");return n.status=200,n.headers["Content-Type"]="text/html",n.body=Wr(`${Lt(e.name)} - WebTorrent`,`<h1>${Lt(e.name)}</h1>
      <ol>${i}</ol>`),n}static serveOptionsRequest(e,n){return n.status=204,n.headers["Access-Control-Max-Age"]="600",n.headers["Access-Control-Allow-Methods"]="GET,HEAD",e.headers["access-control-request-headers"]&&(n.headers["Access-Control-Allow-Headers"]=e.headers["access-control-request-headers"]),n}static serveFile(e,n,r){r.status=200,r.headers.Expires="0",r.headers["Cache-Control"]="no-cache, no-store, must-revalidate, max-age=0",r.headers["Accept-Ranges"]="bytes",r.headers["Content-Type"]=e.type,r.headers["transferMode.dlna.org"]="Streaming",r.headers["contentFeatures.dlna.org"]="DLNA.ORG_OP=01;DLNA.ORG_CI=0;DLNA.ORG_FLAGS=01700000000000000000000000000000",n.destination==="document"?(r.headers["Content-Type"]="application/octet-stream",r.headers["Content-Disposition"]=`attachment; filename*=UTF-8''${Du(e.name)}`,r.body="DOWNLOAD"):r.headers["Content-Disposition"]=`inline; filename*=UTF-8''${Du(e.name)}`;let i=n2(e.length,n.headers.range||"");if(Array.isArray(i)?(r.status=206,i=i[0],r.headers["Content-Range"]=`bytes ${i.start}-${i.end}/${e.length}`,r.headers["Content-Length"]=i.end-i.start+1):(r.statusCode=200,i=null,r.headers["Content-Length"]=e.length),n.method==="GET"){const s=e[Symbol.asyncIterator](i);let o=null;e.emit("iterator",{iterator:s,req:n,file:e},c=>{o=c});const a=Ci.Readable.from(o||s);let u=null;e.emit("stream",{stream:a,req:n,file:e},c=>{u=Xf(a,c)}),r.body=u||a}else r.body=!1;return r}async onRequest(e,n){let r=new URL(e.url,"http://example.com").pathname;r=r.slice(r.indexOf(this.pathname)+this.pathname.length+1);const i={headers:{"X-Content-Type-Options":"nosniff","Content-Security-Policy":"base-uri 'none'; frame-ancestors 'none'; form-action 'none';"}};if(this.isOriginAllowed(e)&&(i.headers["Access-Control-Allow-Origin"]=this.opts.origin==="*"?"*":e.headers.origin),r==="favicon.ico")return n(ot.serve404Page(i));if(e.method==="OPTIONS")return this.isOriginAllowed(e)?n(ot.serveOptionsRequest(e,i)):n(ot.serveMethodNotAllowed(i));const s=async()=>{this.pendingReady.delete(s);const a=await o();n(a)},o=async()=>{if(r==="")return ot.serveIndexPage(i,this.client.torrents,this.pathname);let[a,...u]=r.split("/");u=decodeURI(u.join("/"));const c=await this.client.get(a);if(!a||!c)return ot.serve404Page(i);if(!u)return ot.serveTorrentPage(c,i,this.pathname);const l=c.files.find(f=>f.path.replace(/\\/g,"/")===u);return l?ot.serveFile(l,e,i):ot.serve404Page(i)};if(e.method==="GET"||e.method==="HEAD"){if(this.client.ready){const a=await o();return n(a)}return this.pendingReady.add(s),void this.client.once("ready",s)}return n(ot.serveMethodNotAllowed(i))}close(e=()=>{}){this.closed=!0,this.pendingReady.forEach(n=>{this.client.removeListener("ready",n)}),this.pendingReady.clear(),Ke(e)}destroy(e=()=>{}){this.closed?Ke(e):this.close(e),this.client=null}}class r2 extends ot{constructor(e,n){super(e,n),this.server=t2.createServer(),this._listen=this.server.listen,this.server.listen=this.listen.bind(this),this._close=this.server.close,this.server.close=this.close.bind(this),this.sockets=new Set,this.closed=!1,this.pathname=(n==null?void 0:n.pathname)||"/webtorrent"}wrapRequest(e,n){return this.opts.hostname&&e.headers.host!==`${this.opts.hostname}:${this.server.address().port}`?e.destroy():new URL(e.url,"http://example.com").pathname.startsWith(this.pathname)?void this.onRequest(e,({status:r,headers:i,body:s})=>{n.writeHead(r,i),s!=null&&s._readableState||s!=null&&s._writableState?Xf(s,n):n.end(s)}):e.destroy()}onConnection(e){e.setTimeout(36e6),this.sockets.add(e),e.once("close",()=>{this.sockets.delete(e)})}address(){return this.server.address()}listen(...e){return this.closed=!1,this.server.on("connection",this.onConnection.bind(this)),this.server.on("request",this.wrapRequest.bind(this)),this._listen.apply(this.server,e)}close(e=()=>{}){this.server.removeAllListeners("connection"),this.server.removeAllListeners("request"),this.server.removeAllListeners("listening"),super.close(),this._close.call(this.server,e)}destroy(e){this.sockets.forEach(n=>{n.destroy()}),super.destroy(e)}}class i2 extends ot{constructor(e,n){super(e,n),this.registration=n.controller,this.workerKeepAliveInterval=null,this.workerPortCount=0;const r=new URL(n.controller.scope);this.pathname=r.pathname+"webtorrent",this._address={port:r.port,family:"IPv4",address:r.hostname},this.boundHandler=this.wrapRequest.bind(this),navigator.serviceWorker.addEventListener("message",this.boundHandler),fetch(`${this.pathname}/cancel/`).then(i=>{i.body.cancel()})}wrapRequest(e){const n=e.data;if(!(n!=null&&n.type)==="webtorrent"||!n.url)return null;const[r]=e.ports;this.onRequest(n,({status:i,headers:s,body:o})=>{var c;const a=(c=o[Symbol.asyncIterator])==null?void 0:c.call(o),u=()=>{r.onmessage=null,o!=null&&o.destroy&&o.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};r.onmessage=async l=>{if(l.data){let f;try{f=(await a.next()).value}catch{}r.postMessage(f),f||u(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.pathname}/keepalive/`),2e4))}else u()},this.workerPortCount++,r.postMessage({status:i,headers:s,body:a?"STREAM":o})})}listen(e,n){n()}address(){return this._address}close(e){navigator.serviceWorker.removeEventListener("message",this.boundHandler),super.close(e)}destroy(e){super.destroy(e)}}function Wr(t,e){return`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="utf-8">
        <title>${t}</title>
      </head>
      <body>
        ${e}
      </body>
    </html>
  `}function Du(t){return encodeURIComponent(t).replace(/['()]/g,escape).replace(/\*/g,"%2A").replace(/%(?:7C|60|5E)/g,unescape)}const us=_t("webtorrent"),Qf=Dr.replace(/\d*./g,t=>("0"+t%100).slice(-2)).slice(0,4),s2=`-WW${Qf}-`;class Hn extends Ht{constructor(e={}){super(),typeof e.peerId=="string"?this.peerId=e.peerId:ArrayBuffer.isView(e.peerId)?this.peerId=(0,re.V5)(e.peerId):this.peerId=(0,re.V5)((0,re.L0)(s2+(0,re.NJ)((0,re.po)(9)))),this.peerIdBuffer=(0,re.fk)(this.peerId),typeof e.nodeId=="string"?this.nodeId=e.nodeId:ArrayBuffer.isView(e.nodeId)?this.nodeId=(0,re.V5)(e.nodeId):this.nodeId=(0,re.V5)((0,re.po)(20)),this.nodeIdBuffer=(0,re.fk)(this.nodeId),this._debugId=this.peerId.substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=e.torrentPort||0,this.dhtPort=e.dhtPort||0,this.tracker=e.tracker!==void 0?e.tracker:{},this.lsd=e.lsd!==!1,this.utPex=e.utPex!==!1,this.natUpnp=e.natUpnp??!0,this.natPmp=e.natPmp??!0,this.torrents=[],this.maxConns=Number(e.maxConns)||55,this.utp=Hn.UTP_SUPPORT&&e.utp!==!1,this.seedOutgoingConnections=e.seedOutgoingConnections??!0,this._downloadLimit=Math.max(typeof e.downloadLimit=="number"?e.downloadLimit:-1,-1),this._uploadLimit=Math.max(typeof e.uploadLimit=="number"?e.uploadLimit:-1,-1),(this.natUpnp||this.natPmp)&&typeof hu=="function"&&(this.natTraversal=new hu({enableUPNP:this.natUpnp,enablePMP:this.natPmp,upnpPermanentFallback:e.natUpnp==="permanent"})),e.secure===!0&&Promise.resolve().then(se.bind(se,5658)).then(({enableSecure:r})=>r()),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new lu.ThrottleGroup({rate:Math.max(this._downloadLimit,0),enabled:this._downloadLimit>=0}),up:new lu.ThrottleGroup({rate:Math.max(this._uploadLimit,0),enabled:this._uploadLimit>=0})},this.tracker&&(typeof this.tracker!="object"&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),typeof js=="function"?this._connPool=new js(this):Ke(()=>{this._onListening()}),this._downloadSpeed=di(),this._uploadSpeed=di(),e.dht!==!1&&typeof iu.Client=="function"?(this.dht=new iu.Client(Object.assign({},{nodeId:this.nodeId},e.dht)),this.dht.once("error",r=>{this._destroy(r)}),this.dht.once("listening",()=>{const r=this.dht.address();r&&(this.dhtPort=r.port,this.natTraversal&&this.natTraversal.map({publicPort:this.dhtPort,privatePort:this.dhtPort,protocol:"udp",description:"WebTorrent DHT"}).catch(i=>{us("error mapping DHT port via UPnP/PMP: %o",i)}))}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=e.webSeeds!==!1;const n=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};typeof su=="function"&&e.blocklist!=null?su(e.blocklist,{headers:{"user-agent":`WebTorrent/${Dr} (https://webtorrent.io)`}},(r,i)=>{if(r)return console.error(`Failed to load blocklist: ${r.message}`);this.blocked=i,n()}):Ke(n)}createServer(e,n){if(this.destroyed)throw new Error("torrent is destroyed");if(this._server)throw new Error("server already created");if(typeof window<"u"&&n!=="node"||n==="browser"){if(!((e==null?void 0:e.controller)instanceof ServiceWorkerRegistration))throw new Error("Invalid worker registration");if(e.controller.active.state!=="activated")throw new Error("Worker isn't activated");return this._server=new i2(this,e),this._server}return this._server=new r2(this,e),this._server}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const e=this.torrents.filter(n=>n.progress!==1);return e.reduce((n,r)=>n+r.downloaded,0)/(e.reduce((n,r)=>n+(r.length||0),0)||1)}get ratio(){return this.torrents.reduce((e,n)=>e+n.uploaded,0)/(this.torrents.reduce((e,n)=>e+n.received,0)||1)}async get(e){if(e instanceof Su){if(this.torrents.includes(e))return e}else{const n=this.torrents;let r;try{r=await Qr(e)}catch{}if(!r)return null;if(!r.infoHash)throw new Error("Invalid torrent identifier");for(const i of n)if(i.infoHash===r.infoHash)return i}return null}add(e,n={},r=()=>{}){if(this.destroyed)throw new Error("client is destroyed");typeof n=="function"&&([n,r]=[{},n]);const i=()=>{if(!this.destroyed){for(const a of this.torrents)if(a.infoHash===o.infoHash&&a!==o)return o._destroy(new Error(`Cannot add duplicate torrent ${o.infoHash}`)),void r(a)}},s=()=>{this.destroyed||(r(o),this.emit("torrent",o))};this._debug("add"),n=n?Object.assign({},n):{};const o=new Su(e,this,n);return this.torrents.push(o),o.once("_infoHash",i),o.once("ready",s),o.once("close",function a(){o.removeListener("_infoHash",i),o.removeListener("ready",s),o.removeListener("close",a)}),this.emit("add",o),o}seed(e,n,r){if(this.destroyed)throw new Error("client is destroyed");typeof n=="function"&&([n,r]=[{},n]),this._debug("seed"),(n=n?Object.assign({},n):{}).skipVerify=!0;const i=typeof e=="string";i&&(n.path=function(c){if(fi(c),c.length===0)return".";let l=c.charCodeAt(0);const f=l===47;let h=-1,d=!0;for(let p=c.length-1;p>=1;--p)if(l=c.charCodeAt(p),l===47){if(!d){h=p;break}}else d=!1;return h===-1?f?"/":".":f&&h===1?"//":c.slice(0,h)}(e)),n.createdBy||(n.createdBy=`WebTorrent/${Qf}`);const s=c=>{this._debug("on seed"),typeof r=="function"&&r(c),c.emit("seed"),this.emit("seed",c)},o=this.add(null,n,c=>{const l=[f=>{if(i||n.preloadedStore)return f();c.load(a,f)}];this.dht&&l.push(f=>{c.once("dhtAnnounce",f)}),sn(l,f=>{if(!this.destroyed)return f?c._destroy(f):void s(c)})});let a;var u;return u=e,typeof FileList<"u"&&u instanceof FileList?e=Array.from(e):Array.isArray(e)||(e=[e]),sn(e.map(c=>async l=>{if(!n.preloadedStore&&function(f){return typeof f=="object"&&f!=null&&typeof f.pipe=="function"}(c)){const f=[];try{for await(const d of c)f.push(d)}catch(d){return l(d)}const h=(0,re.xW)(f);h.name=c.name,l(null,h)}else l(null,c)}),(c,l)=>{if(!this.destroyed)return c?o._destroy(c):void function(f,h,d){typeof h=="function"&&([h,d]=[d,h]),jf(f,h=h?Object.assign({},h):{},d)}(l,n,(f,h)=>{if(!this.destroyed){if(f)return o._destroy(f);a=h.map(d=>d.getStream),p_(l,n,async(d,p)=>{if(this.destroyed)return;if(d)return o._destroy(d);const m=await this.get(p);m?(console.warn("A torrent with the same id is already being seeded"),o._destroy(),typeof r=="function"&&r(m)):o._onTorrentId(p)})}})}),o}async remove(e,n,r){if(typeof n=="function")return this.remove(e,null,n);this._debug("remove");const i=await this.get(e);if(!i)throw new Error(`No torrent with id ${e}`);this._remove(i,n,r)}_remove(e,n,r){if(!e)return;if(typeof n=="function")return this._remove(e,null,n);const i=this.torrents.indexOf(e);i!==-1&&(this.torrents.splice(i,1),e.destroy(n,r),this.dht&&this.dht._tables.remove(e.infoHash),this.emit("remove",e))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(e){return e=Number(e),!(isNaN(e)||!isFinite(e)||e<-1)&&(this._downloadLimit=e,this._downloadLimit<0?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(e){return e=Number(e),!(isNaN(e)||!isFinite(e)||e<-1)&&(this._uploadLimit=e,this._uploadLimit<0?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(e){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,e)}_destroy(e,n){this._debug("client destroy"),this.destroyed=!0;const r=this.torrents.map(i=>s=>{i.destroy(s)});this._connPool&&r.push(i=>{this._connPool.destroy(i)}),this.dht&&r.push(i=>{this.dht.destroy(i)}),this._server&&r.push(i=>{this._server.destroy(i)}),this.natTraversal&&r.push(i=>{this.natTraversal.destroy().then(()=>i())}),sn(r,n),e&&this.emit("error",e),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const e=this._connPool.tcpServer.address();e&&(this.torrentPort=e.port,this.natTraversal&&this.natTraversal.map({publicPort:this.torrentPort,privatePort:this.torrentPort,protocol:this.utp?null:"tcp",description:"WebTorrent Torrent"}).catch(n=>{us("error mapping WebTorrent port via UPnP/PMP: %o",n)}))}this.emit("listening")}_debug(){const e=[].slice.call(arguments);e[0]=`[${this._debugId}] ${e[0]}`,us(...e)}async _getByHash(e){for(const n of this.torrents)if(n.infoHashHash||(n.infoHashHash=await(0,re.tW)((0,re.fk)("72657132"+n.infoHash),"hex")),e===n.infoHashHash)return n;return null}}Hn.WEBRTC_SUPPORT=ko.WEBRTC_SUPPORT,Hn.UTP_SUPPORT=js.UTP_SUPPORT,Hn.VERSION=Dr;class o2{constructor(){this.files=new Map,this.metadata=new Map}async getDirectoryHandle(){return this}async getFileHandle(e,n={}){return!this.files.has(e)&&n.create&&this.files.set(e,null),{createWritable:async()=>({write:async r=>{this.files.set(e,r)},close:async()=>{}}),getFile:async()=>{const r=this.files.get(e);return new File([r],e)}}}async removeEntry(e){this.files.delete(e),this.metadata.delete(e)}entries(){return Array.from(this.files.keys()).map(e=>[e])}}const a2=["udp://tracker.leechers-paradise.org:6969","udp://tracker.coppersurfer.tk:6969","udp://tracker.opentrackr.org:1337","udp://explodie.org:6969","udp://tracker.empire-js.us:1337","wss://tracker.btorrent.xyz","wss://tracker.openwebtorrent.com"],Tu=Dt("trackers",a2),hw=Pe(),dn=xe(new Map),Vr=Pe(!1),Ou=xe({done:!1,progress:0,downloadSpeed:0,downloaded:0});let Yt=null,pn=null,Ne=null;function fw(){async function t(){try{await navigator.storage.persist()||console.warn("Storage persistence denied");const w=await navigator.storage.estimate();return console.log(`Storage quota: ${w.quota} bytes`),console.log(`Storage usage: ${w.usage} bytes`),!0}catch(b){return console.error("Storage permission error:",b),!1}}async function e(){try{if(!(await navigator.storage.estimate()).quota)throw new Error("Storage quota is 0, likely in private mode");if("storage"in navigator&&"getDirectory"in navigator.storage){const w=await navigator.permissions.query({name:"persistent-storage"});if(w.state==="granted"||w.state==="prompt")return await t(),Yt=await navigator.storage.getDirectory(),Ne=await n(),!0}throw new Error("Storage API not available or permission denied")}catch(b){return console.warn("OPFS not available, falling back to in-memory storage:",b),Yt=new o2,Ne=Yt,!0}}async function n(){return await Yt.getDirectoryHandle("files",{create:!0})}function r(b){const w=Tu.value.map(v=>`&tr=${encodeURIComponent(v)}`).join("");return`magnet:?xt=urn:btih:${b}${w}`}function i(b){return b.replace(/[^a-zA-Z0-9.-]/g,"_")}async function s(b){try{const A=await(await(await Ne.getFileHandle(`${b}.meta.json`)).getFile()).text();return JSON.parse(A)}catch{return null}}async function o(b,w){const A=await(await Ne.getFileHandle(`${b}.meta.json`,{create:!0})).createWritable();await A.write(JSON.stringify(w)),await A.close()}async function a(){try{await e(),pn=new Hn,pn.on("download",b=>{const w=pn.torrents[pn.torrents.length-1];w&&Object.assign(Ou,{done:w.done,progress:w.progress,downloaded:w.downloaded,downloadSpeed:w.downloadSpeed})}),Vr.value=!0,await c()}catch(b){return console.error("Torrent system initialization failed:",b),!1}}async function u(b,w){const v=i(b.name);try{const E=await(await Ne.getFileHandle(v,{create:!0})).createWritable(),D=await b.arrayBuffer();return await E.write(D),await E.close(),await o(v,{originalName:b.name,type:b.type||"application/octet-stream",lastModified:Date.now(),infoHash:w}),v}catch(A){return console.error("Error caching downloaded file:",A),null}}async function c(){if(Ne)for await(const[b]of Ne.entries()){if(b.endsWith(".meta.json"))continue;const w=await s(b);if(!w)continue;const v=await p(b);if(v){const A=new File([v],w.originalName,{type:w.type}),E=w.infoHash?{infoHash:w.infoHash}:void 0;await l(A,b,E)}}}async function l(b,w,v={}){return new Promise(A=>{pn.seed([b],v,E=>{dn.set(w,{file:b,torrent:E,info:{infoHash:E.infoHash,magnetURI:E.magnetURI,name:E.name,length:E.length}}),A(dn.get(w))})})}async function f(b){Vr.value||await a();const w=[];for(const v of b){const A=await d(v);if(A){const E=await l(v,A);w.push(E)}}return w}async function h(b){const w=dn.get(b);w!=null&&w.torrent&&w.torrent.destroy(),await(Ne==null?void 0:Ne.removeEntry(b)),await(Ne==null?void 0:Ne.removeEntry(`${b}.meta.json`).catch(()=>{})),dn.delete(b)}async function d(b){if(!Ne)return null;try{const w=i(b.name),A=await(await Ne.getFileHandle(w,{create:!0})).createWritable();return await A.write(b),await A.close(),await o(w,{originalName:b.name,type:b.type,lastModified:b.lastModified}),w}catch(w){return console.error("Error saving to OPFS:",w),null}}async function p(b){if(!Ne)return null;try{return await(await Ne.getFileHandle(b)).getFile()}catch(w){return console.error("Error loading from OPFS:",w),null}}async function m(b){if(!Ne)return null;for await(const[w]of Ne.entries()){if(w.endsWith(".meta.json"))continue;const v=await s(w);if((v==null?void 0:v.infoHash)===b){const A=await p(w);if(A){const E=new File([A],v.originalName,{type:v.type});return E.path=v.originalName,E.length=A.size,E.progress=1,E.downloaded=A.size,E.blob=async()=>new Blob([await E.arrayBuffer()],{type:E.type}),E}}}return null}async function g(b){Vr.value||await a();const w=await m(b);return w?(console.log("File found in cache, returning without download"),[w]):new Promise(async v=>{function A(D){const I=D.files.map(P=>(P.blob=()=>new Promise((L,C)=>{const k=[],x=P.createReadStream();x.on("data",F=>k.push(F)),x.on("end",()=>{const F=new Blob(k,{type:P.type||"application/octet-stream"});L(F)}),x.on("error",C)}),P));D.on("done",async()=>{for(const P of I)await u(P,D.infoHash)}),v(I)}let E=await pn.get(b);if(E)A(E);else{const D=r(b);pn.add(D,A)}})}async function y(){if(Ne){for(const[b,w]of dn)w!=null&&w.torrent&&w.torrent.destroy();dn.clear();try{for await(const[b]of Ne.entries())await Ne.removeEntry(b);console.log("Files directory cleared successfully")}catch(b){throw console.error("Error clearing files directory:",b),b}}}async function _(){if(Yt){await y();try{for await(const[b,w]of Yt.entries())w.kind==="file"?await Yt.removeEntry(b):w.kind==="directory"&&await Yt.removeEntry(b,{recursive:!0});console.log("OPFS cleared successfully")}catch(b){throw console.error("Error clearing OPFS:",b),b}}}return{files:dn,initialized:Vr,downloadStatus:Ou,init:a,upload:f,download:g,deleteFile:h,trackers:Tu,clearFiles:y,clearOPFS:_}}const dw=xe({pub:""}),Se=xe({initiated:!1,auth:!1,is:null,name:"",pub:pe(()=>{var t;return(t=Se==null?void 0:Se.is)==null?void 0:t.pub}),color:pe(()=>"gray"),pulse:0,pulser:null,blink:!1,safe:{saved:!1,password:"",enc:"",pass:""},rooms:{},db:void 0,pair(){return console.warn("User pair read externally"),lr()},async encrypt(t){return await zn.encrypt(t,lr())},async decrypt(t){return await zn.decrypt(t,lr())},async secret(t){return await zn.secret(t,lr())}});let u2=0;function lr(){var e,n;return console.log("User pair read",++u2),(n=(e=Le().user())==null?void 0:e._)==null?void 0:n.sea}function Dn(){if(!Se.initiated){const t=Le();Se.db=t.user(),t.user().recall({sessionStorage:!0},()=>{console.log("user was recalled")}),t.on("auth",()=>{const e=Le();Se.is=e.user().is,Se.pulser&&clearInterval(Se.pulser),Se.pulser=setInterval(()=>{e.user().get("pulse").put(Date.now())},1e3),e.user().get("epub").put(Se.is.epub),e.user().get("pulse").on(n=>{Se.blink=!Se.blink,Se.pulse=n}),e.user().get("safe").map().on((n,r)=>{Se.safe[r]=n}),e.user().get("profile").get("name").on(n=>Se.name=n),e.user().get("my_rooms").map().on(async(n,r)=>{let i=await zn.decrypt(r,Se.pair());Se.rooms[i]=n})}),Se.initiated=!0}return{user:Se,auth:c2,leave:l2}}async function c2(t,e=n=>{}){const n=Le();if(!h2(t)){console.log("incorrect pair",t);return}n.user().auth(t,async()=>{e(t),console.log("user is authenticated")})}function l2(){var n;const t=Le();let e=!!((n=Se.is)!=null&&n.pub);Se.initiated=!1,clearInterval(Se.pulser),t.user().leave(),setTimeout(()=>{e&&!lr()&&(Se.is=null,console.info("User logged out"))},500)}function pw(t){Le().user().get("profile").get(t).put("")}function mw(t,e){t&&e!==void 0&&Le().user().get("profile").get(t).put(e)}function h2(t){return!!(t&&typeof t=="object"&&t.pub&&t.epub&&t.priv&&t.epriv)}const gw=xe({dark:Ip()});var f2=Object.defineProperty,Fu=Object.getOwnPropertySymbols,d2=Object.prototype.hasOwnProperty,p2=Object.prototype.propertyIsEnumerable,Iu=(t,e,n)=>e in t?f2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qs=(t,e)=>{for(var n in e||(e={}))d2.call(e,n)&&Iu(t,n,e[n]);if(Fu)for(var n of Fu(e))p2.call(e,n)&&Iu(t,n,e[n]);return t},m2=()=>({emit(t,...e){for(let n=this.events[t]||[],r=0,i=n.length;r<i;r++)n[r](...e)},events:{},on(t,e){var n;return((n=this.events)[t]||(n[t]=[])).push(e),()=>{var r;this.events[t]=(r=this.events[t])==null?void 0:r.filter(i=>e!==i)}}});function mi(t,e){return t-e}function g2(t){return t<0?-1:1}function gi(t){return[Math.abs(t),g2(t)]}function ed(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var b2=2,Bt=b2;function td(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill",e),r.setAttribute("id",t),r.setAttribute("viewBox","0 -5 10 10"),r.setAttribute("refX","5"),r.setAttribute("refY","0"),r.setAttribute("markerWidth","4"),r.setAttribute("markerHeight","4"),r.setAttribute("orient","auto"),i.setAttribute("d","M0,-5L10,0L0,5"),r.appendChild(i),n.appendChild(r),n}function _2(t,e){const n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function y2(t,e,n){let r=e.x,i=e.y,s=n.x-r,o=n.y-i;if(s!==0||o!==0){const a=((t.x-r)*s+(t.y-i)*o)/(s*s+o*o);a>1?(r=n.x,i=n.y):a>0&&(r+=s*a,i+=o*a)}return s=t.x-r,o=t.y-i,s*s+o*o}function w2(t,e){let n=t[0];const r=[n];let i;for(let s=1,o=t.length;s<o;s++)i=t[s],_2(i,n)>e&&(r.push(i),n=i);return n!==i&&i&&r.push(i),r}function Ws(t,e,n,r,i){let s=r,o=0;for(let a=e+1;a<n;a++){const u=y2(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&Ws(t,e,o,r,i),i.push(t[o]),n-o>1&&Ws(t,o,n,r,i))}function v2(t,e){const n=t.length-1,r=[t[0]];return Ws(t,0,n,e,r),r.push(t[n]),r}function Pu(t,e,n=!1){if(t.length<=2)return t;const r=e*e;return t=n?t:w2(t,r),t=v2(t,r),t}var Xn=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var e,n,r,i;const s=this.drauu.el,o=(e=this.drauu.options.cssZoom)!=null?e:1,a=(n=this.drauu.options.coordinateScale)!=null?n:1,u=(r=this.drauu.options.offset)!=null?r:{x:0,y:0};if(this.drauu.options.coordinateTransform===!1){const c=this.drauu.el.getBoundingClientRect();return{x:(t.pageX/o-c.left+u.x)*a,y:(t.pageY/o-c.top+u.y)*a,pressure:t.pressure}}else{const c=this.drauu.svgPoint;c.x=t.clientX/o+u.x,c.y=t.clientY/o+u.y;const l=c.matrixTransform((i=s.getScreenCTM())==null?void 0:i.inverse());return{x:l.x*a,y:l.y*a,pressure:t.pressure}}}createElement(t,e){var n;const r=document.createElementNS("http://www.w3.org/2000/svg",t),i=e?qs(qs({},this.brush),e):this.brush;return r.setAttribute("fill",(n=i.fill)!=null?n:"transparent"),r.setAttribute("stroke",i.color),r.setAttribute("stroke-width",i.size.toString()),r.setAttribute("stroke-linecap","round"),i.dasharray&&r.setAttribute("stroke-dasharray",i.dasharray),r}attr(t,e){this.el.setAttribute(t,typeof e=="string"?e:e.toFixed(Bt))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},x2=class mn extends Xn{constructor(){super(...arguments),this.points=[],this.count=0}onStart(e){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[e],this.brush.arrowEnd){this.arrowId=ed();const n=td(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&(this.points.push(e),this.count+=1),this.count>5&&(this.points=Pu(this.points,1,!0),this.count=0),this.attr("d",mn.toSvgData(this.points)),!0}onEnd(){const e=this.el;if(this.el=null,!e)return!1;if(e.setAttribute("d",mn.toSvgData(Pu(this.points,1,!0))),!e.getTotalLength()){const{x:n,y:r}=this.points[0],i=this.brush.size/2;e.setAttribute("d",`M ${n-i} ${r} a ${i},${i} 0 1,0 ${i*2},0 a ${i},${i} 0 1,0 ${-i*2},0`),e.setAttribute("fill",this.brush.color),e.setAttribute("stroke-width","0")}return!0}static line(e,n){const r=n.x-e.x,i=n.y-e.y;return{length:Math.sqrt(r**2+i**2),angle:Math.atan2(i,r)}}static controlPoint(e,n,r,i){const s=n||e,o=r||e,a=.2,u=mn.line(s,o),c=u.angle+(i?Math.PI:0),l=u.length*a,f=e.x+Math.cos(c)*l,h=e.y+Math.sin(c)*l;return{x:f,y:h}}static bezierCommand(e,n,r){const i=mn.controlPoint(r[n-1],r[n-2],e),s=mn.controlPoint(e,r[n-1],r[n+1],!0);return`C ${i.x.toFixed(Bt)},${i.y.toFixed(Bt)} ${s.x.toFixed(Bt)},${s.y.toFixed(Bt)} ${e.x.toFixed(Bt)},${e.y.toFixed(Bt)}`}static toSvgData(e){return e.reduce((n,r,i,s)=>i===0?`M ${r.x.toFixed(Bt)},${r.y.toFixed(Bt)}`:`${n} ${mn.bezierCommand(r,i,s)}`,"")}},k2=class extends Xn{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=gi(t.x-this.start.x),[r,i]=gi(t.y-this.start.y);if(this.shiftPressed){const s=Math.min(e,r);e=s,r=s}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",e),this.attr("ry",r);else{const[s,o]=[this.start.x,this.start.x+e*n].sort(mi),[a,u]=[this.start.y,this.start.y+r*i].sort(mi);this.attr("cx",(s+o)/2),this.attr("cy",(a+u)/2),this.attr("rx",(o-s)/2),this.attr("ry",(u-a)/2)}return!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;try{if(!t.getTotalLength())return!1}catch{return!1}return!0}},E2=class extends Xn{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[],this._erased=[]}onSelected(t){const e=(n,r)=>{if(n&&n.length)for(let i=0;i<n.length;i++){const s=n[i];if(s.getTotalLength){const o=s.getTotalLength();for(let a=0;a<this.pathSubFactor;a++){const u=s.getPointAtLength(o*a/this.pathSubFactor),c=s.getPointAtLength(o*(a+1)/this.pathSubFactor);this.pathFragments.push({x1:u.x,x2:c.x,y1:u.y,y2:c.y,segment:a,element:r||s})}}else s.children&&e(s.children,s)}};t&&e(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const e=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,e}onEnd(){this.svgPointPrevious=void 0,this.svgPointCurrent=void 0;const t=this._erased;return this._erased=[],{undo:()=>t.forEach(e=>this.drauu._restoreNode(e)),redo:()=>t.forEach(e=>this.drauu._removeNode(e))}}checkAndEraseElement(){if(this.pathFragments.length)for(let t=0;t<this.pathFragments.length;t++){const e=this.pathFragments[t];if(this.svgPointPrevious&&this.svgPointCurrent){const n={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(e,n)&&(this.drauu._removeNode(e.element),this._erased.push(e.element))}}return this._erased.length&&(this.pathFragments=this.pathFragments.filter(t=>!this._erased.includes(t.element))),this._erased.length>0}lineLineIntersect(t,e){const n=t.x1,r=t.x2,i=e.x1,s=e.x2,o=t.y1,a=t.y2,u=e.y1,c=e.y2,l=(n-r)*(u-c)-(o-a)*(i-s),f=(n*a-o*r)*(i-s)-(n-r)*(i*c-u*s),h=(n*a-o*r)*(u-c)-(o-a)*(i*c-u*s),d=(p,m,g)=>p>=m&&p<=g?!0:p>=g&&p<=m;if(l===0)return!1;{const p={x:f/l,y:h/l};return d(p.x,n,r)&&d(p.y,o,a)&&d(p.x,i,s)&&d(p.y,u,c)}}},A2=class extends Xn{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const e=ed(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(td(e,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${e})`),n}return this.el}onMove(t){if(!this.el)return!1;let{x:e,y:n}=t;if(this.shiftPressed){const r=t.x-this.start.x,i=t.y-this.start.y;if(i!==0){let s=r/i;s=Math.round(s),Math.abs(s)<=1?(e=this.start.x+i*s,n=this.start.y+i):(e=this.start.x+r,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-e),this.attr("y1",this.start.y*2-n),this.attr("x2",e),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",e),this.attr("y2",n)),!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;try{if(t.getTotalLength()<5)return!1}catch{return!1}return!0}},S2=class extends Xn{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[e,n]=gi(t.x-this.start.x),[r,i]=gi(t.y-this.start.y);if(this.shiftPressed){const s=Math.min(e,r);e=s,r=s}if(this.altPressed)this.attr("x",this.start.x-e),this.attr("y",this.start.y-r),this.attr("width",e*2),this.attr("height",r*2);else{const[s,o]=[this.start.x,this.start.x+e*n].sort(mi),[a,u]=[this.start.y,this.start.y+r*i].sort(mi);this.attr("x",s),this.attr("y",a),this.attr("width",o-s),this.attr("height",u-a)}return!0}onEnd(){const t=this.el;if(this.el=null,!t)return!1;try{if(!t.getTotalLength())return!1}catch{return!1}return!0}};function Lu(t,e,n,r=i=>i){return t*r(.5-e*(.5-n))}function C2(t){return[-t[0],-t[1]]}function mt(t,e){return[t[0]+e[0],t[1]+e[1]]}function at(t,e){return[t[0]-e[0],t[1]-e[1]]}function dt(t,e){return[t[0]*e,t[1]*e]}function D2(t,e){return[t[0]/e,t[1]/e]}function or(t){return[t[1],-t[0]]}function Ru(t,e){return t[0]*e[0]+t[1]*e[1]}function T2(t,e){return t[0]===e[0]&&t[1]===e[1]}function O2(t){return Math.hypot(t[0],t[1])}function F2(t){return t[0]*t[0]+t[1]*t[1]}function Bu(t,e){return F2(at(t,e))}function nd(t){return D2(t,O2(t))}function I2(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function ar(t,e,n){let r=Math.sin(n),i=Math.cos(n),s=t[0]-e[0],o=t[1]-e[1],a=s*i-o*r,u=s*r+o*i;return[a+e[0],u+e[1]]}function Vs(t,e,n){return mt(t,dt(at(e,t),n))}function Mu(t,e,n){return mt(t,dt(e,n))}var{min:Bn,PI:P2}=Math,Nu=.275,ur=P2+1e-4;function L2(t,e={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:s=!0,easing:o=T=>T,start:a={},end:u={},last:c=!1}=e,{cap:l=!0,easing:f=T=>T*(2-T)}=a,{cap:h=!0,easing:d=T=>--T*T*T+1}=u;if(t.length===0||n<=0)return[];let p=t[t.length-1].runningLength,m=a.taper===!1?0:a.taper===!0?Math.max(n,p):a.taper,g=u.taper===!1?0:u.taper===!0?Math.max(n,p):u.taper,y=Math.pow(n*r,2),_=[],b=[],w=t.slice(0,10).reduce((T,R)=>{let B=R.pressure;if(s){let U=Bn(1,R.distance/n),N=Bn(1,1-U);B=Bn(1,T+(N-T)*(U*Nu))}return(T+B)/2},t[0].pressure),v=Lu(n,i,t[t.length-1].pressure,o),A,E=t[0].vector,D=t[0].point,I=D,P=D,L=I,C=!1;for(let T=0;T<t.length;T++){let{pressure:R}=t[T],{point:B,vector:U,distance:N,runningLength:z}=t[T];if(T<t.length-1&&p-z<3)continue;if(i){if(s){let ye=Bn(1,N/n),me=Bn(1,1-ye);R=Bn(1,w+(me-w)*(ye*Nu))}v=Lu(n,i,R,o)}else v=n/2;A===void 0&&(A=v);let Y=z<m?f(z/m):1,G=p-z<g?d((p-z)/g):1;v=Math.max(.01,v*Math.min(Y,G));let K=(T<t.length-1?t[T+1]:t[T]).vector,ue=T<t.length-1?Ru(U,K):1,ke=Ru(U,E)<0&&!C,ae=ue!==null&&ue<0;if(ke||ae){let ye=dt(or(E),v);for(let me=1/13,ve=0;ve<=1;ve+=me)P=ar(at(B,ye),B,ur*ve),_.push(P),L=ar(mt(B,ye),B,ur*-ve),b.push(L);D=P,I=L,ae&&(C=!0);continue}if(C=!1,T===t.length-1){let ye=dt(or(U),v);_.push(at(B,ye)),b.push(mt(B,ye));continue}let he=dt(or(Vs(K,U,ue)),v);P=at(B,he),(T<=1||Bu(D,P)>y)&&(_.push(P),D=P),L=mt(B,he),(T<=1||Bu(I,L)>y)&&(b.push(L),I=L),w=R,E=U}let k=t[0].point.slice(0,2),x=t.length>1?t[t.length-1].point.slice(0,2):mt(t[0].point,[1,1]),F=[],S=[];if(t.length===1){if(!(m||g)||c){let T=Mu(k,nd(or(at(k,x))),-(A||v)),R=[];for(let B=1/13,U=B;U<=1;U+=B)R.push(ar(T,k,ur*2*U));return R}}else{if(!(m||g&&t.length===1))if(l)for(let R=1/13,B=R;B<=1;B+=R){let U=ar(b[0],k,ur*B);F.push(U)}else{let R=at(_[0],b[0]),B=dt(R,.5),U=dt(R,.51);F.push(at(k,B),at(k,U),mt(k,U),mt(k,B))}let T=or(C2(t[t.length-1].vector));if(g||m&&t.length===1)S.push(x);else if(h){let R=Mu(x,T,v);for(let B=1/29,U=B;U<1;U+=B)S.push(ar(R,x,ur*3*U))}else S.push(mt(x,dt(T,v)),mt(x,dt(T,v*.99)),at(x,dt(T,v*.99)),at(x,dt(T,v)))}return _.concat(S,b.reverse(),F)}function R2(t,e={}){var n;let{streamline:r=.5,size:i=16,last:s=!1}=e;if(t.length===0)return[];let o=.15+(1-r)*.85,a=Array.isArray(t[0])?t:t.map(({x:d,y:p,pressure:m=.5})=>[d,p,m]);if(a.length===2){let d=a[1];a=a.slice(0,-1);for(let p=1;p<5;p++)a.push(Vs(a[0],d,p/4))}a.length===1&&(a=[...a,[...mt(a[0],[1,1]),...a[0].slice(2)]]);let u=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,l=0,f=u[0],h=a.length-1;for(let d=1;d<a.length;d++){let p=s&&d===h?a[d].slice(0,2):Vs(f.point,a[d],o);if(T2(f.point,p))continue;let m=I2(p,f.point);if(l+=m,d<h&&!c){if(l<i)continue;c=!0}f={point:p,pressure:a[d][2]>=0?a[d][2]:.5,vector:nd(at(f.point,p)),distance:m,runningLength:l},u.push(f)}return u[0].vector=((n=u[1])==null?void 0:n.vector)||[0,0],u}function B2(t,e={}){return L2(R2(t,e),e)}var M2=class rd extends Xn{constructor(){super(...arguments),this.points=[]}onStart(e){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[e],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(e){return this.el||this.onStart(e),this.points[this.points.length-1]!==e&&this.points.push(e),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const e=this.el;return this.el=null,!!e}getSvgData(e){return rd.getSvgData(e,this.brush)}static getSvgData(e,n){const r=B2(e,qs({size:n.size,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5}},n.stylusOptions));if(!r.length)return"";const i=r.reduce((s,[o,a],u,c)=>{const[l,f]=c[(u+1)%c.length];return s.push(o,a,(o+l)/2,(a+f)/2),s},["M",...r[0],"Q"]);return i.push("Z"),i.map(s=>typeof s=="number"?s.toFixed(2):s).join(" ")}};function N2(t){return{draw:new x2(t),stylus:new M2(t),line:new A2(t),rectangle:new S2(t),ellipse:new k2(t),eraseLine:new E2(t)}}var j2=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=m2(),this._originalPointerId=null,this._models=N2(this),this._opStack=[],this._opIndex=0,this._disposables=[],this._elements=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget,t.window)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,e,n=window){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const r=this.resolveSelector(e)||this.el,i=this.eventStart.bind(this),s=this.eventMove.bind(this),o=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);r.addEventListener("pointerdown",i,{passive:!1}),n.addEventListener("pointermove",s,{passive:!1}),n.addEventListener("pointerup",o,{passive:!1}),n.addEventListener("pointercancel",o,{passive:!1}),n.addEventListener("keydown",a,!1),n.addEventListener("keyup",a,!1),this._disposables.push(()=>{r.removeEventListener("pointerdown",i),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",o),n.removeEventListener("pointercancel",o),n.removeEventListener("keydown",a,!1),n.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this._elements.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,e){return this._emitter.on(t,e)}undo(){return!this.canUndo()||this.drawing?!1:(this._opStack[--this._opIndex].undo(),this._emitter.emit("changed"),!0)}redo(){return!this.canRedo()||this.drawing?!1:(this._opStack[this._opIndex++].redo(),this._emitter.emit("changed"),!0)}canRedo(){return this._opIndex<this._opStack.length}canUndo(){return this._opIndex>0}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._originalPointerId=t.pointerId,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const e=this.model._eventUp(t);if(!e)this.cancel();else if(e===!0){const n=this._currentNode;n&&(this._appendNode(n),this.commit({undo:()=>this._removeNode(n),redo:()=>this._restoreNode(n)}))}else this.commit(e);this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed"),this._originalPointerId=null}acceptsInput(t){return(!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType))&&!(this._originalPointerId&&this._originalPointerId!==t.pointerId)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(t){this._opStack.length=this._opIndex,this._opStack.push(t),this._opIndex++;const e=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",e)}clear(){this._opStack.length=0,this._opIndex=0,this._elements=[],this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}_appendNode(t){const e=this._elements.at(-1);e?e.after(t):this.el.append(t);const n=this._elements.push(t)-1;t.dataset.drauu_index=n.toString()}_removeNode(t){t.remove(),this._elements[+t.dataset.drauu_index]=null}_restoreNode(t){const e=+t.dataset.drauu_index;this._elements[e]=t;for(let n=e-1;n>=0;n--){const r=this._elements[n];if(r){r.after(t);return}}this.el.prepend(t)}};function $2(t){return new j2(t)}const $e=xe({colors:["#000000",...new Array(12).fill(!0).map((t,e)=>`hsl(${e*30}, 100%,50%)`),"#ffffff"],sizes:Fp([4,8,16,24]),modes:["line","arrow","stylus","rectangle","ellipse"],mode:pe({get(){return ju.value},set(t){ju.value=t,t==="arrow"?(_n.mode="line",_n.arrowEnd=!0):(_n.mode=t,_n.arrowEnd=!1)}}),enabled:!1,pinned:Dt("drawing-pinned",!1),canUndo:!1,canRedo:!1,canClear:!1,ing:!1,initiated:!1,content:"",clear:()=>{}}),_n=tp(Dt("drawing-brush",{color:$e.colors[0],size:10,mode:"stylus",arrowEnd:!1})),ju=Pe("stylus");let Gs=!1;const z2=xe({brush:_n,acceptsInputTypes:pe(()=>$e.enabled?void 0:["pen"])}),ze=hc($2(z2));function Gr(){Gs=!0,$e.content!=null?ze.load($e.content):ze==null||ze.clear(),Gs=!1}function U2(){var t;$e.canRedo=ze.canRedo(),$e.canUndo=ze.canUndo(),$e.canClear=!!((t=ze.el)!=null&&t.children.length)}function bw(){if(!$e.initiated){const t=Le(),{user:e}=Dn(),n=t.user(ge.pub).get("space").get(e.pub).get("draw");n.on(s=>{$e.ing||($e.content=s,Gr())});const r=Uh(()=>{var s;if(U2(),!Gs){let o=ze.dump();$e.content=o,n.put(o,void 0,{opt:{cert:(s=ge.features)==null?void 0:s.space}})}},200);ze.on("changed",r),vd(()=>{yi(()=>{Gr()})}),je(()=>ge.pub,s=>{ze==null||ze.clear(),$e.content="",Gr()}),ze.on("start",()=>$e.ing=!0),ze.on("end",()=>$e.ing=!1),$e.clear=()=>{var s;ze==null||ze.clear(),$e.content="",n.put("",void 0,{opt:{cert:(s=ge.features)==null?void 0:s.space}})};const i=[];window.addEventListener("keydown",s=>{if(!$e.enabled)return;const o=!s.ctrlKey&&!s.altKey&&!s.shiftKey&&!s.metaKey;let a=!0;s.code==="KeyZ"&&(s.ctrlKey||s.metaKey)?s.shiftKey?ze.redo():ze.undo():s.code==="Escape"?$e.enabled=!1:s.code==="KeyC"&&(s.ctrlKey||s.metaKey)?$e.clear():s.code.startsWith("Digit")&&o&&+s.code[5]<=i.length?_n.color=i[+s.code[5]-1]:a=!1,a&&(s.preventDefault(),s.stopPropagation())},!1)}return $e.initiated=!0,{brush:_n,draw:$e,drauu:ze,loadCanvas:Gr}}const id={trie:"ABAOAAAAAAAQmQAAAYAIf/ftmwuoFUUYx+d4z7nnHO+rUiF8gFHRBQ00CyQpJEtMUiwSSjLkViBlIqUhXnuoEXXpaWVkJFFWpj3EQCN6UdiVIKw0C4QSxbDkhkSKlUL/ZXe709yZ2XnvUfeDHzM7M/t937xn9+yZ3kTIDWAO6ALLwEoqzTbsAavBk2CNQvl14A1J/kawBXwIPgdfge/Aj2AfVe4g6AN/gL8BKRNSA1XQAYaCkeBF8ApYX47vTdkDLkDa2+BdsBV8Ar4EvWAn+AH8DPaBQ6CPuj4KTiblKxVC2irx/cMQvoNwVCW2cyHCOq4vrvTrn4D4pOR6CsJrwFjKfnTfDKSNq8Xx2YjfUun3fR7i85PrBQjvTeLdCFeBHjCUKr8a8bXgVbCx8v92uLHWz9yE28CSBLqsjDcVy7lmSyXmr3JMlPYBrj9L6jmf6ffxSN/OtMHXFbH+3UneXoQHkvgjYEii9zDSfgfHwAlQbiaktTnOG5KEw5sH6h2NtE5Oeko0r8ZJ8lVZCD8XR+MMumZS6VEdnkjq8zjVz88ivlaj319G2fVU+TT+FsL3JHq2SfI+Rt520At2gt0Ue5nr/eBXcAQcB/+AprpeG7Volqc5J7l3uIGOiUz/7uKMAdv+j7iSsjPVckyNtmirgoKCgoKCgoKCgoKCggIVZjTH79LS64WS9zYps3HPXOqZt7dKyGU1Qu5A2t1J+hKEy8HsWvw+cAXiVyD+WJL/FMIXwEvJ9WsIjyHclPEs/T7yH4CeB8FDYAVYCVaBh2tFXpFX5BV5RZ7rvLvAPeC+Wv57VkFBwenLNge/0clY09T/uzpLFyeNPh8vL/vxSYcNbTGHwDQFOtsJmdg+MH0pk7YB14dAZwch8zritOcQ7gDkLEJGgllgcgshi8D+OiHnDSbk+VLMzVScZVOLOI+mm9KxGfHDuG9MK54twOvgYKuanoKCgoKC048j2BcI9oUDOCccx35YKsffeUTfCV2C+OXJHj0I4W9IuxrPLEea4/yj4CpqDz/JOWtEuirV/u/I2hAfVuXvxSOQfj6VNwbxCYKyERORN5nKn1bt/+4pYhaVF33/dZNE11xJXsRU6J3JnFduxz0LwOLoXuR1JzrmGJxrVlL2exB/mvFnDa67Er3rMnylWa9R1ierGuCsx7IDbXN9QHs9aINvYHMPp09+apB+0iX6XreHYhlDj4RnygPLn2nYtP2nGc92Q5g51+v5WdCEnfBpl8Cv8Qq/n6jwrWa993LKd3hevzYm839zA6wDW+HDddjnP6J8+cKBX9Gc/6Uah30I/wQnGqC+qpTRJq0Z72xN++/sU+BdMFu3c08Bn02gv9/mcVE9/n48KjsW8UvBpHqc1wmmID49+g65nq2LZbRiue/BnAz9t9b59aHrOoK67kr03ZnctygJlyK8n7I1Kvo9A9ePGtSPtW/S/j6J2vXaptJ/lOO/7mTSRMUHKd6jQiH5SdH+7saxz/HfzvGZTTOVyhmOSwllp9Ek7z407Xc6FMVPdykJUBXdNm/kPacR15dQY1BWh1JGGVYHr6wPof3KSxpprDSynAnt4KpuvDlVUtTvmqqgDlUK9ppeM1TraSqsXdZ3Oj0Vnf2NJ7b305K2n2zfFbW/q/2lyoEwcdoPuo+rVJj33JWNYd784YnoPGQ7d3R9LmXc50No+z7OaeVEdxtx9/7H9bslV8/VqYR+H+bCBm/dp4W31qZjRoaL/ahR3zfy1hbR/q9aLpTI7LLrWV5Cj0lC5Pu+6BxAl6f3Ntm9Ov7ltf+x9Qltm/VB1Iasj3R5HVuqZUP2R4WJ5zVfZPODV5bnN1vWZTva6hfNd1o3e371MQ58jy/b9cilH7Q/Pua36Xqbh4jW2qznYVXdOvbzeObi7adpuuxMk6Uzz/6MhD0X8M4IvP51XT/2zJKnsP2p449ov+GdEejyvHcRrsc62+ema23WudOVqPprYjfvfSaEPXaM8ey5nG8qfcRD5Wxja8/GP1fYimq7sfXVWbNtRfXs7aM9THVEovrO0kZ8tH2otUtlzNFjTbaXqb6/0K2bzzaQ1ZGXzgqv/iI9IfvS51marq/K2kyHJOMe1XZUGVMi3SElq56i+tLpeYmPvS+vfqCFN5Z4c97nvGVt8Pqe55+uqKzbKnPRx97OXqui+5wj85vOUz0rhEBky0ZcjmeR3ya/N7r+jTJLfLUBL810jOqOYxfCWwN9+yBaj0KJy/lqYtvULx+iuwa73sNpvSJ7KvZDjp/UnqyNRNcmdlTK5H1m9KGPN/Zl7WjSxqrjy/TZSvSszL6HDz1+eZKnDyFs66ypoj1eRa9v0TlTqOpyKfQYz1tEa3Qee23qj0vRfVdi+zwp2ut03rnq+OxDaN/ZNV90rdpuOj6zelXbIeR4TcXm/QE9PnyKK/2yMylbH9EcyOO5hieyuqQieh7Lqw6ubZqOXZMxKxobsjGk6r/qPuZaTPaYkH2YCtuHdHlWV2hRabcQ80zVhs7abiMq73Vt54+qqPYRz8esevheV1XGE9uehFNGJrzfElh9tutnlrDj0KVOX/PQ53xn290EHd9tfFQVH+8ZdUW0/rD5Iddw33ZC7kMiu65xZUulDjr19SUi3122oQufXPmmOy+z7PqQ0O3pWtoDwquTqGxzIFyJr33N9Z4fQkL6YXM2ckGtAaClnjODPdPKoCsu68qK77qrwEoLGdhmPgltLxWf3xz51s3DREdIUbUZ0i9XtnTONLJ7Q/hqKrpjRrVs3vWihddXsn7UPc+a3OML0zaxtWfSXoTIfTbN45U1WUtltmT+i+qqY9u0X21E156NX3ndK9Np0095+6KiUyXNh5jOA54eV21ju36yemz8yPLJ1Vrgep8JtU/Zim4b88qp2vFFHjZ9rW8mvtvq9u2rrZ5Q9m3t+BpbJnk+x/e/",classes:{Other:0,Prepend:1,CR:2,LF:3,Control:4,Extend:5,Regional_Indicator:6,SpacingMark:7,L:8,V:9,T:10,LV:11,LVT:12,ZWJ:13,ExtPict:14}};var Eo=0,sd=-3;function xr(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function H2(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new xr,this.dtree=new xr}var od=new xr,ad=new xr,Ao=new Uint8Array(30),So=new Uint16Array(30),ud=new Uint8Array(30),cd=new Uint16Array(30),q2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$u=new xr,wt=new Uint8Array(320);function ld(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function W2(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}var zu=new Uint16Array(16);function cs(t,e,n,r){var i,s;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,s=0,i=0;i<16;++i)zu[i]=s,s+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[zu[e[n+i]]++]=i)}function V2(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=t.tag&1;return t.tag>>>=1,e}function xt(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function Zs(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,s=t.tag;do r=2*r+(s&1),s>>>=1,++i,n+=e.table[i],r-=e.table[i];while(r>=0);return t.tag=s,t.bitcount-=i,e.trans[n+r]}function G2(t,e,n){var r,i,s,o,a,u;for(r=xt(t,5,257),i=xt(t,5,1),s=xt(t,4,4),o=0;o<19;++o)wt[o]=0;for(o=0;o<s;++o){var c=xt(t,3,0);wt[q2[o]]=c}for(cs($u,wt,0,19),a=0;a<r+i;){var l=Zs(t,$u);switch(l){case 16:var f=wt[a-1];for(u=xt(t,2,3);u;--u)wt[a++]=f;break;case 17:for(u=xt(t,3,3);u;--u)wt[a++]=0;break;case 18:for(u=xt(t,7,11);u;--u)wt[a++]=0;break;default:wt[a++]=l;break}}cs(e,wt,0,r),cs(n,wt,r,i)}function Uu(t,e,n){for(;;){var r=Zs(t,e);if(r===256)return Eo;if(r<256)t.dest[t.destLen++]=r;else{var i,s,o,a;for(r-=257,i=xt(t,Ao[r],So[r]),s=Zs(t,n),o=t.destLen-xt(t,ud[s],cd[s]),a=o;a<o+i;++a)t.dest[t.destLen++]=t.dest[a]}}}function Z2(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(~n&65535))return sd;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,Eo}function Hu(t,e){var n=new H2(t,e),r,i,s;do{switch(r=V2(n),i=xt(n,2,0),i){case 0:s=Z2(n);break;case 1:s=Uu(n,od,ad);break;case 2:G2(n,n.ltree,n.dtree),s=Uu(n,n.ltree,n.dtree);break;default:s=sd}if(s!==Eo)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}W2(od,ad);ld(Ao,So,4,3);ld(ud,cd,2,1);Ao[28]=0;So[28]=258;const K2=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,qu=(t,e,n)=>{let r=t[e];t[e]=t[n],t[n]=r},J2=t=>{const e=t.length;for(let n=0;n<e;n+=4)qu(t,n,n+3),qu(t,n+1,n+2)},Y2=t=>{K2&&J2(t)},X2={swap32LE:Y2},Q2=X2.swap32LE,Co=11,xn=5,ey=Co-xn,ty=65536>>Co,ny=1<<ey,ry=ny-1,ei=2,iy=1<<xn,ls=iy-1,hd=65536>>xn,sy=1024>>xn,oy=hd+sy,ay=oy,uy=32,cy=ay+uy,ly=1<<ei;class hy{constructor(e){const n=typeof e.readUInt32BE=="function"&&typeof e.slice=="function";if(n||e instanceof Uint8Array){let r;if(n)this.highStart=e.readUInt32LE(0),this.errorValue=e.readUInt32LE(4),r=e.readUInt32LE(8),e=e.slice(12);else{const i=new DataView(e.buffer);this.highStart=i.getUint32(0,!0),this.errorValue=i.getUint32(4,!0),r=i.getUint32(8,!0),e=e.subarray(12)}e=Hu(e,new Uint8Array(r)),e=Hu(e,new Uint8Array(r)),Q2(e),this.data=new Uint32Array(e.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=e)}get(e){let n;return e<0||e>1114111?this.errorValue:e<55296||e>56319&&e<=65535?(n=(this.data[e>>xn]<<ei)+(e&ls),this.data[n]):e<=65535?(n=(this.data[hd+(e-55296>>xn)]<<ei)+(e&ls),this.data[n]):e<this.highStart?(n=this.data[cy-ty+(e>>Co)],n=this.data[n+(e>>xn&ry)],n=(n<<ei)+(e&ls),this.data[n]):this.data[this.data.length-ly]}}const Wu=id.trie,{Other:Vu,Prepend:Gu,CR:hs,LF:fs,Control:Zu,Extend:Zr,Regional_Indicator:Mt,SpacingMark:fy,L:Ku,V:ds,T:ps,LV:Ju,LVT:Yu,ZWJ:Mn,ExtPict:Kr}=id.classes;let ti=null;if(globalThis.window){const t=window.atob(Wu);ti=new Uint8Array(t.length);for(let e=0;e<t.length;e++)ti[e]=t.charCodeAt(e)}else ti=Buffer.from(Wu,"base64");const bi=new hy(ti),Xu=function(t,e){const n=t.charCodeAt(e);if(55296<=n&&n<=56319){const r=n,i=t.charCodeAt(e+1);return 56320<=i&&i<=57343?(r-55296)*1024+(i-56320)+65536:r}if(56320<=n&&n<=57343){const r=t.charCodeAt(e-1),i=n;return 55296<=r&&r<=56319?(r-55296)*1024+(i-56320)+65536:i}return n},Do=function(t,e){let n,r;return 55296<=(n=t.charCodeAt(e))&&n<=56319&&56320<=(r=t.charCodeAt(e+1))&&r<=57343},Fe={NotBreak:0,BreakStart:1,Break:2,BreakLastRegional:3,BreakPenultimateRegional:4},fd=function(t,e,n,r){const i=[e].concat(n).concat([r]),s=t?e:i[i.length-2],o=t?i[1]:r;let a=i.lastIndexOf(Mt);if(a>0&&i.slice(1,a).every(u=>u===Mt)&&s!==Gu&&s!==Mt)return i.filter(u=>u===Mt).length%2===1?Fe.BreakLastRegional:Fe.BreakPenultimateRegional;if(s===hs&&o===fs)return Fe.NotBreak;if(s===Zu||s===hs||s===fs)return o!==Zr&&n.every(u=>u===Zr)?Fe.Break:Fe.BreakStart;if(o===Zu||o===hs||o===fs)return Fe.BreakStart;if(s===Ku&&(o===Ku||o===ds||o===Ju||o===Yu)||(s===Ju||s===ds)&&(o===ds||o===ps)||(s===Yu||s===ps)&&o===ps)return Fe.NotBreak;if(t){if(o===Zr)return Fe.NotBreak;if(o===Mn)return s==Vu&&n.length>0&&n[0]==Mn?r!=Kr?Fe.BreakStart:Fe.Break:Fe.NotBreak}else if(o===Zr||o===Mn)return Fe.NotBreak;if(o===fy||s===Gu)return Fe.NotBreak;if(t){if(s==Mn&&o==Kr&&(e==Mn||e==Vu))return Fe.NotBreak}else if(e==Kr&&s==Mn&&o==Kr)return Fe.NotBreak;return!t&&n.indexOf(Mt)>=0?Fe.Break:s===Mt&&o===Mt?Fe.NotBreak:Fe.BreakStart},Qu=function(t,e,n){for(;n--;)e+=Do(t,e)?2:1;return e},Zn={};Zn.nextBreak=function(t,e=0){if(e<0)return 0;if(e>=t.length-1)return t.length;const n=bi.get(t.codePointAt(e)),r=[];let i,s,o;for(i=s=e+1,o=t.length;s<o;i=s+=1){if(Do(t,i-1))continue;const a=bi.get(t.codePointAt(i));if(fd(!1,n,r,a))return i;r.push(a)}return t.length};Zn.previousBreak=function(t,e=t.length){if(e>t.length)return t.length;if(e<=1)return 0;e--;let n=[],r=bi.get(Xu(t,e)),i,s;for(i=s=e-1;s>=-1;i=s+=-1){if(Do(t,i))continue;let o=bi.get(Xu(t,i));switch(fd(!0,o,n,r)){case Fe.Break:return i+n.length+1;case Fe.BreakStart:return i+1;case Fe.BreakLastRegional:return Qu(t,i,n.concat(r).lastIndexOf(Mt)+1);case Fe.BreakPenultimateRegional:return Qu(t,i,n.concat(r).lastIndexOf(Mt))}n.unshift(o)}};Zn.break=function(t){const e=[];let n=0,r;for(;(r=Zn.nextBreak(t,n))<t.length;)e.push(t.slice(n,r)),n=r;return n<t.length&&e.push(t.slice(n)),e};Zn.countBreaks=function(t){let e=0,n=0,r;for(;(r=Zn.nextBreak(t,n))<t.length;)n=r,e++;return n<t.length&&e++,e};const dy={install(t){for(const e in ms)t.component(e,ms[e])}},_w=Object.freeze(Object.defineProperty({__proto__:null,AccountAvatar:_c,AccountBadge:bc,AccountHome:fc,AccountPetname:dc,AccountProfile:gc,AccountReactions:pc,AccountSelect:mc,AuthCreate:wc,AuthCredentials:xc,AuthForm:yc,AuthPanel:vc,ChatInput:kc,ChatMessage:Ec,ChatMessages:Ac,ChatRoom:Cc,ChatTopics:Sc,DictAuthors:Oc,DictBy:Dc,DictDefCard:Fc,DictDefList:Ic,DictDefPage:Pc,DictLinkButton:Nc,DictLinkList:Mc,DictPanel:Tc,DictWordCard:Lc,DictWordList:Rc,DictWordPage:Bc,EmbedYoutube:jc,FileCard:Uc,FileHash:Hc,FileInfo:Wc,FileList:Vc,FileShare:qc,FormLink:Gc,FormPicture:Zc,FormText:Kc,FormTitle:Yc,FormYoutube:Jc,GiftButton:tl,GiftCard:Xc,GiftForm:el,GiftList:Qc,GiftStatus:il,GiftWallet:rl,GiftWallets:nl,GuestList:Gl,GunGraph:sl,GunRelay:ol,GunRelayList:al,GunSettings:cl,GunTools:ul,GunVuePlugin:dy,MateButton:ll,MateLink:fl,MateList:hl,MessageExchange:Sl,MessageList:Dl,MessagesCount:Cl,PostActionBan:xl,PostActionReact:kl,PostActionStar:wl,PostActionUpdate:vl,PostCard:dl,PostForm:pl,PostGraph:ml,PostLine:gl,PostLink:bl,PostList:_l,PostPage:yl,PostReactionButton:El,PostReactionTabs:Al,ProjectCard:Ol,ProjectForm:Pl,ProjectFunding:Il,ProjectList:Tl,ProjectPage:Fl,QrLoad:Ll,QrShare:Bl,QrShow:Rl,RoomActions:Vl,RoomButton:Wl,RoomCard:Ml,RoomFeature:Nl,RoomFeatureIcon:jl,RoomForm:$l,RoomList:Ul,RoomLogo:zl,RoomPage:Hl,RoomProfile:ql,SpaceArrow:Jl,SpaceDraw:Yl,SpaceGuest:Kl,SpacePlane:Zl,SpaceStatus:Xl,TorrentDownload:zc,TorrentUpload:$c,UiButton:Ql,UiComponents:sh,UiDark:ih,UiLayer:eh,UiLink:th,UiModal:nh,UiPanel:rh,UserAvatar:oh,UserGraph:ah,UserHome:uh,UserIcon:ch,UserListOverlay:lh,UserProfile:hh,UserProfileField:fh,UserRooms:dh,components:ms},Symbol.toStringTag,{value:"Module"}));export{tn as $,_c as A,gt as B,zn as C,uw as D,aw as E,Cn as F,_y as G,Zn as H,Se as I,Ay as J,zy as K,kp as L,ll as M,Cy as N,Ac as O,Ol as P,kc as Q,Xy as R,ew as S,zc as T,oh as U,Ps as V,Qy as W,Yy as X,by as Y,ky as Z,Mc as _,Cl as a,zl as a$,Nc as a0,Jy as a1,Lc as a2,Fc as a3,Ky as a4,lf as a5,Zy as a6,fw as a7,a1 as a8,eh as a9,ow as aA,Ia as aB,rw as aC,iw as aD,Zc as aE,Gc as aF,Jc as aG,Kc as aH,Bl as aI,pl as aJ,sw as aK,gl as aL,vl as aM,_l as aN,El as aO,Yc as aP,Uh as aQ,Il as aR,Pl as aS,tl as aT,Oy as aU,cw as aV,e_ as aW,jl as aX,Bf as aY,Ml as aZ,am as a_,Uc as aa,jy as ab,hw as ac,Rl as ad,nw as ae,tw as af,jc as ag,il as ah,Ny as ai,bm as aj,Hy as ak,qy as al,Xc as am,Wl as an,el as ao,rl as ap,Uy as aq,al as ar,Wy as as,sl as at,Tu as au,a2 as av,fl as aw,th as ax,kl as ay,Gy as az,dc as b,Vl as b0,Nl as b1,Gl as b2,Nn as b3,lw as b4,My as b5,By as b6,Ey as b7,Py as b8,Ry as b9,Dy as ba,bw as bb,Jl as bc,Kl as bd,Xl as be,ms as bf,Np as bg,Dt as bh,hh as bi,Dl as bj,Vc as bk,dh as bl,uh as bm,rh as bn,fh as bo,pw as bp,n_ as bq,_w as br,Or as c,gc as d,hl as e,pc as f,Kn as g,Le as h,ge as i,Vy as j,Al as k,dl as l,Ed as m,bc as n,mm as o,Qh as p,Ly as q,Ty as r,dw as s,gw as t,Dn as u,Iy as v,Sy as w,mw as x,$y as y,Fy as z};
