import{a as b,q as y,b3 as h,r as k}from"./components.BYx5MAPp.js";import{u as g}from"./useAvatar.D93I_ZZb.js";import{d as v,h as o,c as x,o as S,G as w,j as n,k as t}from"./framework.Cf-rbDpz.js";import"./theme.BeDAU7c0.js";const N=["opacity"],B=["fill","stroke"],O=["xlink:href"],U=1e4,E=v({__name:"SpaceGuest",props:{pub:{type:String,default:""},status:{type:String,default:""},pos:{type:Object,default:()=>({x:0,y:0})},mouse:{type:Object,default:()=>({x:0,y:0})},pulse:{type:Number,default:0},size:{type:Number,default:100}},emits:["updateStatus"],setup(e){const s=e,{user:r}=b(),i=o(()=>Date.now()-Number(s.pulse)),p=o(()=>i.value>U),c=y(),u=o(()=>c.hex(s.pub)),{avatar:d,blink:m}=g(()=>s.pub,()=>s.size);return(f,a)=>(S(),x("g",{class:"guest",opacity:p.value?.1:1},[w(t(h),{class:"opacity-20 hover-opacity-90 transition font-mono",content:e.status,onUpdate:a[0]||(a[0]=l=>f.$emit("updateStatus",l)),editable:t(r).pub==e.pub,"max-row-length":30,"line-height":22},null,8,["content","editable"]),n("g",{class:"avatar",onClick:a[1]||(a[1]=l=>t(k).pub=e.pub)},[n("circle",{class:"transition duration-1000 ease-out",style:{filter:"url(#shadowButton)"},r:26,fill:u.value,"stroke-width":"8","stroke-opacity":"0.5",stroke:t(m)?u.value:"transparent"},null,8,B),n("image",{"xlink:href":t(d),x:"-25",y:"-25",height:"50",width:"50","clip-path":"url(#mask)"},null,8,O)])],8,N))}});export{E as default};
