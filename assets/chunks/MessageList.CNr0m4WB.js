import{d as w,x as d,m as L,a$ as M,c as l,o as r,e as f,J as n,k as e,j as c,w as h,r as B,G as g,H as z,n as N,T as V,_ as O}from"./framework.DOfjDz1B.js";import{b as P}from"./useMessages.ChmRddHG.js";import"./theme.2Mja-hgs.js";import{u as S,n as v,a as y}from"./components.BfL1cQFx.js";const T=["onClick"],_=w({__name:"MessageList",props:{current:{type:String,default:""}},emits:["chat"],setup(C){const m=P();d(!1);const{user:o}=S(),k=d(),a=d(!0),u=L("(min-width: 640px)");return M(k,()=>u.value?null:a.value=!1),(i,s)=>(r(),l(g,null,[!a.value&&!e(u)?(r(),l("button",{key:0,class:"button z-2000 top-3 left-2 absolute",style:{flex:"1 0 200px"},onClick:s[0]||(s[0]=p=>a.value=!0)},s[2]||(s[2]=[c("div",{class:"i-la-angle-right"},null,-1)]))):f("",!0),n(V,{name:"fade",mode:"out-in",appear:""},{default:h(()=>{var p,b,x;return[e(u)||a.value&&!e(u)?(r(),l("div",{key:0,class:"px-1 py-2 flex flex-col bg-dark-50 dark-bg-dark-400 bg-opacity-95 gap-2 overflow-y-scroll scroll-smooth absolute sm-static z-20000 min-w-260px max-w-full text-dark-900 dark-text-light-800 backdrop-filter backdrop-blur-xl pb-8",ref_key:"chatsPanel",ref:k,style:{flex:"0 1 320px"}},[B(i.$slots,"default",{},void 0,!0),e(m)[(p=e(o))==null?void 0:p.pub]?f("",!0):(r(),l("div",{key:0,class:"p-2 flex gap-2",onClick:s[1]||(s[1]=$=>{var t;i.$emit("chat",(t=e(o))==null?void 0:t.pub),a.value=!1})},[n(e(v),{pub:(b=e(o))==null?void 0:b.pub},null,8,["pub"]),s[3]||(s[3]=c("div",{class:"flex-1"},null,-1)),n(e(y),{pub:(x=e(o))==null?void 0:x.pub},null,8,["pub"])])),(r(!0),l(g,null,z(e(m),($,t)=>(r(),l("div",{class:N(["p-2 rounded-xl flex items-center bg-light-500 dark-bg-dark-400 cursor-pointer",{current:t==C.current}]),key:t,onClick:j=>{i.$emit("chat",t),a.value=!1}},[n(e(v),{pub:t},null,8,["pub"]),s[4]||(s[4]=c("div",{class:"flex-1"},null,-1)),n(e(y),{pub:t},null,8,["pub"])],10,T))),128))],512)):f("",!0)]}),_:3})],64))}}),H=O(_,[["__scopeId","data-v-6a3277af"]]);export{H as default};
