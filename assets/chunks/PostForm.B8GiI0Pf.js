import{_ as j,x as f,p as V,aj as P,h as S,c as m,o as p,aE as x,e as z,j as o,J as a,aF as b,$ as B,a1 as D,n as k,w as y,k as n}from"./framework.DMS09ad0.js";import{aE as C,aF as E,aG as I,a9 as $,aH as M}from"./components.BfuT3X--.js";import{a as N}from"./useZip.BPxo_2vW.js";import"./theme.Cz5CPBav.js";import"./useMd.B1HITcl1.js";import"./useGift.OYI2RabE.js";import"./composables.C5gdUWiU.js";const T={class:"w-full flex flex-col p-2 shadow-xl m-1 rounded-2xl",action:"javascript:void(0);"},H={class:"flex flex-wrap z-100"},K={class:"flex justify-center flex-1"},L=["disabled"],c={__name:"PostForm",props:{tag:{type:String,default:" "}},emits:["close"],setup(g,{emit:w}){const F=g,U=w,u=f();V(()=>{var i;(i=u.value)==null||i.focus()});const l=f({}),s=P({form:!1,youtube:!1,text:!1}),r=S(()=>l.value.title||l.value.statement||l.value.text||l.value.cover);function d(){if(!r.value)return;const i={...l.value};N(F.tag,i),v()}function v(){s.form=!1,l.value={},U("close")}return(i,t)=>(p(),m("form",T,[s.title?x((p(),m("input",{key:0,class:"font-bold text-xl dark-bg-dark-200",ref_key:"titleInput",ref:u,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.title=e),placeholder:"Title",autofocus:""},null,512)),[[b,l.value.title]]):z("",!0),x(o("textarea",{class:"text-1rem leading-relaxed dark-bg-dark-200","onUpdate:modelValue":t[1]||(t[1]=e=>l.value.statement=e),placeholder:"Short text statement",onKeyup:t[2]||(t[2]=B(D(e=>d(),["ctrl"]),["enter"]))},null,544),[[b,l.value.statement]]),o("div",H,[o("button",{class:k(["button m-1",{active:l.value.title}]),title:"Add a heading",onClick:t[3]||(t[3]=e=>s.title=!s.title)},"H1",2),a(n(C),{field:"icon",options:{picSize:400,preserveRatio:!1},onUpdate:t[4]||(t[4]=e=>l.value.icon=e)},{default:y(()=>t[14]||(t[14]=[o("div",{class:"i-la-info-circle"},null,-1)])),_:1,__:[14]}),a(n(C),{field:"cover",update:"postData.cover = $event"}),a(n(E),{onUpdate:t[5]||(t[5]=e=>l.value.link=e)}),a(n(I),{onUpdate:t[6]||(t[6]=e=>l.value.youtube=e)}),o("button",{class:k(["m-1 button",{active:l.value.text}]),onClick:t[7]||(t[7]=e=>s.text=!0)},t[15]||(t[15]=[o("div",{class:"i-mdi-text-long"},null,-1)]),2),t[18]||(t[18]=o("div",{class:"flex-1"},null,-1)),o("div",K,[o("button",{class:"plus button flex-1 justify-center m-1",disabled:!r.value,type:"submit",onClick:t[8]||(t[8]=e=>d())},t[16]||(t[16]=[o("div",{class:"i-la-check"},null,-1),o("div",{class:"font-bold ml-2"},"Submit",-1)]),8,L),o("button",{class:"m-1 button text-xl",onClick:t[9]||(t[9]=e=>v())},t[17]||(t[17]=[o("div",{class:"i-la-trash-alt"},null,-1)]))])]),a(n($),{open:s.youtube,offset:"22vh",onClose:t[10]||(t[10]=e=>s.youtube=!1)},null,8,["open"]),a(n($),{open:s.text,offset:"22vh",onClose:t[13]||(t[13]=e=>s.text=!1)},{default:y(()=>[a(n(M),{text:l.value.text,"onUpdate:text":t[11]||(t[11]=e=>l.value.text=e),onClose:t[12]||(t[12]=e=>s.text=!1)},null,8,["text"])]),_:1},8,["open"])]))}},Q=j(c,[["__scopeId","data-v-356c0689"]]);export{Q as default};
