import{h as g,aR as y,aS as C,p as w,c as u,e as d,o as t,j as l,G as S,t as f,k as a,w as H,b,T as $,F as B,B as F}from"./framework.BfubPTv1.js";import{H as R,aa as L}from"./components.DHm_-Jn1.js";import"./theme.C_J-1_xQ.js";const N={key:0,class:"flex max-w-80vw flex-wrap gap-2 p-4 items-start"},Q={class:"flex flex-col gap-2"},U={class:"text-xl"},V={class:"font-mono text-sm"},j=["href"],q={class:"p-0"},D={class:"p-0"},T={class:"p-0"},E={key:0,class:"flex gap-2 mt-2"},z={__name:"FileInfo",props:{file:{type:Object,required:!0},default:()=>({})},setup(o){const k=o,i=g(()=>{var e,n,s,r;if(!((n=(e=k.file)==null?void 0:e.info)!=null&&n.infoHash))return"";let m=new URL((s=window==null?void 0:window.location)==null?void 0:s.href);return m.hash="",`${m.href}#/files/${(r=k.file)==null?void 0:r.info.infoHash}`}),c=y({source:i}),{share:x,isSupported:h}=C(),p=w(!1),v=w(!1);return(m,e)=>{var n;return o.file?(t(),u("div",N,[l("div",Q,[l("div",U,f(o.file.info.name),1),l("div",V,f(o.file.info.infoHash),1),l("a",{class:"gap-2 button underline font-bold -all",href:i.value,target:"_blank"},e[4]||(e[4]=[l("div",{class:"i-la-link"},null,-1),l("div",{class:"p-0"},"Download URL",-1)]),8,j),a(c).isSupported.value?(t(),u("button",{key:0,class:"p-2 button gap-2",onClick:e[0]||(e[0]=s=>a(c).copy())},[e[5]||(e[5]=l("div",{class:"i-la-copy"},null,-1)),l("div",q,f((n=a(c))!=null&&n.copied.value?"Copied!":"Copy"),1)])):d("",!0),a(h)?(t(),u("button",{key:1,class:"p-2 button gap-2",onClick:e[1]||(e[1]=s=>{var r;return a(x)({title:(r=o.file.info)==null?void 0:r.name,url:i.value})})},e[6]||(e[6]=[l("div",{class:"i-la-share"},null,-1),l("div",{class:"p-0"}," Share",-1)]))):d("",!0),l("button",{class:"button p-2 gap-2",onClick:e[2]||(e[2]=s=>p.value=!p.value)},[e[7]||(e[7]=l("div",{class:"i-la-qrcode"},null,-1)),l("div",D,f(p.value?"Hide":"Show")+" QR ",1)]),l("button",{class:"button p-2 gap-2",onClick:e[3]||(e[3]=s=>v.value=!v.value)},[e[8]||(e[8]=l("div",{class:"i-la-file"},null,-1)),l("div",T,f(v.value?"Hide":"Show")+" file",1)])]),S($,{name:"fade"},{default:H(()=>[i.value&&p.value?(t(),b(a(R),{key:0,data:i.value},null,8,["data"])):d("",!0)]),_:1}),v.value?(t(),u("div",E,[(t(!0),u(B,null,F(o.file.torrent.files,s=>(t(),b(a(L),{class:"flex-auto max-w-70 break-all",key:s.name,file:s},null,8,["file"]))),128))])):d("",!0)])):d("",!0)}}};export{z as default};
