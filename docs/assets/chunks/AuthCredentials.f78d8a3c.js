import{d as S,f as m,x as k,e as s,o,c as a,L as v,E as e,t as g,N as $,n as P,I as c,H as x,T as N,G as B,ay as T,r as q}from"./framework.29bd70f6.js";import{a as E,D as j,E as A,F as V,H as z}from"./components.fd82ec8a.js";import"../app.ec2fd68a.js";import{A as D,B as F}from"./theme.4cee43e1.js";const G={key:0,class:"flex flex-col items-stretch pb-4 border-1 border-dark-100 border-opacity-10 max-w-120 mx-auto dark-bg-dark-200"},H=e("div",{class:"mt-4 mx-6"},"Please make sure to safely store your cryptographic keypair to be able to use it again later",-1),J={key:0,class:"flex p-4 items-center bg-dark-100 bg-opacity-20 mt-2 shadow-inset"},L={key:0,class:"i-la-lock"},O={key:1,class:"i-la-unlock"},Q={class:"text-sm"},I=e("div",{class:"text-m"},"Key Pair",-1),K={class:"flex flex-wrap"},R=e("div",{class:"i-la-share"},null,-1),U=e("div",{class:"px-1"},"Share",-1),Y=[R,U],M=e("div",{class:"i-la-copy"},null,-1),W={key:0,class:"px-2"},X={key:1,class:"px-2"},Z=["href"],ee=e("div",{class:"i-la-link"},null,-1),se=e("div",{class:"px-2"},"Link",-1),te=[ee,se],oe=e("div",{class:"i-la-qrcode"},null,-1),ae=e("div",{class:"px-2"},"QR",-1),le=[oe,ae],ne=e("div",{class:"i-la-envelope-open-text"},null,-1),ie=e("div",{class:"px-2"},"Text",-1),re=[ne,ie],ce=e("div",{class:"i-la-file-code"},null,-1),de=e("div",{class:"px-2"},"JSON",-1),ue=[ce,de],_e={key:1,class:"flex w-full justify-center mt-4"},pe=["value"],be=S({__name:"AuthCredentials",emits:["close"],setup(ve,{emit:me}){const l=m("pass"),{user:_}=E();function p(r){l.value!=r?l.value=r:l.value=null}const{pass:i}=j(),{text:ke,copy:f,copied:h,isSupported:y}=D(),{share:b,isSupported:C}=F(),n=m(!0),u=k(()=>{var r;return n.value?(r=i==null?void 0:i.safe)==null?void 0:r.enc:JSON.stringify(_.pair())}),w=k(()=>n.value?i.links.pass:i.links.pair);return(r,t)=>s(_).is?(o(),a("div",G,[H,v(s(A)),s(u)?(o(),a("div",J,[e("div",{class:"flex flex-col w-34 items-center",style:$({color:n.value?"green":"red"})},[e("button",{class:"m-2 button text-2xl",onClick:t[0]||(t[0]=d=>n.value=!n.value)},[n.value?(o(),a("div",L)):(o(),a("div",O))]),e("div",Q,g(n.value?"Encrypted":"Plain Text"),1),I],4),e("div",K,[s(C)?(o(),a("button",{key:0,class:P(["m-2 button items-center",{active:l.value=="pass"}]),onClick:t[1]||(t[1]=d=>s(b)({title:"Your key pair",text:s(u)}))},Y,2)):c("",!0),s(y)?(o(),a("button",{key:1,class:"m-2 button items-center",onClick:t[2]||(t[2]=d=>s(f)(s(u)))},[M,v(N,{name:"fade"},{default:x(()=>[s(h)?(o(),a("div",W,"Copied!")):(o(),a("div",X,"Copy"))]),_:1})])):c("",!0),e("a",{class:"m-2 button items-center",href:s(w),target:"_blank",onClick:t[3]||(t[3]=d=>p("links"))},te,8,Z),e("button",{class:"m-2 button items-center",onClick:t[4]||(t[4]=d=>p("qr"))},le),e("button",{class:"m-2 button items-center",onClick:t[5]||(t[5]=d=>p("key"))},re),e("button",{class:"m-2 button items-center",onClick:t[6]||(t[6]=d=>{s(V)(s(u),"text/json",(s(_).name||"account")+".json",!1),l.value=null})},ue)])])):c("",!0),l.value?(o(),a("div",_e,[v(T,{name:"fade"},{default:x(()=>[l.value=="key"?(o(),a("textarea",{class:"p-4 text-sm flex-1 rounded-xl",key:"text",rows:"9",value:s(u)},null,8,pe)):c("",!0),l.value=="qr"?(o(),B(s(z),{class:"max-w-600px",key:"qr",data:n.value?s(i).links.pass:s(i).links.pair},null,8,["data"])):c("",!0)]),_:1})])):c("",!0),q(r.$slots,"default")])):c("",!0)}});export{be as default};
