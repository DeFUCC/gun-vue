import{h as p,s as B,k as t,o as l,c as a,j as e,P as f,t as c,I as x,w as _,r as G,e as i,F as y,a1 as m}from"./framework.HF1qYBJ2.js";import{a as D,o as O,h as P,a9 as b,m as k,j as R}from"./components.BVdgfkYk.js";import{u as N,g as v}from"./useGift.BtQpqeQj.js";import{u as T}from"./useProject.CooSE-x8.js";import"./theme.BDQwQt02.js";import"./composables.CvVsGCJ4.js";const V={class:"flex flex-wrap gap-2 items-center px-2"},q={class:"flex-0 flex flex-wrap px-2 gap-2"},A={class:"flex flex-col"},E={class:"text-xl font-bold"},F={class:"flex flex-col"},L={class:"text-lg font-bold"},M={class:"flex items-center gap-2 flex-0"},z={class:"flex flex-col gap-2 text-xs"},I=e("div",{class:"i-la-arrow-right m-2"},null,-1),J={class:"flex flex-col gap-2 text-xs"},U={class:"flex gap-2 flex-wrap"},H={key:0,class:"flex flex-col gap-1"},K=e("div",{class:"text-xs"},"ROOM ",-1),Q={class:"p-0"},W={key:1,class:"flex flex-col gap-1"},X={class:"text-xs"},Y={class:"p-0"},Z={key:2,class:"flex flex-col gap-1"},tt=e("div",{class:"text-xs"},"PROJECT",-1),et={class:"flex flex-1 gap-2 p-2 items-center flex-wrap leading-tight text-xs",style:{flex:"1 1 20%"}},st={class:"flex gap-2"},dt={__name:"GiftCard",props:{hash:{type:String,default:""}},emits:["project"],setup(r,{emit:ot}){const w=r,{user:h}=D(),C=O(),{gift:s,state:n}=N(w.hash),j=p(()=>new Date(s.date).toLocaleTimeString("en-GB")),S=p(()=>new Date(s.date).toLocaleDateString("en-GB")),$=p(()=>{const u=B();return P().user(s.room).get("profile").get("name").on(d=>u.value=d),u.value}),{project:g}=T(p(()=>s.project));return(u,o)=>Object.keys(t(s)).length>0?(l(),a("div",{key:0,class:"flex p-0 rounded-xl shadow-lg border-2 relative overflow-hidden",style:f({opacity:t(n).complete?1:.5})},[e("div",{class:"w-3 min-w-3 h-full flex-0",style:f({backgroundColor:t(C).hex(r.hash)})},null,4),e("div",V,[e("div",q,[e("div",A,[e("div",E,c(t(s).qn),1)]),e("div",F,[e("div",L,c(t(s).ql),1)])]),e("div",M,[e("div",z,[x(t(k),{pub:t(s).from,style:f({opacity:t(n).from?1:.4})},{default:_(()=>[x(t(b),{class:"mr-2",state:t(n).from},null,8,["state"])]),_:1},8,["pub","style"])]),I,e("div",J,[x(t(k),{pub:t(s).to,style:f({opacity:t(n).to?1:.4})},{default:_(()=>[x(t(b),{class:"mr-2",state:t(n).to},null,8,["state"])]),_:1},8,["pub","style"])])]),G(u.$slots,"default"),e("div",U,[t(s).room!=t(R).pub?(l(),a("div",H,[K,e("div",Q,c($.value),1)])):i("",!0),t(s).date?(l(),a("div",W,[e("div",X,c(S.value),1),e("div",Y,c(j.value),1)])):i("",!0),t(s).project?(l(),a("div",Z,[tt,e("div",{class:"py-1 px-2 rounded-lg text-sm",style:f({backgroundColor:t(g).color}),onClick:o[0]||(o[0]=d=>u.$emit("project",t(s).project))},c(t(g).title),5)])):i("",!0),e("div",et,c(t(s).wish),1)]),e("div",st,[t(s).from==t(h).pub?(l(),a(y,{key:0},[t(n).from?(l(),a("button",{key:1,class:"button",onClick:o[2]||(o[2]=m(d=>t(v)(r.hash,!1),["stop","prevent"]))},"Cancel")):(l(),a("button",{key:0,class:"button",onClick:o[1]||(o[1]=m(d=>t(v)(r.hash,!0),["stop","prevent"]))},"Propose"))],64)):i("",!0),t(s).to==t(h).pub?(l(),a(y,{key:1},[t(n).to?i("",!0):(l(),a("button",{key:0,class:"button",onClick:o[3]||(o[3]=m(d=>t(v)(r.hash,!0),["stop","prevent"]))},"Accept")),t(n).to?(l(),a("button",{key:1,class:"button",onClick:o[4]||(o[4]=m(d=>t(v)(r.hash,!1),["stop","prevent"]))},"Reject")):i("",!0)],64)):i("",!0)])])],4)):i("",!0)}};export{dt as default};
