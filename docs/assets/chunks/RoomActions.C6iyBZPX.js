import{b9 as R,j as m,a as w,aY as x,ba as C,I as $}from"./components.vhzIzXJf.js";import{h as g,o as e,c as n,k as o,e as _,j as t}from"./framework.2DHwbLKR.js";import"./theme.CJUnx4L9.js";const j=R.room,B={class:"flex flex-wrap items-center gap-2"},N=t("div",{class:"i-la-tools"},null,-1),E=t("div",{class:"ml-2"},"Renew",-1),S=[N,E],V=t("div",{class:"i-la-download"},null,-1),A=t("div",{class:"ml-2"},"Keys",-1),F=[V,A],I={key:2,class:"flex flex-wrap py-4"},J=t("div",{class:"i-ion-enter-outline"},null,-1),K=t("div",{class:"ml-2"},"Enter",-1),L=[J,K],O=t("div",{class:"i-ion-exit-outline"},null,-1),P=t("div",{class:"ml-2"},"Leave",-1),U=[O,P],D={__name:"RoomActions",props:{pub:{type:String,default:m.pub}},setup(f){const r=f,{user:l}=w(),{room:i,leaveRoom:h,enterRoom:k}=x(r.pub),d=g(()=>r.pub?r.pub:m.pub);async function y(b){var a;const s=await l.decrypt(b);$(JSON.stringify(s),"application/json",`room-${(a=i.profile)==null?void 0:a.name}.json`)}return(b,s)=>{var a,v;return e(),n("div",B,[(a=o(i).hosts)!=null&&a[o(l).pub]?(e(),n("button",{key:0,class:"button",onClick:s[0]||(s[0]=p=>{var u,c;return o(C)((c=(u=o(i).hosts)==null?void 0:u[o(l).pub])==null?void 0:c.enc)})},S)):_("",!0),(v=o(i).hosts)!=null&&v[o(l).pub]?(e(),n("button",{key:1,class:"button",onClick:s[1]||(s[1]=p=>{var u,c;return y((c=(u=o(i).hosts)==null?void 0:u[o(l).pub])==null?void 0:c.enc)})},F)):_("",!0),d.value!=o(j).pub?(e(),n("div",I,[o(m).pub!==d.value?(e(),n("button",{key:0,class:"button",onClick:s[2]||(s[2]=p=>o(k)(d.value))},L)):(e(),n("button",{key:1,class:"button",onClick:s[3]||(s[3]=p=>o(h)())},U))])):_("",!0)])}}};export{D as default};
