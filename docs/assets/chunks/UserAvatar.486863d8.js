import{d as f,f as m,o,c as r,L as p,e as n,H as b,E as g,a5 as x}from"./framework.e76a7413.js";import{a as A,n as _,A as y,aA as h,a8 as k}from"./components.ff545abb.js";import"../app.1dbdb34a.js";import"./theme.7b41b406.js";const z={class:"flex flex-col relative items-center justify-center"},N={class:"text-2xl"},w={key:0,class:"i-la-camera"},V=f({__name:"UserAvatar",props:{size:{type:Number,default:120},pic:{type:Number,default:200}},setup(i){const v=i,{user:a}=A(),l=_(),s=m(null);a.db.get("avatar").on(t=>{t?l.get("#avatars").get(t).once(e=>{s.value=e}):s.value=null});async function d(t){if(t){const e=await k(t);l.get("#avatars").get(e).put(t),a.db.get("avatar").put(e)}else u()}function u(){a.db.get("avatar").put(null)}return(t,e)=>(o(),r("div",z,[p(n(y),{pub:n(a).pub,size:i.size},null,8,["pub","size"]),p(n(h),{class:"absolute",options:{picSize:v.pic,preserveRatio:!1},onUpdate:e[1]||(e[1]=c=>d(c))},{default:b(()=>[g("div",N,[s.value?(o(),r("div",{key:1,class:"i-la-trash-alt",onClick:e[0]||(e[0]=x(c=>u(),["stop","prevent"]))})):(o(),r("div",w))])]),_:1},8,["options"])]))}});export{V as default};
