import{h as et,O as mt,am as gt,j as st,z as vt,l as o,d as yt,x as bt,at as wt,aR as St,ao as _t,C as xt,o as v,c as w,N as Tt,e as Dt,H as Y,k as m,t as It,F as G,D as U,n as kt,b as K,L as Et,w as Ct}from"./framework.72a11bd5.js";import{a as Ot,m as Pt,bs as Mt,b4 as Nt,bt as At,o as T,bu as Lt,bv as $t,U as zt,bw as Gt,V as Ut}from"./components.ede6c998.js";import"../app.6f46eec2.js";import"./theme.091da883.js";function Kt(){try{return"constructor"in GestureEvent}catch{return!1}}function nt(){return typeof window<"u"&&"ontouchstart"in window}function rt(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function it(e){return Array.from(rt(e)).map(t=>t.identifier)}function F(e){const t="buttons"in e?e.buttons:0,{shiftKey:s,altKey:n,metaKey:r,ctrlKey:i}=e;return{buttons:t,shiftKey:s,altKey:n,metaKey:r,ctrlKey:i}}const Bt=e=>e;function H(e,t=Bt){const s=rt(e),{clientX:n,clientY:r}=s?s[0]:e;return t([n,r])}function ot(){}function at(...e){return e.length===0?ot:e.length===1?e[0]:function(){var t;for(let s of e)t=s.apply(this,arguments)||t;return t}}function S(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function X(e,...t){return typeof e=="function"?e(...t):e}function O(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:ot,canceled:!1,memo:void 0,args:void 0,...e}}function lt(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=O({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),s=O({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),n=O({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=O({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=O({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:s,wheel:n,move:r,scroll:i}}class jt{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=nt(),this.supportsGestureEvents=Kt(),this.bind=(...s)=>{const n={};for(let r of this.classes)new r(this,s).addBindings(n);for(let r in this.nativeRefs)y(n,r,i=>this.nativeRefs[r]({...this.state.shared,event:i,args:s}));return this.config.domTarget?Ht(this,n):Xt(this,n)},this.clean=()=>{const{eventOptions:s,domTarget:n}=this.config,r=o(n);r&&P(r,ct(this.domListeners),s),Object.values(this.timeouts).forEach(clearTimeout),Wt(this)},this.classes=t,this.state=lt(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Rt(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(it(t))}function Vt(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):it(t).forEach(s=>e.touchIds.delete(s))}function Wt(e){const{config:{window:t,eventOptions:s},windowListeners:n}=e,r=o(t);if(r){for(let i in n){const a=n[i];P(r,a,s)}e.windowListeners={}}}function Yt({config:e,windowListeners:t},s,n=e.eventOptions){const r=o(e.window);r&&(P(r,t[s],n),delete t[s])}function Ft({config:e,windowListeners:t},s,n=[],r=e.eventOptions){const i=o(e.window);i&&(P(i,t[s],r),ut(i,t[s]=n,r))}function Ht({config:e,domListeners:t},s){const{eventOptions:n,domTarget:r}=e,i=o(r);if(!i)throw new Error("domTarget must be defined");P(i,ct(t),n);for(let[a,l]of Object.entries(s)){const h=a.slice(2).toLowerCase();t.push([h,at(...l)])}ut(i,t,n)}function Xt({config:e},t){const s={},n=e.eventOptions.capture?"Capture":"";for(let[r,i]of Object.entries(t)){const a=Array.isArray(i)?i:[i],l=r+n;s[l]=at(...a)}return s}function ct(e=[]){return e.splice(0,e.length)}function y(e,t,s){e[t]||(e[t]=[]),e[t].push(s)}function ut(e,t=[],s={}){if(e)for(let[n,r]of t)e.addEventListener(n,r,s)}function P(e,t=[],s={}){if(e)for(let[n,r]of t)e.removeEventListener(n,r,s)}function j(e,t){return e.map((s,n)=>s+t[n])}function ft(e,t){return e.map((s,n)=>s-t[n])}function R(e){return Math.hypot(...e)}function qt(e,t,s){const n=R(t),r=n===0?0:1/n,i=s===0?0:1/s,a=i*n,l=t.map(c=>i*c),h=t.map(c=>r*c),f=R(e);return{velocities:l,velocity:a,distance:f,direction:h}}function V(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function Jt(e,t,s){return Math.max(t,Math.min(e,s))}function Qt(e,t){return Math.pow(e,t*5)}function q(e,t,s){return t===0||Math.abs(t)===1/0?Qt(e,s):e*t*s/(t+s*e)}function J(e,t,s,n=.15){return n===0?Jt(e,t,s):e<t?-q(t-e,s-t,n)+t:e>s?+q(e-s,s-t,n)+s:e}const D=new Map,Zt=e=>e;class te{constructor(t,s=[]){this.controller=t,this.args=s,this.debounced=!0,this.setTimeout=(n,r=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(n,r,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(n=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!n&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const h=this.state.active,f=this.state._active;this.state.active=f,this.state.first=f&&!h,this.state.last=h&&!f,this.controller.state.shared[this.ingKey]=f}const r=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||r>0,a={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:r,down:i},l=this.handler(a);return this.state.memo=l!==void 0?l:this.state.memo,a},this.controller=t,this.args=s}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Zt}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,s){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:s,threshold:n}=this.config,{_bounds:r,_initial:i,_active:a,_intentional:l,lastOffset:h,movement:f}=this.state,c=this.getInternalMovement(t,this.state),_=this.transform(n).map(Math.abs),I=l[0]===!1?Q(c[0],_[0]):l[0],k=l[1]===!1?Q(c[1],_[1]):l[1],b=this.checkIntentionality([I,k],c);if(b._blocked)return{...b,_movement:c,delta:[0,0]};const g=b._intentional,L=c;let x=[g[0]!==!1?c[0]-g[0]:0,g[1]!==!1?c[1]-g[1]:0];const E=j(x,h),C=a?s:[0,0];return x=Z(r,j(x,i),C),{...b,intentional:g[0]!==!1||g[1]!==!1,_initial:i,_movement:L,movement:x,values:t,offset:Z(r,E,C),delta:ft(x,f)}}clean(){this.clearTimeout()}}function Q(e,t){return Math.abs(e)>=t?V(e)*t:!1}function Z(e,[t,s],[n,r]){const[[i,a],[l,h]]=e;return[J(t,i,a,n),J(s,l,h,r)]}function B({state:e},t,s){const{timeStamp:n,type:r}=t,i=e.values,a=s?0:n-e.startTime;return{_lastEventType:r,event:t,timeStamp:n,elapsedTime:a,previous:i}}function ee({state:e,config:t,stateKey:s,args:n},r,i){const a=e.offset,l=i.timeStamp,{initial:h,bounds:f}=t,c={...lt()[s],_active:!0,args:n,values:r,initial:r,offset:a,lastOffset:a,startTime:l};return{...c,_initial:X(h,c),_bounds:X(f,c)}}class se extends te{getInternalMovement(t,s){return ft(t,s.initial)}checkIntentionality(t,s){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[n,r]=s.map(Math.abs),i=this.state.axis||(n>r?"x":n<r?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,s){const n=this.getMovement(t);if(!n._blocked){const r=s.timeStamp-this.state.timeStamp;Object.assign(n,qt(n.movement,n.delta,r))}return n}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const ne=3;function tt(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class re extends se{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:s,pointerId:n}=t;s&&"setPointerCapture"in s&&s.setPointerCapture(n),this.updateGestureState({_dragTarget:s,_dragPointerId:n})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:s}=this.state;if(s&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(s)))try{t.releasePointerCapture(s)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{tt(t),Ft(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,tt(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const s=H(t,this.transform);this.updateSharedState(F(t)),this.updateGestureState({...ee(this,s,t),...B(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(s))},this.onDragStart=t=>{Rt(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let s;if(document.pointerLockElement){const{movementX:h,movementY:f}=t;s=j(this.transform([h,f]),this.state.values)}else s=H(t,this.transform);const n=this.getKinematics(s,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&n.axis)if(n.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const r=F(t);this.updateSharedState(r);const i=B(this,t),a=R(n._movement);let{_dragIsTap:l}=this.state;l&&a>=ne&&(l=!1),this.updateGestureState({...i,...n,_dragIsTap:l}),this.fireGestureHandler()},this.onDragEnd=t=>{if(Vt(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const s=this.state._dragIsTap,[n,r]=this.state.velocities,[i,a]=this.state.movement,[l,h]=this.state._intentional,[f,c]=this.config.swipeVelocity,[_,I]=this.config.swipeDistance,k=this.config.swipeDuration,b={...B(this,t),...this.getMovement(this.state.values)},g=[0,0];b.elapsedTime<k&&(l!==!1&&Math.abs(n)>f&&Math.abs(i)>_&&(g[0]=V(n)),h!==!1&&Math.abs(r)>c&&Math.abs(a)>I&&(g[1]=V(r))),this.updateSharedState({buttons:0}),this.updateGestureState({...b,tap:s,swipe:g}),this.fireGestureHandler(this.config.filterTaps&&s===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),Yt(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),mt(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,s=!1){!this.state._active||this.state._dragStarted||(s||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(y(t,"onTouchStart",this.onDragStart),y(t,"onTouchMove",this.onDragChange),y(t,"onTouchEnd",this.onDragEnd),y(t,"onTouchCancel",this.onDragEnd)):(y(t,"onPointerDown",this.onDragStart),y(t,"onPointerMove",this.onDragChange),y(t,"onPointerUp",this.onDragEnd),y(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const s=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";y(t,s,this.onClick)}}}function ie(e,t){let s,n=[],r,i=!1;function a(...l){return i&&s===this&&t(l,n)||(r=e.apply(this,l),i=!0,s=this,n=l),r}return a}function A(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let s,n,r;if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!A(e[n],t[n]))return!1;return!0}let i;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!A(n.value[1],t.get(n.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),s=r.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(n=s;n--!==0;)if(!(r[n]==="_owner"&&e.$$typeof)&&!A(e[r[n]],t[r[n]]))return!1;return!0}return e!==e&&t!==t}function oe(e,t){try{return A(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}}function W(e={},t){const s={};for(const[n,r]of Object.entries(t))switch(typeof r){case"function":s[n]=r.call(s,e[n],n,e);break;case"object":s[n]=W(e[n],r);break;case"boolean":r&&(s[n]=e[n]);break}return s}const ae=180,le=.15,ce=.5,ue=50,fe=250,de={threshold(e=0){return S(e)},rubberband(e=0){switch(e){case!0:return S(le);case!1:return S(0);default:return S(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:S(e)},transform:!0},dt={...de,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>dt.bounds(e(i));const{left:t=-1/0,right:s=1/0,top:n=-1/0,bottom:r=1/0}=e;return[[t,s],[n,r]]}},he=typeof window<"u"&&window.document&&window.document.createElement,pe={enabled(e=!0){return e},domTarget:!0,window(e=he?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},me={...dt,useTouch(e=!0){return e&&nt()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:s=!1,lockDirection:n=!1,axis:r=void 0}){const i=S(e,s?3:n||r?1:0);return this.filterTaps=s,i},swipeVelocity(e=ce){return S(e)},swipeDistance(e=ue){return S(e)},swipeDuration(e=fe){return e},delay(e=0){switch(e){case!0:return ae;case!1:return 0;default:return e}}};function ge(e){return W(e,pe)}function ve(e={}){return W(e,me)}function ye({domTarget:e,eventOptions:t,window:s,enabled:n,...r}){const i=ge({domTarget:e,eventOptions:t,window:s,enabled:n});return i.drag=ve(r),i}function be(e,t,s={}){const n=we(e),r=new jt(n);return r.config=t,r.handlers=e,r.nativeRefs=s,gt()&&!t.manual&&(st(r.bind),vt(r.clean)),r}function we(e){const t=new Set;return e.drag&&t.add(D.get("drag")),e.wheel&&t.add(D.get("wheel")),e.scroll&&t.add(D.get("scroll")),e.move&&t.add(D.get("move")),e.pinch&&t.add(D.get("pinch")),e.hover&&t.add(D.get("hover")),t}function Se(e,t={}){D.set("drag",re);const s=et();return s.value||(s.value=ie(ye,oe)),be({drag:e},s.value(t))}const _e={class:"flex flex-col items-center"},xe=["viewBox"],Te=m("defs",null,[m("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[m("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})]),m("clipPath",{id:"mask",clipPathUnits:"objectBoundingBox"},[m("circle",{r:".5",cx:".5",cy:".5"})])],-1),De=["transform"],Ie=["innerHTML"],ke=["x","y","viewBox"],Ee=["x","y","width","height"],Ce={class:"link"},Oe=["x1","x2","y1","y2","stroke"],Pe=["transform"],Me={class:"mouse"},Ne=["fill"],Ae={class:"arrows"},Le={class:"guests"},Ke=yt({__name:"SpacePlane",props:{pad:{type:Number,default:50},coord:{type:String,default:""}},emits:["user","enter","leave","chat","post","update:coord"],setup(e,{emit:t}){const s=t,{user:n}=Ot();Pt("deep");const{space:r,plane:i,pos:a,zoom:l,links:h,width:f,height:c,guests:_,guestCount:I,area:k,join:b,place:g,setStatus:L}=Mt({TIMEOUT:1e4});bt(I,(p,d)=>{p>d?s("enter"):s("leave")});const x=Nt(p=>{g({x:p[0],y:p[1]}),s("update:coord",`${p[0]},${p[1]}`)},200);Se(p=>{if(!(p.delta[0]&&p.delta[1])||$.ing)return;const[d,z]=p.delta;a[0]-=d,a[1]-=z,x(a)},{domTarget:i});const E=et(),{drauu:C,draw:$,loadCanvas:ht}=At();return st(()=>{C.mount(E.value,E.value.parentElement),ht()}),wt(()=>{console.log("activated")}),St(()=>{console.log("deactivated")}),_t(()=>{C.unmount()}),(p,d)=>{const z=xt("space-draw");return v(),w("div",_e,[!o(r).joined&&o(n).is?(v(),w("div",{key:0,class:"text-2xl p-8 top-15vh cursor-pointer absolute rounded-3xl shadow-xl border-4",style:Tt({borderColor:o(n).color}),onClick:d[0]||(d[0]=u=>{o(b)()})},"Click anywhere to join the space",4)):Dt("",!0),Y(z,{class:"z-500"}),(v(),w("svg",{class:"h-full w-full z-200 bg-dark-100 bg-opacity-5 touch-none cursor-grab active-cursor-grabbing",ref_key:"plane",ref:i,xmlns:"http://www.w3.org/2000/svg",version:"1.1",baseProfile:"full","font-family":"Commissioner , sans-serif","text-anchor":"middle","dominant-baseline":"middle",viewBox:`${-e.pad+o(a)[0]-Number(o(f))/2} ${-e.pad+o(a)[1]-Number(o(c))/2} ${Number(o(f))*Number(o(l))+2*e.pad} ${Number(o(c))*Number(o(l))+2*e.pad}`,onClick:d[3]||(d[3]=u=>{o(n).is||(o(n).auth=!0)})},[Te,m("text",{class:"text-xs","text-anchor":"end",fill:"currentColor",transform:`translate(${o(a)[0]+Number(o(f))/2-10} ${o(a)[1]-Number(o(c))/2+20})`},It(o(a)),9,De),(v(!0),w(G,null,U(o(_),u=>(v(),w("g",{class:"opacity-90",key:u.draw,innerHTML:u.draw},null,8,Ie))),128)),(v(),w("svg",{class:kt(["opacity-70",{"pointer-events-none":!o($).enabled,"touch-none":o($).enabled}]),ref_key:"paper",ref:E,x:o(a)[0]-Number(o(f))/2-e.pad,y:o(a)[1]-Number(o(c))/2-e.pad,viewBox:`${-e.pad+o(a)[0]-Number(o(f))/2} ${-e.pad+o(a)[1]-Number(o(c))/2} ${Number(o(f))+2*e.pad} ${Number(o(c))+2*e.pad}`},null,10,ke)),m("rect",{ref_key:"area",ref:k,x:o(a)[0]-Number(o(f))/2,y:o(a)[1]-Number(o(c))/2,rx:"12",width:Number(o(f)),height:Number(o(c)),fill:"none",stroke:"#3333","stroke-width":"1"},null,8,Ee),m("g",Ce,[m("line",{x1:o(a)[0],x2:o(r).my.mouse.x,y1:o(a)[1],y2:o(r).my.mouse.y,stroke:o(n).color,"stroke-dasharray":"6"},null,8,Oe)]),m("g",{class:"pointer",transform:`translate(${o(a)[0]} ${o(a)[1]})`},[m("g",Me,[m("circle",{style:{filter:"url(#shadowButton)"},fill:o(n).color,r:"8"},null,8,Ne)])],8,Pe),m("g",Ae,[(v(!0),w(G,null,U(o(h),(u,M)=>(v(),K(o(Lt),{key:M,link:u,onUser:d[1]||(d[1]=N=>o(T).pub=N)},null,8,["link"]))),128))]),m("g",Le,[(v(!0),w(G,null,U(o(_),u=>{var M,N;return v(),K(o($t),Et({class:"cursor-pointer transition-all ease-out duration-600",key:u==null?void 0:u.pub},u,{style:{transform:`translate(${(M=u==null?void 0:u.pos)==null?void 0:M.x}px, ${(N=u==null?void 0:u.pos)==null?void 0:N.y}px)`},onUpdateStatus:d[2]||(d[2]=pt=>o(L)(pt))}),null,16,["style"])}),128))])],8,xe)),Y(o(Ut),{class:"z-4000",open:!!o(T).pub,onClose:d[8]||(d[8]=u=>o(T).pub=null)},{default:Ct(()=>[(v(),K(o(zt),{class:"max-w-600px",key:o(T).pub,pub:o(T).pub,onUser:d[4]||(d[4]=u=>p.$emit("user",u)),onPost:d[5]||(d[5]=u=>p.$emit("post",String(o(Gt)(u)))),onChat:d[6]||(d[6]=u=>p.$emit("chat",o(T).pub)),onClose:d[7]||(d[7]=u=>o(T).pub=null)},null,8,["pub"]))]),_:1},8,["open"])])}}});export{Ke as default};
