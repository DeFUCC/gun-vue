import{ba as B,a as C,L as p,b3 as F,I as L,n as $,b as N,bb as S,a_ as T,l as U,bc as z,bd as H,aF as M}from"./components.fd82ec8a.js";import"../app.ec2fd68a.js";import{x as k,b as P,o as r,c as i,E as s,L as c,e,t as V,F as h,U as _,N as A,r as E,G as y,I}from"./framework.29bd70f6.js";import"./theme.4cee43e1.js";const j={class:"flex flex-col items-stretch"},D={class:"max-w-full flex flex-col items-stretche bg-light-100 bg-opacity-20 dark-bg-dark-800 dark-bg-opacity-40 p-4 md-p-12 shadow-xl backdrop-blur-md backdrop-filter rounded-t-xl"},G={class:"flex flex-wrap items-center gap-8"},O={class:"flex flex-col flex-auto",style:{flex:"100"}},q={class:"text-md"},J={class:"flex items-center flex-wrap"},K=s("div",{class:"font-bold mr-2"},"Hosts: ",-1),Q={class:"flex flex-col items-center bg-light-300 dark-bg-dark-400"},W={class:"flex flex-wrap items-center gap-2 p-4"},X={class:"relative"},Y={key:0,class:"flex items-center"},Z=["innerHTML"],ee=s("div",{class:"i-la-pen"},null,-1),te=[ee],de={__name:"RoomPage",props:{pub:{type:String,default:""},titles:{type:Object,default:()=>B}},emits:["rooms","browse"],setup(u){const m=u,{user:b}=C(),d=k(()=>m.pub?m.pub:p.pub),{room:o,leaveRoom:se,updateRoomProfile:f,enterRoom:oe}=F(d.value),w=L(),n=P({name:!1,description:!1,text:!1});$("deep");const R=k(()=>N({pub:d.value,size:1200,attachment:"local"}));return(x,l)=>{var v,g;return r(),i("div",j,[s("div",{class:"pt-32 px-2 md-px-8 bg-cover relative flex flex-col items-center",style:A({...e(R)})},[s("div",D,[s("div",G,[c(e(S),{class:"flex-1 rounded-2xl overflow-hidden min-w-20",pub:u.pub},null,8,["pub"]),s("div",O,[c(e(T),{class:"font-bold text-2xl",text:e(o).profile.name||e(d).substring(0,12),editable:e(o).hosts[e(b).pub]&&e(d)==e(p).pub&&!n.name,onUpdate:l[0]||(l[0]=a=>e(f)("name",a))},null,8,["text","editable"]),s("div",q,V(e(o).profile.description),1),s("div",J,[K,(r(!0),i(h,null,_(e(o).hosts,(a,t)=>(r(),i("div",{class:"p-2 flex flex-col items-start gap-2",key:t},[c(e(U),{pub:t,selectable:!0},null,8,["pub"])]))),128))]),c(e(z),{pub:e(d)},null,8,["pub"])])])])],4),E(x.$slots,"default"),s("div",Q,[s("div",W,[(r(!0),i(h,null,_(u.titles,(a,t)=>(r(),y(e(H),{key:t,cert:e(o).features[t],type:t,title:a,pub:u.pub||e(p).pub,open:e(o).features[t]||t=="users"&&e(o).features.space||t=="chat"&&e(o).features.chat,onClick:le=>x.$emit("browse",t)},null,8,["cert","type","title","pub","open","onClick"]))),128))]),s("div",X,[n.text===!1?(r(),i("div",Y,[s("div",{class:"p-8 markdown-body prose",innerHTML:e(w).render(((v=e(o).profile)==null?void 0:v.text)||"")},null,8,Z),(g=e(o).hosts)!=null&&g[e(b).pub]?(r(),i("button",{key:0,class:"button absolute top-4 right-4 z-200",onClick:l[1]||(l[1]=a=>{var t;return n.text=((t=e(o).profile)==null?void 0:t.text)||""})},te)):I("",!0)])):(r(),y(e(M),{key:1,text:n.text,"onUpdate:text":l[2]||(l[2]=a=>n.text=a),onClose:l[3]||(l[3]=a=>{e(f)("text",n.text),n.text=!1})},null,8,["text"]))])])])}}};export{de as default};
