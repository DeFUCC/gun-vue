import{x as T,f as x,w as V,o,c as s,E as r,e,I as m,G as C,L as f,N as I,as as c,at as b,aD as M,F as N,U as P,t as y}from"./framework.29bd70f6.js";import{a as $,I as j,af as B,aZ as D,aC as L,a_ as S,a$ as E,b0 as z}from"./components.18f911a0.js";import"../app.a726b562.js";import"./theme.ee8de9e6.js";const G={class:"flex flex-col"},H=["value"],Z={class:"flex flex-col gap-2 m-2 bg-light-200 dark-bg-dark-400 p-2 rounded-xl shadow relative"},h=["innerHTML"],q={class:"p-2 flex flex-col gap2"},A=["value"],J={class:"p-2 break-all max-w-80vw overflow-scroll"},Y={__name:"ProjectPage",props:{path:{type:String,default:""}},emits:["gift","user"],setup(g,{emit:K}){const k=g,{user:w}=$(),U=j(),{project:l,updateField:i,updateCover:F}=B(k.path),n=T(()=>k.path.includes(w.pub)),p=x(!1),u=x(l.text);V(()=>l.text,v=>{u.value=v});const{newItem:d,add:O}=D();return(v,a)=>(o(),s("div",G,[r("div",{class:"p-2 relative",style:I({background:`url(${e(l).cover}) center`,backgroundColor:e(l).color,paddingTop:e(l).cover||e(l).color?"120px":""})},[e(n)?(o(),s("input",{key:0,class:"absolute top-4 right-4",type:"color",value:e(l).color,onInput:a[0]||(a[0]=t=>e(i)("color",t.target.value))},null,40,H)):m("",!0),e(n)?(o(),C(e(L),{key:1,onUpdate:a[1]||(a[1]=t=>e(F)(t))})):m("",!0),f(e(S),{text:e(l).title,editable:e(n),onUpdate:a[2]||(a[2]=t=>e(i)("title",t))},null,8,["text","editable"])],4),r("div",Z,[e(n)?(o(),s("div",{key:0,class:"i-la-pen cursor-pointer text-2xl absolute top-2 right-2 z-2",onClick:a[3]||(a[3]=t=>p.value=!p.value)})):m("",!0),!p.value||!e(n)?(o(),s("div",{key:1,class:"p-2 markdown-body text-base prose prose-truegray dark-bg-dark-400",innerHTML:e(U).render(u.value||"")},null,8,h)):c((o(),s("textarea",{key:2,class:"dark-bg-dark-400","onUpdate:modelValue":[a[4]||(a[4]=t=>u.value=t),a[5]||(a[5]=t=>e(i)("text",t))]},null,512)),[[b,u.value]])]),f(e(E),{path:g.path,enabled:e(l).funding,onEnable:a[6]||(a[6]=t=>e(i)("funding","true")),onGift:a[7]||(a[7]=t=>v.$emit("gift",t))},null,8,["path","enabled"]),r("div",q,[c(r("input",{class:"dark-bg-dark-400",type:"text","onUpdate:modelValue":a[8]||(a[8]=t=>e(d).title=t)},null,512),[[b,e(d).title]]),c(r("select",{class:"dark-bg-dark-400","onUpdate:modelValue":a[9]||(a[9]=t=>e(d).type=t)},[(o(!0),s(N,null,P(e(z),t=>(o(),s("option",{key:t.type,value:t.type},y(t.title),9,A))),128))],512),[[M,e(d).type]]),r("pre",J,y(e(d)),1)])]))}};export{Y as default};
