import{m,n as w,a as x,A as y,t as k,o as B}from"./components.de9791ff.js";import"../app.c42b6c21.js";import{d as N,h as f,F as z,v as A,o as l,c as r,Q as C,l as s,t as p,e as v,W as b,r as S,_ as D}from"./framework.1b08ecce.js";import"./theme.e88ecc74.js";const $=["title"],E={key:0,class:"mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap"},U=N({__name:"AccountBadge",props:{pub:{type:String,default:""},showName:{type:Boolean,default:!0},size:{type:Number,default:30},selectable:Boolean,vertical:Boolean},setup(e){const n=e,t=f(""),o=f(""),u=m("deep"),h=m("light"),c=w(),{user:i}=x();z(()=>{t.value="",o.value="",c.user(n.pub).get("profile").get("name").on(a=>{t.value=a}),c.user().get("petnames").get(n.pub).on(async a=>{o.value=await i.decrypt(a)})}),A(()=>i.is,a=>{a||(t.value="",o.value="")});function g(){n.selectable&&(B.pub=n.pub)}return(a,d)=>(l(),r("div",{class:"frame p-2px flex items-center rounded-full bg-light-900 dark-bg-dark-200 cursor-pointer shadow transition duration-400 ease-in",style:b({backgroundColor:e.pub?s(k).dark?s(u).hex(e.pub):s(h).hex(e.pub):"transparent",flexDirection:e.vertical?"column":"row"}),title:e.showName?o.value?o.value:e.pub:t.value,onClick:d[0]||(d[0]=V=>g())},[C(s(y),{pub:e.pub,size:e.size},null,8,["pub","size"]),e.showName&&t.value?(l(),r("div",E,p(t.value),1)):v("",!0),t.value&&!e.showName?(l(),r("div",{key:1,class:"tip mx-2 font-bold text-sm max-w-8ch overflow-ellipsis overflow-hidden whitespace-nowrap absolute opacity-0 hover-opacity-100 transition-all duration-300 ease-in text-center transform translate-y-2 p-1 rounded-lg",style:b({transform:`translateY(${-e.size-5}px) translateX(-50%)`,backgroundColor:s(u).hex(e.pub)})},p(t.value),5)):v("",!0),S(a.$slots,"default",{},void 0,!0)],12,$))}});const Q=D(U,[["__scopeId","data-v-b7b96d95"]]);export{Q as default};
