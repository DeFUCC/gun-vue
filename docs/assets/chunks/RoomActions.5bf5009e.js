import{I as m,a as x,b2 as R,bf as w,bg as C,D as $}from"./components.5cea098c.js";import{x as g,o as e,c as n,e as o,I as _,E as t}from"./framework.e76a7413.js";import"../app.0201bdfc.js";import"./theme.10cdc4d6.js";const B={class:"flex flex-wrap items-center gap-2"},E=t("div",{class:"i-la-tools"},null,-1),N=t("div",{class:"ml-2"},"Renew",-1),j=[E,N],I=t("div",{class:"i-la-download"},null,-1),S=t("div",{class:"ml-2"},"Keys",-1),V=[I,S],A={key:2,class:"flex flex-wrap py-4"},D=t("div",{class:"i-ion-enter-outline"},null,-1),F=t("div",{class:"ml-2"},"Enter",-1),J=[D,F],K=t("div",{class:"i-ion-exit-outline"},null,-1),L=t("div",{class:"ml-2"},"Leave",-1),O=[K,L],G={__name:"RoomActions",props:{pub:{type:String,default:m.pub}},setup(f){const u=f,{user:i}=x(),{room:l,leaveRoom:h,enterRoom:k}=R(u.pub),d=g(()=>u.pub?u.pub:m.pub);async function y(b){var a;const s=await i.decrypt(b);$(JSON.stringify(s),"application/json",`room-${(a=l.profile)==null?void 0:a.name}.json`)}return(b,s)=>{var a,v;return e(),n("div",B,[(a=o(l).hosts)!=null&&a[o(i).pub]?(e(),n("button",{key:0,class:"button",onClick:s[0]||(s[0]=p=>{var c,r;return o(w)((r=(c=o(l).hosts)==null?void 0:c[o(i).pub])==null?void 0:r.enc)})},j)):_("",!0),(v=o(l).hosts)!=null&&v[o(i).pub]?(e(),n("button",{key:1,class:"button",onClick:s[1]||(s[1]=p=>{var c,r;return y((r=(c=o(l).hosts)==null?void 0:c[o(i).pub])==null?void 0:r.enc)})},V)):_("",!0),o(d)!=o(C).pub?(e(),n("div",A,[o(m).pub!==o(d)?(e(),n("button",{key:0,class:"button",onClick:s[2]||(s[2]=p=>o(k)(o(d)))},J)):(e(),n("button",{key:1,class:"button",onClick:s[3]||(s[3]=p=>o(h)())},O))])):_("",!0)])}}};export{G as default};
