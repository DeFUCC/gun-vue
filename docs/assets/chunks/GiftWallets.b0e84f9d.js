import{x as V,b as v,f as _,o as u,c,E as l,F as g,U as A,G as $,H as y,e as o,I as b,N as B,L as m,as as w,at as x}from"./framework.29bd70f6.js";import{a as D,o as E,an as k,U as I,ao as L}from"./components.fd82ec8a.js";import"../app.ec2fd68a.js";import{C as q,c as G}from"./currencies.683c928a.js";import"./theme.4cee43e1.js";const N={class:"flex flex-col gap-2"},R={class:"flex flex-col gap-2"},S=["onClick"],j={class:"p-2"},O=l("div",{class:"text-xl"},"Add a new wallet",-1),Y={class:"grid grid-cols-2 gap-2",style:{"grid-template-columns":"1fr 6fr"}},F=l("div",{class:"p-2"},"Currency",-1),H=l("div",{class:"p-2"},"Account",-1),M=l("div",{class:"p-2"},"URL",-1),T=l("div",{class:"p-2"},"PREVIEW",-1),Z={__name:"GiftWallets",props:{pub:{type:String,default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk"},activeWallet:{type:Object,default:()=>({})}},emits:["wallet","clear"],setup(n,{emit:z}){const f=n,{user:d}=D(),i=E();V(()=>d.pub==f.pub);const p=v({});i.user(f.pub).get("wallets").map().on((a,t)=>{if(!a){delete p[t];return}let e={...a};delete e._,p[t]=e});const r=_(),s=v({currency:"",account:"",url:""});function C(){const a=L();i.user().get("wallets").get(a).put(s),r.value=!1}function h(a){console.log(a),i.user().get("wallets").get(a).put(null)}return(a,t)=>(u(),c(g,null,[l("div",N,[l("div",R,[(u(!0),c(g,null,A(p,(e,U)=>(u(),$(o(k),{class:"cursor-pointer",key:e,wallet:e,style:B({backgroundColor:e==n.activeWallet?"#3333":""}),onClick:W=>e!=n.activeWallet?a.$emit("wallet",e):a.$emit("clear")},{default:y(()=>[o(d).pub==n.pub?(u(),c("div",{key:0,class:"i-la-trash-alt opacity-40 hover-opacity-90",onClick:W=>h(U)},null,8,S)):b("",!0)]),_:2},1032,["wallet","style","onClick"]))),128))]),o(d).pub==n.pub?(u(),c("button",{key:0,class:"button",onClick:t[0]||(t[0]=e=>r.value=!0)},"Add a wallet")):b("",!0)]),m(o(I),{open:r.value,onClose:t[5]||(t[5]=e=>r.value=!1)},{default:y(()=>[l("div",j,[O,l("div",Y,[F,m(o(q),{class:"rounded-xl",modelValue:s.currency,"onUpdate:modelValue":t[1]||(t[1]=e=>s.currency=e),options:o(G),"append-to-body":!0,placeholder:"Your account currency",taggable:!0,"push-tags":!0},null,8,["modelValue","options"]),H,w(l("textarea",{class:"shadow-lg rounded-xl p-2","onUpdate:modelValue":t[2]||(t[2]=e=>s.account=e),type:"text",placeholder:"Your account details"},null,512),[[x,s.account]]),M,w(l("input",{class:"shadow-lg rounded-xl p-2","onUpdate:modelValue":t[3]||(t[3]=e=>s.url=e),type:"text",placeholder:"Link to the payment gateway"},null,512),[[x,s.url]]),T,m(o(k),{wallet:s},null,8,["wallet"]),l("button",{class:"button col-span-2",onClick:t[4]||(t[4]=e=>C())},"Add the wallet")])])]),_:1},8,["open"])],64))}};export{Z as default};
