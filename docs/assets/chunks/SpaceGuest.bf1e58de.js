import{a as y,m as h,p as k,bn as g,o as x}from"./components.5cea098c.js";import{d as S,x as o,o as v,c as N,L as w,e as t,E as n,N as B}from"./framework.e76a7413.js";import"../app.0201bdfc.js";import"./theme.10cdc4d6.js";const O=["opacity"],U=["fill","stroke"],z=["xlink:href"],T=S({__name:"SpaceGuest",props:{pub:{type:String,default:""},status:{type:String,default:""},pos:{type:Object,default:()=>({x:0,y:0})},mouse:{type:Object,default:()=>({x:0,y:0})},pulse:{type:Number,default:0},size:{type:Number,default:100}},emits:["updateStatus"],setup(e){const s=e,{user:u}=y(),i=1e4,p=o(()=>Date.now()-Number(s.pulse)),c=o(()=>p.value>i),d=h(),l=o(()=>d.hex(s.pub)),{avatar:m,blink:f}=k(()=>s.pub,()=>s.size);return(b,a)=>(v(),N("g",{class:"guest",opacity:t(c)?.1:1},[w(t(g),{class:"opacity-20 hover-opacity-90 transition font-mono",content:e.status,onUpdate:a[0]||(a[0]=r=>b.$emit("updateStatus",r)),editable:t(u).pub==e.pub,"max-row-length":30,"line-height":22},null,8,["content","editable"]),n("g",{class:"avatar",onClick:a[1]||(a[1]=r=>t(x).pub=e.pub)},[n("circle",{class:"transition duration-1000 ease-out",style:B({filter:"url(#shadowButton)"}),r:26,fill:t(l),"stroke-width":"8","stroke-opacity":"0.5",stroke:t(f)?t(l):"transparent"},null,12,U),n("image",{"xlink:href":t(m),x:"-25",y:"-25",height:"50",width:"50","clip-path":"url(#mask)"},null,8,z)])],8,O))}});export{T as default};
