import{h as p,j as m,u as h}from"./components.D71Jr3ti.js";import{ah as l,h as n,s as g}from"./framework.BtfQKcS5.js";let a=Date.now();function j({TIMEOUT:r=1e4}={}){const i=p(),e=l({}),s=l({}),o=l({}),f=l({total:n(()=>Object.keys(e).length),online:n(()=>Object.keys(s).length),offline:n(()=>Object.keys(o).length)});return i.user(m.pub).get("space").map().once((t,u)=>{const{account:c}=h(u);e[u]=c,e[u].order=n(()=>a-c.value.pulse<r?1:a-c.value.pulse),e[u].online=n(()=>a-c.value.pulse<r)}),g(()=>{for(let t in e)e[t].online.value?(s[t]=e[t],delete o[t]):(o[t]=e[t],delete s[t])}),{guests:e,online:s,offline:o,count:f}}export{j as u};
