import{h as p,j as m,u as g}from"./components.BVdgfkYk.js";import{ai as l,h as n,x as h}from"./framework.HF1qYBJ2.js";let a=Date.now();function v({TIMEOUT:r=1e4}={}){const i=p(),e=l({}),s=l({}),o=l({}),f=l({total:n(()=>Object.keys(e).length),online:n(()=>Object.keys(s).length),offline:n(()=>Object.keys(o).length)});return i.user(m.pub).get("space").map().once((t,u)=>{const{account:c}=g(u);e[u]=c,e[u].order=n(()=>a-c.value.pulse<r?1:a-c.value.pulse),e[u].online=n(()=>a-c.value.pulse<r)}),h(()=>{for(let t in e)e[t].online?(s[t]=e[t],delete o[t]):(o[t]=e[t],delete s[t])}),{guests:e,online:s,offline:o,count:f}}export{v as u};
