import{a as b,m as y,p as h,bx as k,o as g}from"./components.Dl01snlO.js";import{d as v,h as o,o as x,c as S,I as w,m as t,l,P as N}from"./framework.BQ1aRZM4.js";import"./theme.CGMZLven.js";const B=["opacity"],O=["fill","stroke"],U=["xlink:href"],z=1e4,E=v({__name:"SpaceGuest",props:{pub:{type:String,default:""},status:{type:String,default:""},pos:{type:Object,default:()=>({x:0,y:0})},mouse:{type:Object,default:()=>({x:0,y:0})},pulse:{type:Number,default:0},size:{type:Number,default:100}},emits:["updateStatus"],setup(e){const s=e,{user:r}=b(),i=o(()=>Date.now()-Number(s.pulse)),p=o(()=>i.value>z),c=y(),n=o(()=>c.hex(s.pub)),{avatar:d,blink:m}=h(()=>s.pub,()=>s.size);return(f,a)=>(x(),S("g",{class:"guest",opacity:p.value?.1:1},[w(t(k),{class:"opacity-20 hover-opacity-90 transition font-mono",content:e.status,onUpdate:a[0]||(a[0]=u=>f.$emit("updateStatus",u)),editable:t(r).pub==e.pub,"max-row-length":30,"line-height":22},null,8,["content","editable"]),l("g",{class:"avatar",onClick:a[1]||(a[1]=u=>t(g).pub=e.pub)},[l("circle",{class:"transition duration-1000 ease-out",style:N({filter:"url(#shadowButton)"}),r:26,fill:n.value,"stroke-width":"8","stroke-opacity":"0.5",stroke:t(m)?n.value:"transparent"},null,12,O),l("image",{"xlink:href":t(d),x:"-25",y:"-25",height:"50",width:"50","clip-path":"url(#mask)"},null,8,U)])],8,B))}});export{E as default};
