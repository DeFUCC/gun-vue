import{g as V,aj as y,h as A,o,c as n,k as l,F as m,E as g,b as D,w as k,m as r,e as b,O as $,I as w,t as B,aN as E,aE as v,aF as x}from"./framework.rP7snUOj.js";import{a as S,n as I,at as _,V as j,au as q}from"./components.lsXtGw5O.js";import"../app.xYDEA0S0.js";import{c as L}from"./currencies.nmr5HlmB.js";import"./theme.kNHa_nSU.js";const N={class:"flex flex-col gap-2"},O={class:"flex flex-col gap-2"},R=["onClick"],F={class:"p-2"},G=l("div",{class:"text-xl"},"Add a new wallet",-1),M={class:"grid grid-cols-2 gap-2",style:{"grid-template-columns":"1fr 6fr"}},Y=l("div",{class:"p-2"},"Currency",-1),T=["value"],z=l("div",{class:"p-2"},"Account",-1),H=l("div",{class:"p-2"},"URL",-1),K=l("div",{class:"p-2"},"PREVIEW",-1),te={__name:"GiftWallets",props:{pub:{type:String,default:"OKrDaDeD8VeA27d673RqlodSnebnaDq6Ci23Ys_ABWE.q8fI2lkxO46R8TMjeUeAf7I0yBS5mdH_Cb9_285Wkqk"},activeWallet:{type:Object,default:()=>({})}},emits:["wallet","clear"],setup(u,{emit:P}){const f=u,{user:i}=S(),d=I();V(()=>i.pub==f.pub);const p=y({});d.user(f.pub).get("wallets").map().on((a,t)=>{if(!a){delete p[t];return}let e={...a};delete e._,p[t]=e});const c=A(),s=y({currency:"",account:"",url:""});function C(){const a=q();d.user().get("wallets").get(a).put(s),c.value=!1}function h(a){console.log(a),d.user().get("wallets").get(a).put(null)}return(a,t)=>(o(),n(m,null,[l("div",N,[l("div",O,[(o(!0),n(m,null,g(p,(e,W)=>(o(),D(r(_),{class:"cursor-pointer",key:e,wallet:e,style:$({backgroundColor:e==u.activeWallet?"#3333":""}),onClick:U=>e!=u.activeWallet?a.$emit("wallet",e):a.$emit("clear")},{default:k(()=>[r(i).pub==u.pub?(o(),n("div",{key:0,class:"i-la-trash-alt opacity-40 hover-opacity-90",onClick:U=>h(W)},null,8,R)):b("",!0)]),_:2},1032,["wallet","style","onClick"]))),128))]),r(i).pub==u.pub?(o(),n("button",{key:0,class:"button",onClick:t[0]||(t[0]=e=>c.value=!0)},"Add a wallet")):b("",!0)]),w(r(j),{open:c.value,onClose:t[5]||(t[5]=e=>c.value=!1)},{default:k(()=>[l("div",F,[G,l("div",M,[Y,v(l("select",{class:"rounded-xl dark-bg-dark-100 p-2","onUpdate:modelValue":t[1]||(t[1]=e=>s.currency=e),placeholder:"Your account currency"},[(o(!0),n(m,null,g(r(L),e=>(o(),n("option",{key:e,value:e},B(e),9,T))),128))],512),[[E,s.currency]]),z,v(l("textarea",{class:"shadow-lg rounded-xl p-2","onUpdate:modelValue":t[2]||(t[2]=e=>s.account=e),type:"text",placeholder:"Your account details"},null,512),[[x,s.account]]),H,v(l("input",{class:"shadow-lg rounded-xl p-2","onUpdate:modelValue":t[3]||(t[3]=e=>s.url=e),type:"text",placeholder:"Link to the payment gateway"},null,512),[[x,s.url]]),K,w(r(_),{wallet:s},null,8,["wallet"]),l("button",{class:"button col-span-2",onClick:t[4]||(t[4]=e=>C())},"Add the wallet")])])]),_:1},8,["open"])],64))}};export{te as default};
