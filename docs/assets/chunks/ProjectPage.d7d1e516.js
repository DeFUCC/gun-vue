import{x as y,f as m,w,o as s,c as l,E as g,e,I as p,G as C,L as f,N,as as P,at as T}from"./framework.29bd70f6.js";import{a as $,I as j,af as B,aZ as F,aC as I,a_ as M,a$ as U}from"./components.fd82ec8a.js";import"../app.ec2fd68a.js";import"./theme.4cee43e1.js";const V={class:"flex flex-col"},E=["value"],L={class:"flex flex-col gap-2 m-2 bg-light-200 dark-bg-dark-400 p-2 rounded-xl shadow relative"},z=["innerHTML"],Z={__name:"ProjectPage",props:{path:{type:String,default:""}},emits:["gift","user"],setup(v,{emit:D}){const c=v,{user:x}=$(),k=j(),{project:o,updateField:n,updateCover:b}=B(c.path),r=y(()=>c.path.includes(x.pub)),u=m(!1),i=m(o.text);return w(()=>o.text,d=>{i.value=d}),F(),(d,t)=>(s(),l("div",V,[g("div",{class:"p-2 relative",style:N({background:`url(${e(o).cover}) center`,backgroundColor:e(o).color,paddingTop:e(o).cover||e(o).color?"120px":""})},[e(r)?(s(),l("input",{key:0,class:"absolute top-4 right-4",type:"color",value:e(o).color,onInput:t[0]||(t[0]=a=>e(n)("color",a.target.value))},null,40,E)):p("",!0),e(r)?(s(),C(e(I),{key:1,onUpdate:t[1]||(t[1]=a=>e(b)(a))})):p("",!0),f(e(M),{text:e(o).title,editable:e(r),onUpdate:t[2]||(t[2]=a=>e(n)("title",a))},null,8,["text","editable"])],4),g("div",L,[e(r)?(s(),l("div",{key:0,class:"i-la-pen cursor-pointer text-2xl absolute top-2 right-2 z-2",onClick:t[3]||(t[3]=a=>u.value=!u.value)})):p("",!0),!u.value||!e(r)?(s(),l("div",{key:1,class:"p-2 markdown-body text-base prose prose-truegray dark-bg-dark-400",innerHTML:e(k).render(i.value||"")},null,8,z)):P((s(),l("textarea",{key:2,class:"dark-bg-dark-400","onUpdate:modelValue":[t[4]||(t[4]=a=>i.value=a),t[5]||(t[5]=a=>e(n)("text",a))]},null,512)),[[T,i.value]])]),f(e(U),{path:v.path,enabled:e(o).funding,onEnable:t[6]||(t[6]=a=>e(n)("funding","true")),onGift:t[7]||(t[7]=a=>d.$emit("gift",a))},null,8,["path","enabled"])]))}};export{Z as default};
