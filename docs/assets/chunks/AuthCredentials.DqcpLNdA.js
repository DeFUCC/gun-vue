import{d as $,p as k,aQ as N,aR as P,h as x,k as t,o as l,c as a,j as s,G as m,t as B,N as T,n as j,e as u,w as f,T as q,b as _,aO as A,r as E}from"./framework.BhkIoD7n.js";import{a as G,B as O,D as Q,E as V,G as z}from"./components.uLkgiBox.js";import"./theme.CY_Hf4tR.js";const D={key:0,class:"flex flex-col items-stretch pb-4 border-1 border-dark-100 border-opacity-10 max-w-120 mx-auto dark-bg-dark-200"},J={key:0,class:"flex p-4 items-center bg-dark-100 bg-opacity-20 mt-2 shadow-inset"},R={key:0,class:"i-la-lock"},F={key:1,class:"i-la-unlock"},K={class:"text-sm"},L={class:"flex flex-wrap"},U={key:0,class:"px-2"},Y={key:1,class:"px-2"},h=["href"],H={key:1,class:"flex w-full justify-center mt-4"},I=["value"],te=$({__name:"AuthCredentials",emits:["close"],setup(M,{emit:W}){const o=k("pass"),{user:p}=G();function c(r){o.value!=r?o.value=r:o.value=null}const{pass:i}=O(),{text:X,copy:y,copied:b,isSupported:C}=N(),{share:w,isSupported:S}=P(),n=k(!0),v=x(()=>{var r;return n.value?(r=i==null?void 0:i.safe)==null?void 0:r.enc:JSON.stringify(p.pair())}),g=x(()=>n.value?i.links.pass:i.links.pair);return(r,e)=>t(p).is?(l(),a("div",D,[e[14]||(e[14]=s("div",{class:"mt-4 mx-6"},"Please make sure to safely store your cryptographic keypair to be able to use it again later",-1)),m(t(Q)),v.value?(l(),a("div",J,[s("div",{class:"flex flex-col w-34 items-center",style:T({color:n.value?"green":"red"})},[s("button",{class:"m-2 button text-2xl",onClick:e[0]||(e[0]=d=>n.value=!n.value)},[n.value?(l(),a("div",R)):(l(),a("div",F))]),s("div",K,B(n.value?"Encrypted":"Plain Text"),1),e[7]||(e[7]=s("div",{class:"text-m"},"Key Pair",-1))],4),s("div",L,[t(S)?(l(),a("button",{key:0,class:j(["m-2 button items-center",{active:o.value=="pass"}]),onClick:e[1]||(e[1]=d=>t(w)({title:"Your key pair",text:v.value}))},e[8]||(e[8]=[s("div",{class:"i-la-share"},null,-1),s("div",{class:"px-1"},"Share",-1)]),2)):u("",!0),t(C)?(l(),a("button",{key:1,class:"m-2 button items-center",onClick:e[2]||(e[2]=d=>t(y)(v.value))},[e[9]||(e[9]=s("div",{class:"i-la-copy"},null,-1)),m(q,{name:"fade"},{default:f(()=>[t(b)?(l(),a("div",U,"Copied!")):(l(),a("div",Y,"Copy"))]),_:1})])):u("",!0),s("a",{class:"m-2 button items-center",href:g.value,target:"_blank",onClick:e[3]||(e[3]=d=>c("links"))},e[10]||(e[10]=[s("div",{class:"i-la-link"},null,-1),s("div",{class:"px-2"},"Link",-1)]),8,h),s("button",{class:"m-2 button items-center",onClick:e[4]||(e[4]=d=>c("qr"))},e[11]||(e[11]=[s("div",{class:"i-la-qrcode"},null,-1),s("div",{class:"px-2"},"QR",-1)])),s("button",{class:"m-2 button items-center",onClick:e[5]||(e[5]=d=>c("key"))},e[12]||(e[12]=[s("div",{class:"i-la-envelope-open-text"},null,-1),s("div",{class:"px-2"},"Text",-1)])),s("button",{class:"m-2 button items-center",onClick:e[6]||(e[6]=d=>{t(V)(v.value,"text/json",(t(p).name||"account")+".json",!1),o.value=null})},e[13]||(e[13]=[s("div",{class:"i-la-file-code"},null,-1),s("div",{class:"px-2"},"JSON",-1)]))])])):u("",!0),o.value?(l(),a("div",H,[m(A,{name:"fade"},{default:f(()=>[o.value=="key"?(l(),a("textarea",{class:"p-4 text-sm flex-1 rounded-xl",key:"text",rows:"9",value:v.value},null,8,I)):u("",!0),o.value=="qr"?(l(),_(t(z),{class:"max-w-600px",key:"qr",data:n.value?t(i).links.pass:t(i).links.pair},null,8,["data"])):u("",!0)]),_:1})])):u("",!0),E(r.$slots,"default")])):u("",!0)}});export{te as default};
