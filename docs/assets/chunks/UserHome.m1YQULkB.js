import{a as c,bB as b,V as p,bC as v,bD as k,bE as y,bF as w}from"./components.lsXtGw5O.js";import"../app.xYDEA0S0.js";import{d as C,h as $,y as _,o as r,c as m,I as n,w as u,m as s,k as a,b as f,e as g,r as x,a as B,O as U}from"./framework.rP7snUOj.js";import"./theme.kNHa_nSU.js";const h={class:"flex flex-col items-center w-full"},V=a("div",{class:"i-la-check"},null,-1),N=a("div",{class:"ml-2"},"I've stored my key securely",-1),S=[V,N],A={key:1,class:"flex flex-col"},E={class:"p-4 flex flex-col items-start"},F=C({__name:"UserHome",emits:["user","room","close","chat","browse"],setup(I,{emit:L}){const{user:t}=c();function d(){t.db.get("safe").get("saved").put(!0)}const i=$(!1);return _(()=>t.is,()=>{t.db.get("safe").get("saved").on(o=>i.value=o)},{immediate:!0}),(o,e)=>(r(),m("div",h,[n(s(p),{open:s(t).is&&!i.value,"close-button":"",onClose:e[1]||(e[1]=l=>d())},{default:u(()=>[i.value?g("",!0):(r(),f(s(b),{key:0},{default:u(()=>[a("button",{class:"button mx-8 justify-center",onClick:e[0]||(e[0]=l=>d())},S)]),_:1}))]),_:1},8,["open"]),s(t).is?(r(),m("div",A,[n(s(k),{onBrowse:e[2]||(e[2]=l=>{o.$emit("browse",l),o.$emit("close")})}),a("div",E,[n(s(y)),n(s(w),{onBrowse:e[3]||(e[3]=l=>o.$emit("room",l))})]),a("button",{class:"p-4 m-4 rounded-xl font-bold text-lg shadow-md",style:U({backgroundColor:s(t).color}),onClick:e[4]||(e[4]=l=>{o.$emit("user",s(t).pub),o.$emit("close")})},[x(o.$slots,"default",{},()=>[B(" My public profile")])],4)])):(r(),f(s(v),{key:0}))]))}});export{F as default};
