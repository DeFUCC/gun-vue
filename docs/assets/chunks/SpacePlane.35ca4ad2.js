import{f as et,q as vt,m as yt,p as st,D as wt,e as o,d as _t,w as bt,al as St,J as O,o as v,c as b,N as xt,I as Tt,L as Y,E as g,t as It,F as K,U as B,n as kt,G as U,K as Dt,H as Et}from"./framework.29bd70f6.js";import{a as Ct,n as Ot,bi as Pt,bj as Mt,p as S,bk as $t}from"./components.fd82ec8a.js";import{o as Lt}from"./theme.4cee43e1.js";import"../app.ec2fd68a.js";function At(){try{return"constructor"in GestureEvent}catch{return!1}}function nt(){return typeof window<"u"&&"ontouchstart"in window}function rt(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function it(e){return Array.from(rt(e)).map(t=>t.identifier)}function F(e){const t="buttons"in e?e.buttons:0,{shiftKey:s,altKey:n,metaKey:r,ctrlKey:i}=e;return{buttons:t,shiftKey:s,altKey:n,metaKey:r,ctrlKey:i}}const zt=e=>e;function H(e,t=zt){const s=rt(e),{clientX:n,clientY:r}=s?s[0]:e;return t([n,r])}function ot(){}function at(...e){return e.length===0?ot:e.length===1?e[0]:function(){var t;for(let s of e)t=s.apply(this,arguments)||t;return t}}function x(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function X(e,...t){return typeof e=="function"?e(...t):e}function P(e){return{_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:ot,canceled:!1,memo:void 0,args:void 0,...e}}function lt(){const e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=P({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),s=P({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),n=P({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),r=P({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),i=P({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:s,wheel:n,move:r,scroll:i}}class Gt{constructor(t){this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=nt(),this.supportsGestureEvents=At(),this.bind=(...s)=>{const n={};for(let r of this.classes)new r(this,s).addBindings(n);for(let r in this.nativeRefs)y(n,r,i=>this.nativeRefs[r]({...this.state.shared,event:i,args:s}));return this.config.domTarget?Rt(this,n):Vt(this,n)},this.clean=()=>{const{eventOptions:s,domTarget:n}=this.config,r=o(n);r&&M(r,ct(this.domListeners),s),Object.values(this.timeouts).forEach(clearTimeout),Ut(this)},this.classes=t,this.state=lt(),this.timeouts={},this.domListeners=[],this.windowListeners={}}}function Kt(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(it(t))}function Bt(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):it(t).forEach(s=>e.touchIds.delete(s))}function Ut(e){const{config:{window:t,eventOptions:s},windowListeners:n}=e,r=o(t);if(r){for(let i in n){const l=n[i];M(r,l,s)}e.windowListeners={}}}function jt({config:e,windowListeners:t},s,n=e.eventOptions){const r=o(e.window);r&&(M(r,t[s],n),delete t[s])}function Nt({config:e,windowListeners:t},s,n=[],r=e.eventOptions){const i=o(e.window);i&&(M(i,t[s],r),ut(i,t[s]=n,r))}function Rt({config:e,domListeners:t},s){const{eventOptions:n,domTarget:r}=e,i=o(r);if(!i)throw new Error("domTarget must be defined");M(i,ct(t),n);for(let[l,a]of Object.entries(s)){const c=l.slice(2).toLowerCase();t.push([c,at(...a)])}ut(i,t,n)}function Vt({config:e},t){const s={},n=e.eventOptions.capture?"Capture":"";for(let[r,i]of Object.entries(t)){const l=Array.isArray(i)?i:[i],a=r+n;s[a]=at(...l)}return s}function ct(e=[]){return e.splice(0,e.length)}function y(e,t,s){e[t]||(e[t]=[]),e[t].push(s)}function ut(e,t=[],s={}){if(e)for(let[n,r]of t)e.addEventListener(n,r,s)}function M(e,t=[],s={}){if(e)for(let[n,r]of t)e.removeEventListener(n,r,s)}function N(e,t){return e.map((s,n)=>s+t[n])}function ft(e,t){return e.map((s,n)=>s-t[n])}function R(e){return Math.hypot(...e)}function Wt(e,t,s){const n=R(t),r=n===0?0:1/n,i=s===0?0:1/s,l=i*n,a=t.map(h=>i*h),c=t.map(h=>r*h),u=R(e);return{velocities:a,velocity:l,distance:u,direction:c}}function V(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function Yt(e,t,s){return Math.max(t,Math.min(e,s))}function Ft(e,t){return Math.pow(e,t*5)}function q(e,t,s){return t===0||Math.abs(t)===1/0?Ft(e,s):e*t*s/(t+s*e)}function J(e,t,s,n=.15){return n===0?Yt(e,t,s):e<t?-q(t-e,s-t,n)+t:e>s?+q(e-s,s-t,n)+s:e}const T=new Map,Ht=e=>e;class Xt{constructor(t,s=[]){this.controller=t,this.args=s,this.debounced=!0,this.setTimeout=(n,r=140,...i)=>{clearTimeout(this.controller.timeouts[this.stateKey]),this.controller.timeouts[this.stateKey]=window.setTimeout(n,r,...i)},this.clearTimeout=()=>{clearTimeout(this.controller.timeouts[this.stateKey])},this.fireGestureHandler=(n=!1)=>{if(this.state._blocked)return this.debounced||(this.state._active=!1,this.clean()),null;if(!n&&!this.state.intentional&&!this.config.triggerAllEvents)return null;if(this.state.intentional){const c=this.state.active,u=this.state._active;this.state.active=u,this.state.first=u&&!c,this.state.last=c&&!u,this.controller.state.shared[this.ingKey]=u}const r=this.controller.pointerIds.size||this.controller.touchIds.size,i=this.controller.state.shared.buttons>0||r>0,l={...this.controller.state.shared,...this.state,...this.mapStateValues(this.state),locked:!!document.pointerLockElement,touches:r,down:i},a=this.handler(l);return this.state.memo=a!==void 0?a:this.state.memo,l},this.controller=t,this.args=s}get config(){return this.controller.config[this.stateKey]}get enabled(){return this.controller.config.enabled&&this.config.enabled}get state(){return this.controller.state[this.stateKey]}get handler(){return this.controller.handlers[this.stateKey]}get transform(){return this.config.transform||this.controller.config.transform||Ht}updateSharedState(t){Object.assign(this.controller.state.shared,t)}updateGestureState(t){Object.assign(this.state,t)}checkIntentionality(t,s){return{_intentional:t,_blocked:!1}}getMovement(t){const{rubberband:s,threshold:n}=this.config,{_bounds:r,_initial:i,_active:l,_intentional:a,lastOffset:c,movement:u}=this.state,h=this.getInternalMovement(t,this.state),I=this.transform(n).map(Math.abs),k=a[0]===!1?Q(h[0],I[0]):a[0],D=a[1]===!1?Q(h[1],I[1]):a[1],w=this.checkIntentionality([k,D],h);if(w._blocked)return{...w,_movement:h,delta:[0,0]};const m=w._intentional,E=h;let _=[m[0]!==!1?h[0]-m[0]:0,m[1]!==!1?h[1]-m[1]:0];const C=N(_,c),$=l?s:[0,0];return _=Z(r,N(_,i),$),{...w,intentional:m[0]!==!1||m[1]!==!1,_initial:i,_movement:E,movement:_,values:t,offset:Z(r,C,$),delta:ft(_,u)}}clean(){this.clearTimeout()}}function Q(e,t){return Math.abs(e)>=t?V(e)*t:!1}function Z(e,[t,s],[n,r]){const[[i,l],[a,c]]=e;return[J(t,i,l,n),J(s,a,c,r)]}function j({state:e},t,s){const{timeStamp:n,type:r}=t,i=e.values,l=s?0:n-e.startTime;return{_lastEventType:r,event:t,timeStamp:n,elapsedTime:l,previous:i}}function qt({state:e,config:t,stateKey:s,args:n},r,i){const l=e.offset,a=i.timeStamp,{initial:c,bounds:u}=t,h={...lt()[s],_active:!0,args:n,values:r,initial:r,offset:l,lastOffset:l,startTime:a};return{...h,_initial:X(c,h),_bounds:X(u,h)}}class Jt extends Xt{getInternalMovement(t,s){return ft(t,s.initial)}checkIntentionality(t,s){if(t[0]===!1&&t[1]===!1)return{_intentional:t,axis:this.state.axis};const[n,r]=s.map(Math.abs),i=this.state.axis||(n>r?"x":n<r?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:t,_blocked:!1,axis:i}:i?this.config.axis&&i!==this.config.axis?{_intentional:t,_blocked:!0,axis:i}:(t[i==="x"?1:0]=!1,{_intentional:t,_blocked:!1,axis:i}):{_intentional:[!1,!1],_blocked:!1,axis:i}}getKinematics(t,s){const n=this.getMovement(t);if(!n._blocked){const r=s.timeStamp-this.state.timeStamp;Object.assign(n,Wt(n.movement,n.delta,r))}return n}mapStateValues(t){return{xy:t.values,vxvy:t.velocities}}}const Qt=3;function tt(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}class Zt extends Jt{constructor(){super(...arguments),this.ingKey="dragging",this.stateKey="drag",this.setPointerCapture=t=>{if(this.config.useTouch||document.pointerLockElement)return;const{target:s,pointerId:n}=t;s&&"setPointerCapture"in s&&s.setPointerCapture(n),this.updateGestureState({_dragTarget:s,_dragPointerId:n})},this.releasePointerCapture=()=>{if(this.config.useTouch||document.pointerLockElement)return;const{_dragTarget:t,_dragPointerId:s}=this.state;if(s&&t&&"releasePointerCapture"in t&&(!("hasPointerCapture"in t)||t.hasPointerCapture(s)))try{t.releasePointerCapture(s)}catch{}},this.preventScroll=t=>{this.state._dragPreventScroll&&t.cancelable&&t.preventDefault()},this.getEventId=t=>this.config.useTouch?t.changedTouches[0].identifier:t.pointerId,this.isValidEvent=t=>this.state._pointerId===this.getEventId(t),this.shouldPreventWindowScrollY=this.config.preventWindowScrollY&&this.controller.supportsTouchEvents,this.setUpWindowScrollDetection=t=>{tt(t),Nt(this.controller,this.stateKey,[["touchmove",this.preventScroll],["touchend",this.clean.bind(this)],["touchcancel",this.clean.bind(this)]],{passive:!1}),this.setTimeout(this.startDrag.bind(this),250,t)},this.setUpDelayedDragTrigger=t=>{this.state._dragDelayed=!0,tt(t),this.setTimeout(this.startDrag.bind(this),this.config.delay,t)},this.setStartState=t=>{const s=H(t,this.transform);this.updateSharedState(F(t)),this.updateGestureState({...qt(this,s,t),...j(this,t,!0),_pointerId:this.getEventId(t)}),this.updateGestureState(this.getMovement(s))},this.onDragStart=t=>{Kt(this.controller,t),!(!this.enabled||this.state._active)&&(this.setStartState(t),this.setPointerCapture(t),this.shouldPreventWindowScrollY?this.setUpWindowScrollDetection(t):this.config.delay>0?this.setUpDelayedDragTrigger(t):this.startDrag(t,!0))},this.onDragChange=t=>{if(this.state.canceled||!this.state._active||!this.isValidEvent(t)||this.state._lastEventType===t.type&&t.timeStamp===this.state.timeStamp)return;let s;if(document.pointerLockElement){const{movementX:c,movementY:u}=t;s=N(this.transform([c,u]),this.state.values)}else s=H(t,this.transform);const n=this.getKinematics(s,t);if(!this.state._dragStarted){if(this.state._dragDelayed){this.startDrag(t);return}if(this.shouldPreventWindowScrollY)if(!this.state._dragPreventScroll&&n.axis)if(n.axis==="x")this.startDrag(t);else{this.state._active=!1;return}else return;else return}const r=F(t);this.updateSharedState(r);const i=j(this,t),l=R(n._movement);let{_dragIsTap:a}=this.state;a&&l>=Qt&&(a=!1),this.updateGestureState({...i,...n,_dragIsTap:a}),this.fireGestureHandler()},this.onDragEnd=t=>{if(Bt(this.controller,t),!this.isValidEvent(t)||(this.clean(),!this.state._active))return;this.state._active=!1;const s=this.state._dragIsTap,[n,r]=this.state.velocities,[i,l]=this.state.movement,[a,c]=this.state._intentional,[u,h]=this.config.swipeVelocity,[I,k]=this.config.swipeDistance,D=this.config.swipeDuration,w={...j(this,t),...this.getMovement(this.state.values)},m=[0,0];w.elapsedTime<D&&(a!==!1&&Math.abs(n)>u&&Math.abs(i)>I&&(m[0]=V(n)),c!==!1&&Math.abs(r)>h&&Math.abs(l)>k&&(m[1]=V(r))),this.updateSharedState({buttons:0}),this.updateGestureState({...w,tap:s,swipe:m}),this.fireGestureHandler(this.config.filterTaps&&s===!0)},this.clean=()=>{super.clean(),this.state._dragStarted=!1,this.releasePointerCapture(),jt(this.controller,this.stateKey)},this.onCancel=()=>{this.state.canceled||(this.updateGestureState({canceled:!0,_active:!1}),this.updateSharedState({buttons:0}),vt(this.fireGestureHandler))},this.onClick=t=>{this.state._dragIsTap||t.stopPropagation()}}startDrag(t,s=!1){!this.state._active||this.state._dragStarted||(s||this.setStartState(t),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())}addBindings(t){if(this.config.useTouch?(y(t,"onTouchStart",this.onDragStart),y(t,"onTouchMove",this.onDragChange),y(t,"onTouchEnd",this.onDragEnd),y(t,"onTouchCancel",this.onDragEnd)):(y(t,"onPointerDown",this.onDragStart),y(t,"onPointerMove",this.onDragChange),y(t,"onPointerUp",this.onDragEnd),y(t,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){const s=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";y(t,s,this.onClick)}}}function te(e,t){let s,n=[],r,i=!1;function l(...a){return i&&s===this&&t(a,n)||(r=e.apply(this,a),i=!0,s=this,n=a),r}return l}function z(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let s,n,r;if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!z(e[n],t[n]))return!1;return!0}let i;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!z(n.value[1],t.get(n.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(r=Object.keys(e),s=r.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[n]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(n=s;n--!==0;)if(!(r[n]==="_owner"&&e.$$typeof)&&!z(e[r[n]],t[r[n]]))return!1;return!0}return e!==e&&t!==t}function ee(e,t){try{return z(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}}function W(e={},t){const s={};for(const[n,r]of Object.entries(t))switch(typeof r){case"function":s[n]=r.call(s,e[n],n,e);break;case"object":s[n]=W(e[n],r);break;case"boolean":r&&(s[n]=e[n]);break}return s}const se=180,ne=.15,re=.5,ie=50,oe=250,ae={threshold(e=0){return x(e)},rubberband(e=0){switch(e){case!0:return x(ne);case!1:return x(0);default:return x(e)}},enabled(e=!0){return e},triggerAllEvents(e=!1){return e},initial(e=0){return typeof e=="function"?e:x(e)},transform:!0},ht={...ae,axis:!0,lockDirection(e=!1){return e},bounds(e={}){if(typeof e=="function")return i=>ht.bounds(e(i));const{left:t=-1/0,right:s=1/0,top:n=-1/0,bottom:r=1/0}=e;return[[t,s],[n,r]]}},le=typeof window<"u"&&window.document&&window.document.createElement,ce={enabled(e=!0){return e},domTarget:!0,window(e=le?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform:!0},ue={...ht,useTouch(e=!0){return e&&nt()},preventWindowScrollY(e=!1){return e},threshold(e,t,{filterTaps:s=!1,lockDirection:n=!1,axis:r=void 0}){const i=x(e,s?3:n||r?1:0);return this.filterTaps=s,i},swipeVelocity(e=re){return x(e)},swipeDistance(e=ie){return x(e)},swipeDuration(e=oe){return e},delay(e=0){switch(e){case!0:return se;case!1:return 0;default:return e}}};function fe(e){return W(e,ce)}function he(e={}){return W(e,ue)}function de({domTarget:e,eventOptions:t,window:s,enabled:n,...r}){const i=fe({domTarget:e,eventOptions:t,window:s,enabled:n});return i.drag=he(r),i}function pe(e,t,s={}){const n=ge(e),r=new Gt(n);return r.config=t,r.handlers=e,r.nativeRefs=s,yt()&&!t.manual&&(st(r.bind),wt(r.clean)),r}function ge(e){const t=new Set;return e.drag&&t.add(T.get("drag")),e.wheel&&t.add(T.get("wheel")),e.scroll&&t.add(T.get("scroll")),e.move&&t.add(T.get("move")),e.pinch&&t.add(T.get("pinch")),e.hover&&t.add(T.get("hover")),t}function me(e,t={}){T.set("drag",Zt);const s=et();return s.value||(s.value=te(de,ee)),pe({drag:e},s.value(t))}const ve={class:"flex flex-col items-center"},ye=["viewBox"],we=g("defs",null,[g("filter",{id:"shadowButton",x:"-50%",height:"200%",width:"300%"},[g("feDropShadow",{dx:"0",dy:"3",stdDeviation:"3","flood-color":"#2225"})]),g("clipPath",{id:"mask",clipPathUnits:"objectBoundingBox"},[g("circle",{r:".5",cx:".5",cy:".5"})])],-1),_e=["transform"],be=["innerHTML"],Se=["x","y","viewBox"],xe=["x","y","width","height"],Te={class:"link"},Ie=["x1","x2","y1","y2","stroke"],ke=["transform"],De={class:"mouse"},Ee=["fill"],Ce={class:"arrows"},Oe={class:"guests"},ze=_t({__name:"SpacePlane",props:{pad:{type:Number,default:50},coord:{type:String,default:""}},emits:["user","enter","leave","chat","update:coord"],setup(e,{emit:t}){const{user:s}=Ct();Ot("deep");const{space:n,plane:r,pos:i,zoom:l,links:a,width:c,height:u,guests:h,guestCount:I,area:k,join:D,place:w}=Pt({TIMEOUT:1e4});bt(I,(p,d)=>{p>d?t("enter"):t("leave")});const m=Lt(p=>{w({x:p[0],y:p[1]}),t("update:coord",`${p[0]},${p[1]}`)},200);me(p=>{if(!(p.delta[0]&&p.delta[1])||C.ing)return;const[d,G]=p.delta;i[0]-=d,i[1]-=G,m(i)},{domTarget:r});const E=et(),{drauu:_,draw:C,loadCanvas:$}=Mt();return st(()=>{_.mount(E.value,E.value.parentElement),$()}),St(()=>{_.unmount()}),(p,d)=>{const G=O("space-draw"),dt=O("space-arrow"),pt=O("space-guest"),gt=O("account-home"),mt=O("ui-layer");return v(),b("div",ve,[!o(n).joined&&o(s).is?(v(),b("div",{key:0,class:"text-2xl p-8 top-15vh cursor-pointer absolute rounded-3xl shadow-xl border-4",style:xt({borderColor:o(s).color}),onClick:d[0]||(d[0]=f=>{o(D)()})},"Click anywhere to join the space",4)):Tt("",!0),Y(G,{class:"z-500"}),(v(),b("svg",{class:"h-full w-full z-200 bg-dark-100 bg-opacity-5 cursor-pointer touch-none",ref_key:"plane",ref:r,xmlns:"http://www.w3.org/2000/svg",version:"1.1",baseProfile:"full","font-family":"Commissioner , sans-serif","text-anchor":"middle","dominant-baseline":"middle",viewBox:`${-e.pad+o(i)[0]-o(c)/2} ${-e.pad+o(i)[1]-o(u)/2} ${o(c)*o(l)+2*e.pad} ${o(u)*o(l)+2*e.pad}`,onClick:d[2]||(d[2]=f=>{o(s).is||(o(s).auth=!0)})},[we,g("text",{class:"text-xs","text-anchor":"end",transform:`translate(${o(i)[0]+o(c)/2-10} ${o(i)[1]-o(u)/2+20})`},It(o(i)),9,_e),(v(!0),b(K,null,B(o(h),f=>(v(),b("g",{class:"opacity-90",key:f.draw,innerHTML:f.draw},null,8,be))),128)),(v(),b("svg",{class:kt(["opacity-70",{"pointer-events-none":!o(C).enabled,"touch-none":o(C).enabled}]),ref_key:"paper",ref:E,x:o(i)[0]-o(c)/2-e.pad,y:o(i)[1]-o(u)/2-e.pad,viewBox:`${-e.pad+o(i)[0]-o(c)/2} ${-e.pad+o(i)[1]-o(u)/2} ${o(c)+2*e.pad} ${o(u)+2*e.pad}`},null,10,Se)),g("rect",{ref_key:"area",ref:k,x:o(i)[0]-o(c)/2,y:o(i)[1]-o(u)/2,rx:"12",width:o(c),height:o(u),fill:"none",stroke:"#3333","stroke-width":"1"},null,8,xe),g("g",Te,[g("line",{x1:o(i)[0],x2:o(n).my.mouse.x,y1:o(i)[1],y2:o(n).my.mouse.y,stroke:o(s).color,"stroke-dasharray":"6"},null,8,Ie)]),g("g",{class:"pointer",transform:`translate(${o(i)[0]} ${o(i)[1]})`},[g("g",De,[g("circle",{style:{filter:"url(#shadowButton)"},fill:o(s).color,r:"8"},null,8,Ee)])],8,ke),g("g",Ce,[(v(!0),b(K,null,B(o(a),(f,L)=>(v(),U(dt,{key:L,link:f,onUser:d[1]||(d[1]=A=>o(S).pub=A)},null,8,["link"]))),128))]),g("g",Oe,[(v(!0),b(K,null,B(o(h),f=>{var L,A;return v(),U(pt,Dt({class:"cursor-pointer transition-all ease-out duration-600",key:f},f,{style:{transform:`translate(${(L=f==null?void 0:f.pos)==null?void 0:L.x}px, ${(A=f==null?void 0:f.pos)==null?void 0:A.y}px)`},onClick:Pe=>o(S).pub=f.pub}),null,16,["style","onClick"])}),128))])],8,ye)),Y(mt,{class:"z-4000",open:!!o(S).pub,onClose:d[7]||(d[7]=f=>o(S).pub=null)},{default:Et(()=>[(v(),U(gt,{class:"max-w-600px",key:o(S).pub,pub:o(S).pub,onUser:d[3]||(d[3]=f=>p.$emit("user",f)),onPost:d[4]||(d[4]=f=>p.$emit("post",String(o($t)(f)))),onChat:d[5]||(d[5]=f=>p.$emit("chat",o(S).pub)),onClose:d[6]||(d[6]=f=>o(S).pub=null)},null,8,["pub"]))]),_:1},8,["open"])])}}});export{ze as default};
